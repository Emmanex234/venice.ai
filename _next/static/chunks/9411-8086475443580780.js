!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="432ba804-10f0-4f55-991b-33b7a7560971",e._sentryDebugIdIdentifier="sentry-dbid-432ba804-10f0-4f55-991b-33b7a7560971")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9411],{86297:function(e,t,n){var r=n(46220);e.exports=function(e,t){return new Promise(function(n,o){var a,i=t||{};function s(e){o(e||Error("Aborted"))}function l(e,t){if(e.bail){s(e);return}a.retry(e)?i.onRetry&&i.onRetry(e,t):o(a.mainError())}"randomize"in i||(i.randomize=!0),(a=r.operation(i)).attempt(function(t){var r;try{r=e(s,t)}catch(e){l(e,t);return}Promise.resolve(r).then(n).catch(function(e){l(e,t)})})})}},81141:function(e){"use strict";e.exports=function(e,t){return"string"==typeof e?i(e):"number"==typeof e?a(e,t):null},e.exports.format=a,e.exports.parse=i;var t=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function a(e,o){if(!Number.isFinite(e))return null;var a=Math.abs(e),i=o&&o.thousandsSeparator||"",s=o&&o.unitSeparator||"",l=o&&void 0!==o.decimalPlaces?o.decimalPlaces:2,u=!!(o&&o.fixedDecimals),c=o&&o.unit||"";c&&r[c.toLowerCase()]||(c=a>=r.pb?"PB":a>=r.tb?"TB":a>=r.gb?"GB":a>=r.mb?"MB":a>=r.kb?"KB":"B");var p=(e/r[c.toLowerCase()]).toFixed(l);return u||(p=p.replace(n,"$1")),i&&(p=p.split(".").map(function(e,n){return 0===n?e.replace(t,i):e}).join(".")),p+s+c}function i(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=o.exec(e),a="b";return(n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),isNaN(t))?null:Math.floor(r[a]*t)}},29985:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},46220:function(e,t,n){e.exports=n(94776)},94776:function(e,t,n){var r=n(95428);t.operation=function(e){return new r(t.timeouts(e),{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort(function(e,t){return e-t}),r},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],e)"function"==typeof e[o]&&r.push(o);for(var a=0;a<r.length;a++){var i=r[a],s=e[i];e[i]=(function(r){var o=t.operation(n),a=Array.prototype.slice.call(arguments,1),i=a.pop();a.push(function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),i.apply(this,arguments))}),o.attempt(function(){r.apply(e,a)})}).bind(e,s),e[i].options=n}}},95428:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],a=o.message,i=(e[a]||0)+1;e[a]=i,i>=n&&(t=o,n=i)}return t}},20940:function(e){e.exports=function(e,t){let n;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let r=0;return function(...o){clearTimeout(n);let a=Date.now(),i=t-(a-r);i<=0?(r=a,e.apply(this,o)):n=setTimeout(()=>{r=Date.now(),e.apply(this,o)},i)}}},99411:function(e,t,n){"use strict";n.d(t,{ws:function(){return es}});var r,o,a,i=n(25566);let s={toWeb(){throw Error("Vercel Blob: Sorry, we cannot get a Readable stream in this environment. If you see this message please open an issue here: https://github.com/vercel/storage/ with details on your environment.")}};var l=n(29985),u=n(86297);let c=globalThis.fetch.bind(globalThis);var p=n(81141),d=n(20940),f=n(25566),h=new Promise(e=>{try{let t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(t=>{e("hello"===t)}).catch(()=>{e(!1)})}catch{e(!1)}});async function m(e){let t;return e instanceof ReadableStream?e:e instanceof Blob?e.stream():b(e)?s.toWeb(e):(t=e instanceof ArrayBuffer?new Uint8Array(e):l(e)?e:new TextEncoder().encode(e),await h)?new Blob([t]).stream():new ReadableStream({start(e){e.enqueue(t),e.close()}})}function b(e){return"object"==typeof e&&"function"==typeof e.pipe&&e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState}var y=class extends Error{constructor(e){super(`Vercel Blob: ${e}`)}},_=["#","?","//"],g=(()=>{if(function(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if(void 0!==i){let e=i.type;return"renderer"!==e&&"worker"!==e&&!!(i.versions&&i.versions.node)}return!1}())return!0;let e=!1,t=new Request(w(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function w(e=""){let t=null;try{t=f.env.VERCEL_BLOB_API_URL||f.env.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch{}return`${t||"https://blob.vercel-storage.com"}${e}`}var v="function"==typeof TextEncoder?new TextEncoder:null;function T(e){return e?"string"==typeof e?v?v.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&"number"==typeof e.byteLength?e.byteLength:"size"in e&&"number"==typeof e.size?e.size:0:0}var E=(e,t)=>{let n=new Uint8Array(0);return new TransformStream({transform(r,o){queueMicrotask(()=>{let a=new Uint8Array(n.length+r.byteLength);for(a.set(n),a.set(new Uint8Array(r),n.length),n=a;n.length>=e;){let r=n.slice(0,e);o.enqueue(r),null==t||t(r.byteLength),n=n.slice(e)}})},flush(e){queueMicrotask(()=>{n.length>0&&(e.enqueue(n),null==t||t(n.byteLength))})}})};function x(e){return globalThis.ReadableStream&&e instanceof ReadableStream}var R=Object.prototype.toString,k=e=>"[object Error]"===R.call(e),L=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]),U=!1;try{((null==(r=f.env.DEBUG)?void 0:r.includes("blob"))||(null==(o=f.env.NEXT_PUBLIC_DEBUG)?void 0:o.includes("blob")))&&(U=!0)}catch(e){}function O(e,...t){U&&console.debug(`vercel-blob: ${e}`,...t)}var B="function"==typeof c,P=B&&g,S=async({input:e,init:t,onUploadProgress:n})=>{var r;let o;if(O("using fetch"),t.body){if(n){let e=await m(t.body),r=0,a=E(65536,e=>{n(r+=e)});o=e.pipeThrough(a)}else o=t.body}let a=g&&o&&(x(r=o)||b(r))?"half":void 0;return c(e,{...t,...t.body?{body:o}:{},duplex:a})},C="undefined"!=typeof XMLHttpRequest,A=async({input:e,init:t,onUploadProgress:n})=>{O("using xhr");let r=null;return t.body&&(r=x(t.body)?await new Response(t.body).blob():t.body),new Promise((o,a)=>{let i=new XMLHttpRequest;if(i.open(t.method||"GET",e.toString(),!0),n&&i.upload.addEventListener("progress",e=>{e.lengthComputable&&n(e.loaded)}),i.onload=()=>{var e;if(null==(e=t.signal)?void 0:e.aborted){a(new DOMException("The user aborted the request.","AbortError"));return}let n=new Headers;i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{let t=e.split(": "),r=t.shift(),o=t.join(": ");r&&n.set(r.toLowerCase(),o)}),o(new Response(i.response,{status:i.status,statusText:i.statusText,headers:n}))},i.onerror=()=>{a(TypeError("Network request failed"))},i.ontimeout=()=>{a(TypeError("Network request timed out"))},i.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},t.headers&&new Headers(t.headers).forEach((e,t)=>{i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",()=>{i.abort()}),t.signal.aborted)){i.abort();return}i.send(r)})},I=async({input:e,init:t,onUploadProgress:n})=>{if(n){if(P)return S({input:e,init:t,onUploadProgress:n});if(C)return A({input:e,init:t,onUploadProgress:n})}if(B)return S({input:e,init:t});if(C)return A({input:e,init:t});throw Error("No request implementation available")},N=null!=(a=globalThis.DOMException)?a:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),$=class extends y{constructor(){super("Access denied, please provide a valid token for this resource.")}},M=class extends y{constructor(e){super(`Content type mismatch, ${e}.`)}},q=class extends y{constructor(e){super(`Pathname mismatch, ${e}. Check the pathname used in upload() or put() matches the one from the client token.`)}},V=class extends y{constructor(){super("Client token has expired.")}},D=class extends y{constructor(e){super(`File is too large, ${e}.`)}},H=class extends y{constructor(){super("This store does not exist.")}},j=class extends y{constructor(){super("This store has been suspended.")}},X=class extends y{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},z=class extends y{constructor(){super("The requested blob does not exist")}},F=class extends y{constructor(){super("The blob service is currently not available. Please try again.")}},G=class extends y{constructor(e){super(`Too many requests please lower the number of concurrent requests ${e?` - try again in ${e} seconds`:""}.`),this.retryAfter=null!=e?e:0}},Y=class extends y{constructor(){super("The request was aborted.")}};async function W(e){var t,n,r;let o,a,i;try{let i=await e.json();o=null!=(n=null==(t=i.error)?void 0:t.code)?n:"unknown_error",a=null==(r=i.error)?void 0:r.message}catch{o="unknown_error"}switch((null==a?void 0:a.includes("contentType"))&&a.includes("is not allowed")&&(o="content_type_not_allowed"),(null==a?void 0:a.includes('"pathname"'))&&a.includes("does not match the token payload")&&(o="client_token_pathname_mismatch"),"Token expired"===a&&(o="client_token_expired"),(null==a?void 0:a.includes("the file length cannot be greater than"))&&(o="file_too_large"),o){case"store_suspended":i=new j;break;case"forbidden":i=new $;break;case"content_type_not_allowed":i=new M(a);break;case"client_token_pathname_mismatch":i=new q(a);break;case"client_token_expired":i=new V;break;case"file_too_large":i=new D(a);break;case"not_found":i=new z;break;case"store_not_found":i=new H;break;case"bad_request":i=new y(null!=a?a:"Bad request");break;case"service_unavailable":i=new F;break;case"rate_limited":i=function(e){let t=e.headers.get("retry-after");return new G(t?parseInt(t,10):void 0)}(e);break;default:i=new X}return{code:o,error:i}}async function J(e,t,n){let r=function(){let e=null;try{e=f.env.VERCEL_BLOB_API_VERSION_OVERRIDE||f.env.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch{}return`${null!=e?e:8}`}(),o=function(e){if(null==e?void 0:e.token)return e.token;if(f.env.BLOB_READ_WRITE_TOKEN)return f.env.BLOB_READ_WRITE_TOKEN;throw new y("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}(n),a=function(){let e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in f.env&&void 0!==f.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API?e["x-proxy-through-alternative-api"]=f.env.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in f.env&&void 0!==f.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API&&(e["x-proxy-through-alternative-api"]=f.env.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch{}return e}(),[,,,i=""]=o.split("_"),s=`${i}:${Date.now()}:${Math.random().toString(16).slice(2)}`,l=0,c=0,p=0,d=(null==n?void 0:n.onUploadProgress)||function(){try{return"1"===f.env.VERCEL_BLOB_USE_X_CONTENT_LENGTH}catch{return!1}}();t.body&&d&&(c=T(t.body)),(null==n?void 0:n.onUploadProgress)&&n.onUploadProgress({loaded:0,total:c,percentage:0});let h=await u(async i=>{let u;try{u=await I({input:w(e),init:{...t,headers:{"x-api-blob-request-id":s,"x-api-blob-request-attempt":String(l),"x-api-version":r,...d?{"x-content-length":String(c)}:{},authorization:`Bearer ${o}`,...a,...t.headers}},onUploadProgress:(null==n?void 0:n.onUploadProgress)?e=>{var t;let r=0!==c?c:e;p=e;let o=c>0?Number((e/r*100).toFixed(2)):0;100===o&&c>0||null==(t=n.onUploadProgress)||t.call(n,{loaded:e,total:r,percentage:o})}:void 0})}catch(e){if(e instanceof N&&"AbortError"===e.name){i(new Y);return}if(e&&k(e)&&"TypeError"===e.name&&"string"==typeof e.message&&("Load failed"===e.message?void 0===e.stack:L.has(e.message)))throw e;if(e instanceof TypeError){i(e);return}throw e}if(u.ok)return u;let{code:f,error:h}=await W(u);if("unknown_error"===f||"service_unavailable"===f||"internal_server_error"===f)throw h;i(h)},{retries:function(){try{let e=f.env.VERCEL_BLOB_RETRIES||"10";return parseInt(e,10)}catch{return 10}}(),onRetry:t=>{t instanceof Error&&O(`retrying API request to ${e}`,t.message),l+=1}});if(!h)throw new X;return(null==n?void 0:n.onUploadProgress)&&n.onUploadProgress({loaded:p,total:p,percentage:100}),await h.json()}var K={cacheControlMaxAge:"x-cache-control-max-age",addRandomSuffix:"x-add-random-suffix",contentType:"x-content-type"};async function Q({pathname:e,options:t,extraChecks:n,getToken:r}){if(!e)throw new y("pathname is required");if(e.length>950)throw new y("pathname is too long, maximum length is 950");for(let t of _)if(e.includes(t))throw new y(`pathname cannot contain "${t}", please encode it if needed`);if(!t)throw new y("missing options, see usage");if("public"!==t.access)throw new y('access must be "public"');return n&&n(t),r&&(t.token=await r(e,t)),t}async function Z({uploadId:e,key:t,pathname:n,parts:r,headers:o,options:a}){try{let i=await J(`/mpu/${n}`,{method:"POST",headers:{...o,"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":e,"x-mpu-key":encodeURI(t)},body:JSON.stringify(r),signal:a.abortSignal},a);return O("mpu: complete",i),i}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new F;throw e}}async function ee(e,t,n){O("mpu: create","pathname:",e);try{let r=await J(`/mpu/${e}`,{method:"POST",headers:{...t,"x-mpu-action":"create"},signal:n.abortSignal},n);return O("mpu: create",r),r}catch(e){if(e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message))throw new F;throw e}}async function et({uploadId:e,key:t,pathname:n,headers:r,options:o,internalAbortController:a=new AbortController,part:i}){var s,l,u;let c=J(`/mpu/${n}`,{signal:a.signal,method:"POST",headers:{...r,"x-mpu-action":"upload","x-mpu-key":encodeURI(t),"x-mpu-upload-id":e,"x-mpu-part-number":i.partNumber.toString()},body:i.blob},o);function p(){a.abort()}(null==(s=o.abortSignal)?void 0:s.aborted)?p():null==(l=o.abortSignal)||l.addEventListener("abort",p);let d=await c;return null==(u=o.abortSignal)||u.removeEventListener("abort",p),d}var en="undefined"!=typeof window?6:8,er=16777216*en;async function eo(e,t,n,r){O("mpu: init","pathname:",e,"headers:",n);let o={...r,onUploadProgress:void 0},a=await ee(e,n,o),i=T(t),s=await m(t),l=await function({uploadId:e,key:t,pathname:n,stream:r,headers:o,options:a,totalToLoad:i}){O("mpu: upload init","key:",t);let s=new AbortController;return new Promise((l,u)=>{let c;let f=[],h=[],m=r.getReader(),b=0,y=!1,_=1,g=!1,w=0,v=!1,T=0,E=[],x=0,R={};async function k(){for(O("mpu: upload read start","activeUploads:",b,"currentBytesInMemory:",`${p(w)}/${p(er)}`,"bytesSent:",p(T)),y=!0;w<er&&!g;)try{let{value:e,done:t}=await m.read();if(t){v=!0,O("mpu: upload read consumed the whole stream"),E.length>0&&(f.push({partNumber:_++,blob:new Blob(E,{type:"application/octet-stream"})}),U()),y=!1;return}w+=e.byteLength;let n=0;for(;n<e.byteLength;){let t=8388608-x,r=Math.min(n+t,e.byteLength),o=e.slice(n,r);E.push(o),x+=o.byteLength,n=r,8388608===x&&(f.push({partNumber:_++,blob:new Blob(E,{type:"application/octet-stream"})}),E=[],x=0,U())}}catch(e){B(e)}O("mpu: upload read end","activeUploads:",b,"currentBytesInMemory:",`${p(w)}/${p(er)}`,"bytesSent:",p(T)),y=!1}async function L(r){b++,O("mpu: upload send part start","partNumber:",r.partNumber,"size:",r.blob.size,"activeUploads:",b,"currentBytesInMemory:",`${p(w)}/${p(er)}`,"bytesSent:",p(T));try{let i=a.onUploadProgress?e=>{R[r.partNumber]=e.loaded,c&&c()}:void 0,u=await et({uploadId:e,key:t,pathname:n,headers:o,options:{...a,onUploadProgress:i},internalAbortController:s,part:r});if(O("mpu: upload send part end","partNumber:",r.partNumber,"activeUploads",b,"currentBytesInMemory:",`${p(w)}/${p(er)}`,"bytesSent:",p(T)),g)return;if(h.push({partNumber:r.partNumber,etag:u.etag}),w-=r.blob.size,b--,T+=r.blob.size,f.length>0&&U(),v){0===b&&(m.releaseLock(),l(h));return}y||k().catch(B)}catch(e){B(e)}}function U(){if(!g)for(O("send parts","activeUploads",b,"partsToUpload",f.length);b<en&&f.length>0;){let e=f.shift();e&&L(e)}}function B(e){g||(g=!0,s.abort(),m.releaseLock(),e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message)?u(new F):u(e))}a.onUploadProgress&&(c=d(()=>{var e;let t=Object.values(R).reduce((e,t)=>e+t,0),n=i||t,r=i>0?Number((100*(t/i||t)).toFixed(2)):0;null==(e=a.onUploadProgress)||e.call(a,{loaded:t,total:n,percentage:r})},150)),k().catch(B)})}({uploadId:a.uploadId,key:a.key,pathname:e,stream:s,headers:n,options:r,totalToLoad:i});return await Z({uploadId:a.uploadId,key:a.key,pathname:e,parts:l,headers:n,options:o})}function ea({allowedOptions:e,getToken:t,extraChecks:n}){return async function(r,o,a){if(!o)throw new y("body is required");if(function(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}(o))throw new y("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");let i=await Q({pathname:r,options:a,extraChecks:n,getToken:t}),s=function(e,t){let n={};return e.includes("contentType")&&t.contentType&&(n[K.contentType]=t.contentType),e.includes("addRandomSuffix")&&void 0!==t.addRandomSuffix&&(n[K.addRandomSuffix]=t.addRandomSuffix?"1":"0"),e.includes("cacheControlMaxAge")&&void 0!==t.cacheControlMaxAge&&(n[K.cacheControlMaxAge]=t.cacheControlMaxAge.toString()),n}(e,i);if(!0===i.multipart)return eo(r,o,s,i);let l=i.onUploadProgress?d(i.onUploadProgress,100):void 0,u=await J(`/${r}`,{method:"PUT",body:o,headers:s,signal:i.abortSignal},{...i,onUploadProgress:l});return{url:u.url,downloadUrl:u.downloadUrl,pathname:u.pathname,contentType:u.contentType,contentDisposition:u.contentDisposition}}}function ei(e){return function(t){if(!t.token.startsWith("vercel_blob_client_"))throw new y(`${e} must be called with a client token`);if(void 0!==t.addRandomSuffix||void 0!==t.cacheControlMaxAge)throw new y(`${e} doesn't allow addRandomSuffix and cacheControlMaxAge. Configure these options at the server side when generating client tokens.`)}}n(82957).Buffer,ea({allowedOptions:["contentType"],extraChecks:ei("client/`put`")}),function({allowedOptions:e,getToken:t,extraChecks:n}){}({allowedOptions:["contentType"],extraChecks:ei("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:n}){}({allowedOptions:["contentType"],extraChecks:ei("client/`createMultipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:n}){}({allowedOptions:["contentType"],extraChecks:ei("client/`multipartUpload`")}),function({allowedOptions:e,getToken:t,extraChecks:n}){}({allowedOptions:["contentType"],extraChecks:ei("client/`completeMultipartUpload`")});var es=ea({allowedOptions:["contentType"],extraChecks(e){if(void 0===e.handleUploadUrl)throw new y("client/`upload` requires the 'handleUploadUrl' parameter");if(void 0!==e.addRandomSuffix||void 0!==e.cacheControlMaxAge)throw new y("client/`upload` doesn't allow addRandomSuffix and cacheControlMaxAge. Configure these options at the server side when generating client tokens.")},async getToken(e,t){var n,r;return el({handleUploadUrl:t.handleUploadUrl,pathname:e,clientPayload:null!=(n=t.clientPayload)?n:null,multipart:null!=(r=t.multipart)&&r})}});async function el(e){let{handleUploadUrl:t,pathname:n}=e,r=!function(e){try{return new URL(e),!0}catch(e){return!1}}(t)?new URL(t,window.location.href).href:t,o={type:"blob.generate-client-token",payload:{pathname:n,callbackUrl:r,clientPayload:e.clientPayload,multipart:e.multipart}},a=await c(r,{method:"POST",body:JSON.stringify(o),headers:{"content-type":"application/json"},signal:e.abortSignal});if(!a.ok)throw new y("Failed to  retrieve the client token");try{let{clientToken:e}=await a.json();return e}catch(e){throw new y("Failed to retrieve the client token")}}}}]);
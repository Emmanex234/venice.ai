!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cd8c5bda-3b98-42a6-a2be-26c2dbbd79ff",e._sentryDebugIdIdentifier="sentry-dbid-cd8c5bda-3b98-42a6-a2be-26c2dbbd79ff")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8801],{88677:function(){},62808:function(){},35883:function(){},46601:function(){},89214:function(){},45850:function(e,t,r){Promise.resolve().then(r.bind(r,80022)),Promise.resolve().then(r.bind(r,41655))},80022:function(e,t,r){"use strict";r.d(t,{ChatContainer:function(){return d},ChatMainContent:function(){return c}});var n=r(57437),i=r(13449),s=r(2265);let a={base:0,md:1},o={base:0,md:2},l={base:0,md:"xl"},d=e=>{let{children:t}=e;return(0,n.jsx)(i.k,{width:"full",flex:1,position:"relative",overflow:"hidden",height:"100%",children:t})},c=e=>{let{children:t,flexProps:r}=(0,s.useMemo)(()=>{let{children:t,...r}=e;return{children:t,flexProps:r}},[e]);return(0,n.jsx)(i.k,{width:"full",flexDir:"column",flex:1,position:"relative",bg:"var(--background)",borderLeftWidth:a,borderRightWidth:a,borderTopWidth:a,mx:o,mt:o,borderTopRadius:l,borderColor:"border.subtle",boxShadow:"sm",overflow:"hidden",...r,children:t})}},31869:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var n=r(57437),i=r(25730),s=r(2265),a=r(45168),o=r(23838),l=r(74468),d=r(13823);let c=(0,n.jsx)(a.tE8,{}),u=()=>{let{state:{showChatbar:e},dispatch:t}=(0,d.IO)(),r=(0,s.useCallback)(()=>{t({field:"showChatbar",value:!e}),o.Z.setItem("showChatbar",JSON.stringify(!e)),(0,l.Qe)({name:"toggledChatbar",data:{value:!e}})},[t,e]);return(0,n.jsx)(i.h,{colorScheme:"secondary",variant:"ghost",size:"md","aria-label":"Show Sidebar",icon:c,onClick:r})}},41425:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(57437),i=r(22053),s=r(2265),a=r(22122);let o=e=>{let{children:t,...r}=e,[o,l]=(0,s.useState)(!1),{isDisabled:d}=r;return(0,n.jsx)(a.u,{isOpen:o,isDisabled:d,...r,children:(0,n.jsx)(i.xu,{...d?{}:{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>l(!0)},children:t})})}},57274:function(e,t,r){"use strict";r.d(t,{C:function(){return H}});var n=r(57437),i=r(13449),s=r(25730),a=r(13701),o=r(99376),l=r(42586),d=r(2265),c=r(45168),u=r(86537),x=r(62128),h=r(58528);let m=e=>{let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})};m.Desktop=e=>{let{children:t}=e,[r]=(0,x.a)("(min-width: ".concat(h.A.md,")"),{ssr:!1});return r?(0,n.jsx)(n.Fragment,{children:t}):null},m.Mobile=e=>{let{children:t}=e,[r]=(0,x.a)("(min-width: ".concat(h.A.md,")"),{ssr:!1});return r?null:(0,n.jsx)(n.Fragment,{children:t})};var p=r(97205),b=r(31631),f=r(4360),g=r(25774),j=r(74468),k=r(44321),y=r(43159),v=r(51138),C=r(93369),w=r(18254),S=r(81613);let E=(0,n.jsx)(c.YsT,{size:"1rem"}),z=(0,n.jsx)(c.msJ,{size:"1rem"}),T=(0,n.jsx)(c.ssl,{size:"1rem"}),I=e=>(0,n.jsx)(a.z,{leftIcon:z,px:3,width:"full",justifyContent:{base:"center",md:"flex-start"},_hover:{color:"text.base"},...e}),D=e=>{let{conversationType:t,textAreaRef:r,onMessageTypeChange:s,placement:o="auto"}=e,[u,x]=(0,d.useState)(t),h=(0,l.useTranslations)(),m=(0,g.Sz)(y.St,e=>e.isProUser),D=(0,g.Sz)(y.St,e=>e.isVeniceStaff),N=(0,C.F)(e=>e.settings.textModel),F=(0,C.F)(e=>e.settings.imageModel),M=(0,C.F)(e=>e.settings.codeModel),R=(0,C.F)(e=>e.saveImageModel),A=(0,C.F)(e=>e.saveTextModel),L=(0,C.F)(e=>e.saveCodeModel),O=(0,g.Sz)(y.St,e=>e.issuePoints),K=(0,d.useMemo)(()=>{let e;return e=(0,v.Do)(u,{includeRetired:!0,inActive:!1,isListed:!0,isProUser:m,isVeniceStaff:D}),m&&(e=e.filter(e=>!e.freeOnly)),e},[u,m,D]),_=(0,d.useMemo)(()=>{switch(t){case w.i.Text:return null!=N?N:v.bO.id;case w.i.Code:return null!=M?M:v.au.id;case w.i.Image:return null!=F?F:v.HX.id;default:return""}},[M,t,F,N]),U=(0,d.useMemo)(()=>(0,v.Ho)(_)||null,[_]),q=(0,d.useMemo)(()=>{if(!U)return null;switch(t){case w.i.Text:return U.id!==v.bO.id?U.friendly_name:null;case w.i.Image:return U.id!==v.HX.id?U.friendly_name:null;case w.i.Code:return U.id!==v.au.id?U.friendly_name:null;default:return null}},[U,t]),P=(0,d.useCallback)(e=>{let[n,i]=e.split(":"),a=(0,v.Ho)(i);if(!a)throw Error("Invalid model id");switch(t!==n&&s(u),n){case w.i.Text:A(a.id);break;case w.i.Image:R(a.id);break;case w.i.Code:L(a.id);default:return}(0,j.Qe)({name:"changedModel",data:{conversationType:w.i.Text,model:a}}),O(S.mR.MODEL_SELECTION),(null==r?void 0:r.current)&&r.current.focus()},[u,t,O,s,L,R,A,r]);(0,d.useEffect)(()=>{x(t)},[t]);let V=(0,d.useMemo)(()=>(0,n.jsxs)(i.k,{bg:{base:"background.surface.overlay.base",md:"background.surface.overlay.raised.base"},position:"sticky",top:0,p:2,zIndex:"sticky",flexDirection:"column",borderRightWidth:1,borderColor:"border.base",boxSizing:"border-box",flexShrink:0,width:{base:"full",md:"200px"},children:[(0,n.jsxs)(p.h,{spacing:0,variant:"ghost",size:"md",flexDirection:{base:"row",md:"column"},children:[(0,n.jsx)(I,{leftIcon:E,isActive:u===w.i.Text,onClick:()=>x(w.i.Text),children:h("chatSettings.tabs.text")}),(0,n.jsx)(I,{leftIcon:z,isActive:u===w.i.Image,onClick:()=>x(w.i.Image),children:h("chatSettings.tabs.image")}),(0,n.jsx)(I,{leftIcon:T,isActive:u===w.i.Code,onClick:()=>x(w.i.Code),children:h("chatSettings.tabs.code")})]}),(0,n.jsxs)(i.k,{flexDirection:"column",mt:"auto",gap:1,px:3,pb:3,display:{base:"none",md:"flex"},children:[(0,n.jsxs)(i.k,{alignItems:"center",gap:1,children:[(0,n.jsx)(c.Qoz,{size:"14px",color:"var(--chakra-colors-text-subtle)"}),(0,n.jsx)(b.X,{size:"xs",fontWeight:"medium",children:h("modelSelector.helper.title")})]}),(0,n.jsx)(f.x,{fontSize:"xs",color:"text.subtle",fontWeight:"normal",children:h("modelSelector.helper.description")})]})]}),[u,h]),W=(0,d.useMemo)(()=>(0,n.jsx)(i.k,{bg:"background.surface.overlay.base",display:{base:"flex",md:"none"},children:(0,n.jsxs)(i.k,{bg:"background.surface.overlay.raised.base",flexDirection:"column",mt:"auto",gap:1,py:3,px:6,children:[(0,n.jsxs)(i.k,{alignItems:"center",gap:1,children:[(0,n.jsx)(c.Qoz,{size:"14px"}),(0,n.jsx)(b.X,{size:"xs",fontWeight:"medium",children:h("modelSelector.helper.title")})]}),(0,n.jsx)(f.x,{fontSize:"xs",color:"text.subtle",fontWeight:"normal",children:h("modelSelector.helper.description")})]})}),[h]);return(0,n.jsx)(k.h,{options:K,placement:o,value:"".concat(t,":").concat(_),conversationType:u,onChange:P,as:a.z,variant:"ghost",rightIcon:(0,n.jsx)(c.YRR,{}),size:{base:"sm",md:"md"},listHeader:V,listFooter:W,autoReset:!1,menuListProps:{flexDirection:{base:"column",md:"row"},maxWidth:{base:"375px",md:"650px"}},children:q||h("modelSelector.switcher.title")})};var N=r(31869),F=r(22053),M=r(5095),R=r(59745),A=r(21652),L=r.n(A),O=r(41528),K=r(82129),_=r(3809);let U=e=>{let{conversationType:t,isDisabled:r,characterId:i}=e,{onOpen:o}=(0,O.R)("chatSettings"),u=(0,l.useTranslations)(),m=(0,g.Sz)(y.St,e=>e.id),{data:p}=(0,K.QB)(m),b=(0,C.F)(e=>e.settings.imageSettings),f=(0,C.F)(e=>e.settings.textSettings),k=(0,g.Sz)(y.St,e=>e.isProUser),[v]=(0,x.a)("(min-width: ".concat(h.A.md,")"),{ssr:!1}),S=(0,d.useMemo)(()=>(null==p?void 0:p.some(e=>e.active))||!1,[p]),E=(0,d.useMemo)(()=>{switch(t){case w.i.Text:return!L()(f,_.Bj)||S;case w.i.Image:return!L()(b,_.IW);default:return!1}},[t,b,S,f]),z=()=>{(0,j.Qe)({name:"openedChatSettings",data:{}}),o({conversationType:null!=t?t:void 0,characterId:i})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(F.xu,{position:"relative",children:[(0,n.jsx)(M.M,{mode:"wait",children:E&&(0,n.jsx)(R.E.div,{animate:{scale:1},initial:{scale:0},style:{width:"10px",height:"10px",position:"absolute",top:"-1px",right:"-1px",zIndex:2,borderRadius:"100%",backgroundColor:"var(--primary)"}})}),k||!v?(0,n.jsx)(s.h,{colorScheme:"secondary",variant:"ghost",size:"md",icon:(0,n.jsx)(c.AXL,{}),"aria-label":"Chat settings",onClick:z,isDisabled:r}):(0,n.jsx)(a.z,{colorScheme:"secondary",variant:"ghost",size:"md",leftIcon:(0,n.jsx)(c.AXL,{}),"aria-label":"Chat settings",onClick:z,isDisabled:r,children:u("chatSettings.title")})]})})};var q=r(64214),P=r(13823);let V=(0,n.jsx)(c.dKc,{}),W={base:"fixed",md:"absolute"},H=(0,d.memo)(e=>{let{leftComponent:t,rightComponent:r,hideRightComponent:c,conversationType:x,characterId:h,textAreaRef:p,onMessageTypeChange:b}=e,f=(0,l.useTranslations)(),g=(0,o.useRouter)(),{state:{loading:j,messageIsStreaming:k}}=(0,P.IO)(),{clearSelectedConversation:y,selectedConversation:v}=(0,q.uu)(),C=null!=h?h:null==v?void 0:v.characterId,S=j||k,E=(0,d.useCallback)(()=>{if(y(),C)return g.push("/character-chat/".concat(C))},[C,y,g]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.k,{position:W,top:0,left:0,right:0,className:"chat-header",bg:"var(--background-transparent)",backdropFilter:"blur(15px)",borderBottomWidth:1,borderColor:"border.subtle",zIndex:"sticky",children:(0,n.jsxs)(u.fK,{flexProps:{width:"full"},py:2,minHeight:"auto",children:[(0,n.jsx)(u.ej,{children:t||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.f,{}),!h&&b&&(0,n.jsx)(m,{children:(0,n.jsx)(m.Desktop,{children:(0,n.jsx)(D,{conversationType:null!=x?x:w.i.Text,textAreaRef:p,placement:"bottom-end",onMessageTypeChange:b})})})]})}),(0,n.jsx)(u.zR,{children:!h&&b&&(0,n.jsx)(m,{children:(0,n.jsx)(m.Mobile,{children:(0,n.jsx)(D,{conversationType:null!=x?x:w.i.Text,textAreaRef:p,onMessageTypeChange:b})})})}),!c&&(0,n.jsx)(u.y6,{children:r||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(m.Mobile,{children:(0,n.jsx)(s.h,{icon:V,variant:"ghost",size:"md","aria-label":f("newChat"),isDisabled:S,onClick:E})}),(0,n.jsx)(m.Desktop,{children:(0,n.jsx)(a.z,{size:"md",variant:"ghost",onClick:E,leftIcon:V,isDisabled:S,children:f("newChat")})})]}),(0,n.jsx)(U,{conversationType:x,characterId:C})]})})]})})})});H.displayName="ChatHeader"},41655:function(e,t,r){"use strict";r.d(t,{DashboardPage:function(){return rk}});var n,i,s,a,o,l,d,c,u=r(57437),x=r(91092),h=r(13449),m=r(76405),p=r(83657),b=r(2265),f=r(57274),g=r(31631),j=r(68686),k=r(25730),y=r(4360),v=r(58055),C=r(13701),w=r(33145),S=r(42586),E=r(61273);let z=e=>(0,u.jsx)(p.K,{px:6,py:6,spacing:8,...e});var T=r(3490);let I=()=>{let e=(0,S.useLocale)(),t=(0,S.useTranslations)("token"),r=(0,b.useMemo)(()=>"en"===e?"/files/airdrop-terms-en.pdf":"es"===e?"/files/airdrop-terms-es.pdf":"/files/airdrop-terms-en.pdf",[e]);return(0,u.jsxs)(z,{spacing:6,pt:6,children:[(0,u.jsxs)(h.k,{alignItems:"center",justifyContent:"space-between",children:[(0,u.jsx)(g.X,{size:"sm",children:t("about.title")}),(0,u.jsxs)(h.k,{gap:2,children:[(0,u.jsx)(j.r,{href:T.j0,isExternal:!0,children:(0,u.jsx)(k.h,{isRound:!0,"aria-label":"Discord",icon:(0,u.jsx)(E.j2d,{})})}),(0,u.jsx)(j.r,{href:T.Vu,isExternal:!0,children:(0,u.jsx)(k.h,{isRound:!0,"aria-label":"Twitter",icon:(0,u.jsx)(E.LCd,{})})})]})]}),(0,u.jsxs)(y.x,{fontSize:"md",color:"text.subtle",children:[(0,u.jsx)(w.default,{src:"/images/venice-frame-mock.png",alt:"Venice Mobile App",width:100,height:130,style:{float:"right",marginLeft:"0.5rem",objectFit:"cover"}}),t("about.description")]}),(0,u.jsxs)(v.U,{flexWrap:"wrap",children:[(0,u.jsx)(C.z,{as:j.r,color:"text.link",href:"https://venice.ai/api",isExternal:!0,fontSize:"md",children:t("about.links.api")}),(0,u.jsx)(C.z,{as:j.r,color:"text.link",href:"https://venice.ai/chat",isExternal:!0,fontSize:"md",children:t("about.links.app")}),(0,u.jsx)(C.z,{as:j.r,color:"text.link",href:r,isExternal:!0,fontSize:"md",children:t("about.links.airdropTerms")})]})]})};var D=r(45197),N=r(90593),F=r(71416),M=r(37354),R=r(38386),A=r(4231),L=r(6924),O=r(97244),K=r(89307);let _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return"-";let{minimumFractionDigits:r=0,maximumFractionDigits:n=4,notation:i="compact"}=t;return new Intl.NumberFormat("en-US",{notation:i,maximumFractionDigits:n,minimumFractionDigits:r}).format(e)},U=e=>{let{value:t,prefix:r,postfix:n,minimumFractionDigits:i=0,maximumFractionDigits:s=4,notation:a="compact",postfixColor:o="text.subtle",...l}=e,d=(0,b.useMemo)(()=>_(t,{prefix:r,postfix:n,minimumFractionDigits:i,maximumFractionDigits:s,notation:a}),[s,i,a,n,r,t]);return(0,u.jsxs)(y.x,{...l,children:[r?"".concat(r," "):"",d,n?(0,u.jsx)(y.x,{as:"span",color:o,children:" ".concat(n)}):""]})};var q=r(78796),P=r(19383),V=r(48860),W=r(34096),H=r(49270),B=r(27924),Q=r(16152),X=r(22811),$=r(30643),Z=r(20517),G=r(45168),J=r(25774),Y=r(29827),ee=r(21770),et=r(43159);r(83079);var er=r(12119);(0,er.$)("79360f1989617681d5480753b1d2a46b375a69c8");let en=e=>{let{userId:t}=e;return["termsAgreement",t]};var ei=(0,er.$)("da6b5ecab9d2882a8592df4f66c9209d1a20cfdc");let es=()=>{let e=(0,Y.NL)(),t=(0,J.Sz)(et.St,e=>e.id);return(0,ee.D)({mutationFn:async()=>{await ei()},onSuccess:async()=>{await e.invalidateQueries({queryKey:en({userId:t})})}})};var ea=r(71632),eo=(0,er.$)("ed81aca6b86918281f85740e1ae171a1d3640d7a");let el=e=>{let{userId:t}=e;return["vvv","airdrop","pointsAirdropClaimStatus",t]},ed=()=>{let e=(0,J.Sz)(et.St,e=>e.id);return(0,ea.a)({queryKey:el({userId:e}),queryFn:()=>eo()})};var ec=(0,er.$)("1b82e20a580993f7352e37d71c215145d4ca24eb");let eu=e=>{let{userId:t}=e;return["vvv","airdrop","pointsAirdropClaimTx",t]},ex=()=>{let e=(0,J.Sz)(et.St,e=>e.id);return(0,ea.a)({queryKey:eu({userId:e}),queryFn:()=>ec()})};var eh=r(68651);let em=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new eh.Z(e,t)},ep=e=>{let t=em(e||0);return t.isFinite()?t:em(0)};var eb=(0,er.$)("22e15093d268b28ef52cc09132c81b562c72807a");(0,er.$)("cf494d459cbddfdc74dcce5094e7733cb5ade26b"),(0,er.$)("36d2502b8a62a97510fb4d3aaeb76facf5f85743");let ef=e=>{let{userAddress:t}=e;return["vvv","airdrop","tokenAllocation",null!=t?t:null]},eg=()=>{let e=(0,J.Sz)(et.St,e=>e.walletConnectAddress);return(0,ea.a)({queryKey:ef({userAddress:e}),queryFn:async()=>{let e=await eb(),t=ep(null==e?void 0:e.fromPointsCryptoBaseUnit).gt(0)&&ep(null==e?void 0:e.fromPartnerTokenHoldingsCryptoBaseUnit).gt(0);return{...e,hasMultipleAllocations:t}}})};var ej=(0,er.$)("d9921aabba149466bb7d4295869bf512db806d86"),ek=(0,er.$)("686458546d7966567ccd9af30c0e3fb7b8251d0c");let ey=()=>{let e=(0,S.useTranslations)("token.airdrop"),{open:t}=(0,K.Ig)(),r=(0,J.Sz)(et.St,e=>e.walletConnectAddress),n=(0,J.Sz)(et.St,e=>e.id),i=(0,Y.NL)();return(0,ee.D)({mutationFn:async()=>{if(!r)return await t(),{success:!1};if(await ej())throw Error(e("claim.error.description.addressAlreadyClaimed"));await ek(),await Promise.all([i.invalidateQueries({queryKey:el({userId:n})}),i.invalidateQueries({queryKey:eu({userId:n})}),i.invalidateQueries({queryKey:ef({userAddress:r})})])}})};var ev=r(36776),eC=r(78125);(n=o||(o={})).NotClaimed="NotClaimed",n.Claimed="Claimed",n.Completed="Completed",n.NothingToClaim="NothingToClaim";var ew=(0,er.$)("1cb3ae61687665cca08d4c92b68543c5c56b3548");let eS=e=>{let{userAddress:t}=e;return["vvv","airdrop","partnerTokenAirdropClaimStatus",null!=t?t:null]},eE=()=>{let{address:e}=(0,K.Tj)();return(0,ea.a)({queryKey:eS({userAddress:e}),queryFn:e?()=>ew({address:e}):()=>Promise.resolve(o.NothingToClaim)})};var ez=(0,er.$)("2e3553a52d2103d48528031f3ad69ac075da1705");let eT=e=>{let{userAddress:t}=e;return["vvv","airdrop","partnerTokenAirdropClaimTx",null!=t?t:null]},eI=()=>{let{address:e}=(0,K.Tj)();return(0,ea.a)({queryKey:eT({userAddress:e}),queryFn:e?()=>ez({address:e}):()=>null})};var eD=r(78461);let eN=()=>{let{data:e}=(0,eD.p)();return(0,ee.D)({mutationFn:async t=>await (null==e?void 0:e.sendTransaction(t))})};var eF=(0,er.$)("f23060df3f3eea4935a8faefeaddc63a44586b66");let eM=e=>{let{tokenAddress:t,address:r}=e;return["vvv","tokenBalance",t,r]},eR=e=>{let{tokenAddress:t,address:r}=e;return(0,ea.a)({queryKey:eM({tokenAddress:t,address:r}),queryFn:()=>r?eF({tokenAddress:t,walletAddress:r}):"0",enabled:!!r})};var eA=(0,er.$)("3e95ae4588a91042a0e01dbb80d0283fe0414079"),eL=(0,er.$)("ef150cf71913f5a7c0683f4ef4a9c99d7976cf3a");let eO=()=>{let e=(0,S.useTranslations)("token.airdrop"),{open:t}=(0,K.Ig)(),{isConnected:r,address:n}=(0,K.Tj)(),i=(0,Y.NL)(),{mutateAsync:s}=eN();return(0,ee.D)({mutationFn:async()=>{if(!r||!n){await t();return}let a=await eA({address:n});if(!a.data)throw(0,ev.Fq)(a.error);let l=await s(a.data);if(!l)throw Error(e("noTxHash"));if("reverted"===(await eL({hash:l})).status)throw new eC.M_;await Promise.all([i.invalidateQueries({queryKey:ef({userAddress:n})}),i.invalidateQueries({queryKey:eM({tokenAddress:T.I_,address:n})})]),i.setQueryData(eS({userAddress:n}),o.Completed),i.setQueryData(eT({userAddress:n}),l)}})};var eK=r(28082);let e_="https://basescan.org/tx/",eU=e=>{let{airdropClaimStatus:t,requiresProUser:r,txHash:n}=e,i=(0,S.useTranslations)("token.airdrop"),s=(0,J.Sz)(et.St,e=>e.isProUser);switch(!0){case r&&!s&&t===o.NotClaimed:return(0,u.jsx)(eK.Vp,{size:"sm",flexShrink:0,colorScheme:"orange",children:i("claimModal.proOnly")});case t===o.Claimed:return(0,u.jsxs)(eK.Vp,{size:"sm",flexShrink:0,colorScheme:"green",gap:0,children:[(0,u.jsx)(eK.AD,{as:G.mc}),i("claims.claimed")]});case t===o.NotClaimed:return(0,u.jsx)(eK.Vp,{size:"sm",flexShrink:0,colorScheme:"blue",children:i("claims.available")});case t===o.Completed:return(0,u.jsx)(O.O,{isLoaded:!!n,children:(0,u.jsx)(j.r,{fontSize:"xs",isExternal:!0,color:"text.link",href:"".concat(e_).concat(n),whiteSpace:"nowrap",children:i("claims.viewOnChain")})});default:return null}};var eq=r(61507),eP=r(6314),eV=r(22053),eW=r(32817),eH=r(34442),eB=r(22048);(i=l||(l={})).TRANSACTION_REJECTED="token.errors.transactionRejected",i.INSUFFICIENT_FUNDS_FOR_GAS="token.errors.insufficientFunds",i.TRANSACTION_REVERTED="token.errors.transactionReverted",i.FAILED_TO_ESTIMATE_GAS="token.errors.failedToEstimateGas",i.TIMEOUT_ERROR="token.errors.timeoutError",i.NETWORK_ERROR="token.errors.networkError",i.WALLET_DISCONNECTED="token.errors.walletDisconnected",i.RPC_ERROR="token.errors.rpcError",i.UNKNOWN_ERROR="token.errors.unknownError";let eQ=e=>{console.error(e),eB.Tb(e);let{name:t,shortMessage:r,message:n,details:i}=e,s=null!=r?r:n;switch(!0){case"AbiConstructorNotFoundError"===t:case"AbiConstructorParamsNotFoundError"===t:case"AbiDecodingDataSizeInvalidError"===t:case"AbiDecodingDataSizeTooSmallError"===t:case"AbiDecodingZeroDataError"===t:case"AbiEncodingArrayLengthMismatchError"===t:case"AbiEncodingBytesSizeMismatchError"===t:case"AbiEncodingLengthMismatchError"===t:case"AbiErrorInputsNotFoundError"===t:case"AbiErrorNotFoundError"===t:case"AbiErrorSignatureNotFoundError"===t:case"AbiEventNotFoundError"===t:case"AbiEventSignatureEmptyTopicsError"===t:case"AbiEventSignatureNotFoundError"===t:case"AbiFunctionNotFoundError"===t:case"AbiFunctionOutputsNotFoundError"===t:case"AbiFunctionSignatureNotFoundError"===t:case"BytesSizeMismatchError"===t:case"DecodeLogTopicsMismatch"===t:case"InvalidAbiDecodingTypeError"===t:case"InvalidAbiEncodingTypeError"===t:case"InvalidArrayError"===t:case"InvalidDefinitionTypeError"===t:case"UnsupportedPackedAbiType"===t:case"AccountNotFoundError"===t:case"InvalidAddressError"===t:case"BlockNotFoundError"===t:case"ChainDoesNotSupportContract"===t:case"ChainMismatchError"===t:case"ChainNotFoundError"===t:case"ClientChainNotConfiguredError"===t:case"InvalidChainIdError"===t:case"CallExecutionError"===t:case"ContractFunctionExecutionError"===t:case"ContractFunctionRevertedError"===t:case"ContractFunctionZeroDataError"===t:case"RawContractError"===t:case"SizeExceedsPaddingSizeError"===t:case"DataLengthTooLongError"===t:case"DataLengthTooShortError"===t:case"IntegerOutOfRangeError"===t:case"InvalidBytesBooleanError"===t:case"InvalidHexBooleanError"===t:case"InvalidHexValueError"===t:case"OffsetOutOfBoundsError"===t:case"SizeOverflowError"===t:case"EnsAvatarInvalidMetadataError"===t:case"EnsAvatarInvalidNftUriError"===t:case"EnsAvatarUnsupportedNamespaceError"===t:case"EnsAvatarUriResolutionError"===t:case"FilterTypeNotSupportedError"===t:return"token.errors.unknownError";case"ExecutionRevertedError"===t||eC.M_.nodeMessage.test(s)||s.includes(new eC.M_().shortMessage):return"token.errors.transactionReverted";case"InsufficientFundsError"===t||eC.C_.nodeMessage.test(s)||s.includes(new eC.C_().shortMessage):return"token.errors.insufficientFunds";case"FeeCapTooHighError"===t:case"FeeCapTooLowError"===t:case"IntrinsicGasTooHighError"===t:case"IntrinsicGasTooLowError"===t:case"NonceMaxValueError"===t:case"NonceTooHighError"===t:case"NonceTooLowError"===t:case"TipAboveFeeCapError"===t:case"TransactionTypeNotSupportedError"===t:case"UnknownNodeError"===t:return"token.errors.unknownError";case"TimeoutError"===t:return"token.errors.timeoutError";case"HttpRequestError"===t:case"RpcRequestError"===t:case"WebSocketRequestError"===t:return"token.errors.networkError";case"UserRejectedRequestError"===t:return"token.errors.transactionRejected";case"ProviderDisconnectedError"===t:return"token.errors.walletDisconnected";case"ChainDisconnectedError"===t:case"InternalRpcError"===t:case"InvalidInputRpcError"===t:case"InvalidParamsRpcError"===t:case"InvalidRequestRpcError"===t:case"JsonRpcVersionUnsupportedError"===t:case"LimitExceededRpcError"===t:case"MethodNotFoundRpcError"===t:case"MethodNotSupportedRpcError"===t:case"ParseRpcError"===t:case"ProviderRpcError"===t:case"ResourceNotFoundRpcError"===t:case"ResourceUnavailableRpcError"===t:case"RpcError"===t:case"SwitchChainError"===t:case"TransactionRejectedRpcError"===t:case"UnauthorizedProviderError"===t:case"UnknownRpcError"===t:case"UnsupportedProviderMethodError"===t:return"token.errors.rpcError";case"CreateSiweMessageErrorType"===t:case"SiweInvalidMessageFieldErrorType"===t:case"VerifySiweMessageErrorType"===t:return"token.errors.unknownError";case"WaitForTransactionReceiptTimeoutError"===t:return"token.errors.timeoutError";case"FeeConflictError"===t:case"InvalidLegacyVError"===t:case"InvalidSerializableTransactionError"===t:case"InvalidSerializedTransactionError"===t:case"InvalidSerializedTransactionTypeError"===t:case"InvalidStorageKeySizeError"===t:case"TransactionExecutionError"===t:if(s.includes("User rejected the request"))return"token.errors.transactionRejected";case"TransactionNotFoundError"===t:case"TransactionReceiptNotFoundError"===t:case"UrlRequiredError"===t:return"token.errors.unknownError";case"EstimateGasExecutionError"===t:if(i.includes("gas required exceeds allowance"))return"token.errors.insufficientFunds";return"token.errors.failedToEstimateGas";default:return"token.errors.unknownError"}},eX=e=>{let{error:t}=e,r=(0,S.useTranslations)();return(0,u.jsxs)(eq.b,{status:"warning",variant:"subtle",borderRadius:"lg",bg:"background.surface.muted",children:[(0,u.jsx)(eP.z,{}),(0,u.jsxs)(eV.xu,{children:[(0,u.jsx)(eW.C,{children:r(t)}),t===l.INSUFFICIENT_FUNDS_FOR_GAS&&(0,u.jsx)(eH.X,{fontSize:"sm",textColor:"text.subtle",children:r("token.explainer.insufficientFundsForGas")})]})]})};var e$=r(7414),eZ=r(41528);let eG=(e,t)=>ep(e).div(em(10).pow(t)),eJ=(e,t)=>ep(e).times(em(10).pow(ep(t))),eY=e=>{let{isOpen:t,onClose:r}=e,n=(0,q.p)(),i=(0,S.useLocale)(),s=(0,S.useTranslations)(),a=(0,J.Sz)(et.St,e=>e.isProUser),{onOpen:d}=(0,eZ.R)("upgrade"),[c,x]=(0,b.useState)(!1),[m,f]=(0,b.useState)(!1),[j,k]=(0,b.useState)(!1),[v,w]=(0,b.useState)(null),{data:E}=ex(),{data:z}=eI(),{data:T,isLoading:I}=eg(),{mutateAsync:D,isPending:N}=ey(),{mutateAsync:F,isPending:M}=eO(),{mutateAsync:R}=es(),[A,L]=(0,b.useState)(!0),[K,_]=(0,b.useState)(!0),[Y,ee]=(0,b.useState)(!1),er=N||M||Y,{data:en}=ed(),{data:ei}=eE(),ea=(0,b.useMemo)(()=>{if(T)return eG(null==T?void 0:T.fromPartnerTokenHoldingsCryptoBaseUnit,18).toNumber()},[T]),eo=(0,b.useMemo)(()=>{if(T)return eG(null==T?void 0:T.fromPointsCryptoBaseUnit,18).toNumber()},[T]),el=a&&en===o.NotClaimed,ec=ei===o.NotClaimed,eu=K&&el,eh=A&&ec,em=(0,b.useMemo)(()=>{if(!T)return;let e=eu?T.fromPointsCryptoBaseUnit:"0";return eG(ep(eh?T.fromPartnerTokenHoldingsCryptoBaseUnit:"0").plus(e),18).toNumber()},[T,eu,eh]),eb=(0,b.useMemo)(()=>"en"===i?"/files/airdrop-terms-en.pdf":"es"===i?"/files/airdrop-terms-es.pdf":"/files/airdrop-terms-en.pdf",[i]),ef=(0,b.useCallback)(async()=>{w(null);try{if(!m)return;ee(!0),await R(),eu&&await D(),eh&&await F(),n({title:s("token.airdrop.claim.submitted"),status:"success"}),_(!0),L(!0),r()}catch(t){let e=eQ(t);e!==l.UNKNOWN_ERROR?w(e):n({title:s(e),status:"error"})}finally{ee(!1)}},[m,R,eu,eh,n,s,r,D,F]),ej=(0,b.useCallback)(()=>{d(),r()},[d,r]),ek=(0,b.useCallback)(()=>{f(!m)},[m]),ev=(0,b.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),x(!0)},[]),eC=eh||eu,ew=(0,b.useMemo)(()=>j?(0,u.jsx)(C.z,{size:"lg",width:"full",colorScheme:"primary",isLoading:I||er,isDisabled:!em||0===em||!eC||!m,onClick:ef,children:s("token.airdrop.claimModal.confirmButton")}):(0,u.jsx)(C.z,{size:"lg",width:"full",colorScheme:"primary",onClick:ev,children:s("token.airdrop.claimModal.viewTheTerms")}),[eC,em,ef,ev,j,er,m,I,s]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(P.u_,{isOpen:t,onClose:r,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{py:6,children:(0,u.jsx)(g.X,{size:"sm",children:s("token.airdrop.claimModal.title")})}),(0,u.jsx)(B.o,{}),(0,u.jsxs)(Q.f,{pb:6,children:[(0,u.jsxs)(p.K,{borderWidth:1,borderColor:"border.base",spacing:0,bg:"background.surface.muted",borderRadius:"xl",divider:(0,u.jsx)(X.i,{}),children:[0!==ea&&(0,u.jsx)($.X,{gap:4,px:6,py:4,isChecked:eh,isReadOnly:!ec,onChange:e=>L(e.target.checked),...ec?{}:{sx:{".chakra-checkbox__control":{display:"none"},".chakra-checkbox__label":{marginLeft:0}}},children:(0,u.jsx)(h.k,{align:"center",gap:4,children:(0,u.jsxs)(p.K,{spacing:0,alignItems:"flex-start",children:[(0,u.jsx)(O.O,{isLoaded:!I,children:(0,u.jsxs)(h.k,{align:"center",gap:2,children:[(0,u.jsx)(G.lbY,{}),(0,u.jsx)(U,{fontSize:"2xl",value:ea,postfix:"VVV",notation:"standard",maximumFractionDigits:2})]})}),(0,u.jsxs)(h.k,{alignItems:"flex-start",gap:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",children:s("token.airdrop.claimModal.immediateTokens.description")}),(0,u.jsx)(eU,{airdropClaimStatus:ei,txHash:null!=z?z:void 0,requiresProUser:!1})]})]})})}),0!==eo&&(0,u.jsx)($.X,{gap:4,px:6,py:4,isChecked:eu,isReadOnly:!el,onChange:e=>_(e.target.checked),...el?{}:{sx:{".chakra-checkbox__control":{display:"none"},".chakra-checkbox__label":{marginLeft:0}}},children:(0,u.jsx)(h.k,{align:"center",gap:4,children:(0,u.jsxs)(p.K,{spacing:0,alignItems:"flex-start",children:[(0,u.jsx)(O.O,{isLoaded:!I,children:(0,u.jsxs)(h.k,{align:"center",gap:2,children:[(0,u.jsx)(G.rfE,{}),(0,u.jsx)(U,{fontSize:"2xl",value:eo,postfix:"VVV",opacity:a?1:.5,notation:"standard",maximumFractionDigits:2})]})}),(0,u.jsxs)(h.k,{alignItems:"flex-start",gap:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",children:s("token.airdrop.claimModal.delayedTokens.description")}),(0,u.jsx)(eU,{airdropClaimStatus:en,txHash:null!=E?E:void 0,requiresProUser:!0})]}),!a&&(0,u.jsx)(C.z,{mt:4,variant:"link",size:"sm",color:"text.link",onClick:ej,leftIcon:(0,u.jsx)(G.c_x,{}),children:s("token.airdrop.claimModal.upgradeCta")})]})})})]}),(0,u.jsx)(e$.X,{heading:s("token.airdrop.claimModal.claimTotal"),rowProps:{p:0,mt:4},children:(0,u.jsx)(O.O,{isLoaded:!I,children:(0,u.jsx)(U,{fontSize:"sm",value:em,postfix:"VVV",notation:"standard",maximumFractionDigits:4})})})]}),(0,u.jsxs)(Z.m,{flexDir:"column",gap:4,borderTopWidth:1,borderColor:"border.base",children:[v&&(0,u.jsx)(eX,{error:v}),j&&(0,u.jsx)(h.k,{alignItems:"flex-start",width:"full",children:(0,u.jsxs)($.X,{isChecked:m,onChange:ek,isDisabled:!j,children:[s("token.airdrop.claimModal.agreeToTerms")," ",(0,u.jsx)(C.z,{fontSize:"md",color:"text.link",variant:"link",onClick:ev,children:s("token.airdrop.claimModal.termsAndConditions")})]})}),ew]})]})]}),(0,u.jsx)(P.u_,{isOpen:c,onClose:()=>x(!1),size:"xl",onCloseComplete:()=>k(!0),children:(0,u.jsxs)(W.h,{minHeight:"90vh",width:"100%",maxWidth:"90vw",height:"90vh",children:[(0,u.jsx)("iframe",{src:eb,width:"100%",height:"100%",style:{display:"inline-flex"}}),(0,u.jsx)(Z.m,{children:(0,u.jsx)(C.z,{onClick:()=>x(!1),children:"Close"})})]})})]})},e0=()=>{let e=(0,S.useTranslations)("token.airdrop"),{isConnected:t}=(0,K.Tj)(),{data:r,isLoading:n}=eg(),{data:i}=ed(),{data:s}=ex(),{data:a}=eE(),{data:l}=eI(),d=(0,b.useMemo)(()=>{if(r)return eG(null==r?void 0:r.fromPartnerTokenHoldingsCryptoBaseUnit,18).toNumber()},[r]),c=(0,b.useMemo)(()=>{if(r)return eG(null==r?void 0:r.fromPointsCryptoBaseUnit,18).toNumber()},[r]),x=i===o.Claimed,m=i===o.Completed,f=a===o.Completed;if(!t||!x&&!m&&!f)return null;let k=i===o.Claimed;return(0,u.jsxs)(z,{children:[(0,u.jsx)(g.X,{size:"sm",children:e("claims.title")}),(0,u.jsx)(M.Z,{children:(0,u.jsxs)(p.K,{borderColor:"border.base",divider:(0,u.jsx)(X.i,{}),children:[f&&(0,u.jsxs)(h.k,{py:4,px:6,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(O.O,{isLoaded:!n,width:"100px",children:(0,u.jsx)(U,{fontWeight:"bold",value:d,postfix:"VVV",notation:"standard",maximumFractionDigits:0})}),l&&(0,u.jsx)(j.r,{isExternal:!0,color:"text.link",href:"".concat(e_).concat(l),children:e("claims.viewOnChain")})]}),(x||m)&&(0,u.jsxs)(h.k,{py:4,px:6,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(O.O,{isLoaded:!n,width:"100px",children:(0,u.jsx)(U,{fontWeight:"bold",value:c,postfix:"VVV",notation:"standard",maximumFractionDigits:0})}),(0,u.jsxs)(h.k,{justifyContent:"right",alignItems:"center",children:[k&&(0,u.jsx)(y.x,{fontSize:"sm",color:"text.subtle",pr:6,children:e("claims.waitTime")}),s?(0,u.jsx)(j.r,{isExternal:!0,color:"text.link",href:"".concat(e_).concat(s),children:e("claims.viewOnChain")}):(0,u.jsx)(eK.Vp,{colorScheme:k?"yellow":"green",children:e(k?"claims.processing":"claims.completed")})]})]})]})})]})},e1=e=>{let{marketData:t}=e,{open:r}=(0,K.Ig)(),{isConnected:n}=(0,K.Tj)(),i=(0,S.useTranslations)("token.airdrop"),{isOpen:s,onOpen:a,onClose:l}=(0,F.q)(),[d,c]=(0,b.useState)(!0),{data:x,isLoading:m,isError:f}=ed(),{data:j,isLoading:k,isError:v}=eE(),{data:w,isLoading:E,isError:z}=eg(),I=f||v||z,_=(0,b.useCallback)(()=>{a()},[a]),q=(0,b.useMemo)(()=>{if(!w)return;let e=x===o.NotClaimed?w.fromPointsCryptoBaseUnit:"0",t=j===o.NotClaimed?w.fromPartnerTokenHoldingsCryptoBaseUnit:"0";return eG(em(e).plus(t),18).toNumber()},[j,x,w]),P=(0,b.useMemo)(()=>x===o.NotClaimed||j===o.NotClaimed?o.NotClaimed:x===o.Completed&&j===o.Completed||x===o.Completed&&j===o.NothingToClaim||x===o.NothingToClaim&&j===o.Completed?o.Completed:x===o.Claimed||j===o.Claimed?o.Claimed:o.NothingToClaim,[x,j]),V=(0,b.useMemo)(()=>{switch(!0){case!n:return i("claim.button.connectWallet");case P===o.Claimed:case P===o.Completed:return i("claim.button.claimed");case P===o.NothingToClaim:return i("claim.button.noAllocation");default:return i("claim.button.default")}},[n,i,P]),W=(0,b.useMemo)(()=>{if(t&&void 0!==q)return q*Number(t.priceUsd)},[t,q]),H=(0,b.useCallback)(()=>{r()},[r]),B=(0,b.useMemo)(()=>n?P===o.NothingToClaim?"secondary":P===o.Claimed||P===o.Completed?"green":I?"red":"primary":"primary",[P,I,n]),Q=P===o.Claimed||P===o.Completed?i("claim.button.claimed"):i("availableToClaim"),X=(0,b.useCallback)(()=>{localStorage.setItem("showAirdropContent",JSON.stringify(!d)),c(!d)},[d]);return(0,b.useEffect)(()=>{let e=localStorage.getItem("showAirdropContent");null!==e&&c(!0===JSON.parse(e)),(P===o.Claimed||P===o.Completed)&&c(!1)},[P]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(M.Z,{m:{base:0,md:3},borderRadius:"3xl",borderBottomRadius:0,bg:"transparent",bgGradient:"linear(to-b, background.button.secondary.base, transparent)",boxShadow:"0 1px 0px 0 rgba(255,255,255, 0.05) inset",children:[(0,u.jsxs)(R.O,{cursor:"pointer",display:"flex",flexDir:"row",justifyContent:"space-between",px:6,py:6,onClick:X,children:[(0,u.jsx)(g.X,{size:"sm",children:i("title")}),(0,u.jsxs)(h.k,{alignItems:"center",gap:2,children:[(0,u.jsx)(y.x,{fontSize:"sm",color:"text.base",children:i("endsIn",{days:T.Mm})}),d?(0,u.jsx)(D.g,{}):(0,u.jsx)(N.v,{})]})]}),(0,u.jsx)(A.U,{in:d,animateOpacity:!0,children:(0,u.jsxs)(L.e,{px:0,py:12,display:"flex",flexDir:"column",alignItems:"center",children:[(0,u.jsxs)(p.K,{alignItems:"center",spacing:0,flex:1,justifyContent:"center",filter:n?"none":"blur(10px)",children:[(0,u.jsx)(y.x,{fontSize:"md",color:"text.subtle",children:Q}),(0,u.jsx)(O.O,{isLoaded:void 0!==q,children:(0,u.jsx)(U,{fontSize:"4xl",value:q,postfix:"VVV",minimumFractionDigits:0,maximumFractionDigits:2,notation:"standard"})}),T.ZQ&&(0,u.jsx)(O.O,{isLoaded:void 0!==W,children:(0,u.jsx)(U,{fontSize:"sm",color:"text.subtle",value:W,prefix:"$",minimumFractionDigits:2,maximumFractionDigits:2,notation:"standard"})})]}),(0,u.jsx)(C.z,{colorScheme:B,size:"md",px:16,mt:6,onClick:n?_:H,isLoading:m||k||E,isDisabled:I||n&&P!==o.NotClaimed,children:V})]})})]}),(0,u.jsx)(e0,{}),(0,u.jsx)(eY,{isOpen:s,onClose:l})]})},e4=e=>(0,u.jsx)(M.Z,{bg:"transparent",boxShadow:"none",...e}),e2=()=>{let{isConnected:e,address:t}=(0,K.Tj)(),{open:r}=(0,K.Ig)(),n=(0,S.useTranslations)("token.airdrop"),i=t&&e?"".concat(t.slice(0,6),"...").concat(t.slice(-6)):void 0,s=(0,b.useCallback)(async()=>{await r()},[r]),a=(0,b.useMemo)(()=>i||n("claim.button.connectWallet"),[n,i]);return(0,u.jsx)(C.z,{onClick:s,leftIcon:(0,u.jsx)(G.aij,{}),children:a})};var e5=r(86827),e3=r(47749),e6=r(22428),e8=r(97450),e7=r(45345),e9=(0,er.$)("5fda2f2309b5b215e2fb50698cf7258c1a7b742b"),te=(0,er.$)("a71076996c454a13a182640ab544ae2f7ae169c1");let tt=e=>{let{address:t}=e;return["vvv","cooldownInfo",null!=t?t:null]},tr=e=>{let{address:t}=e;return(0,ea.a)({queryKey:tt({address:t}),queryFn:t?async()=>{let e=await te({address:t}),r=await e9();if(!e)return{isUnstakeInitiated:!1,isUnstakeCoolingDown:!1,isUnstakeCooledDown:!1,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:0,cooldownEndTimestampSeconds:0,unstakeAmountCryptoBaseUnit:"0"};let{cooldownStartTimestampSeconds:n,unstakeAmountCryptoBaseUnit:i}=e;if(ep(i).isZero())return{isUnstakeInitiated:!1,isUnstakeCoolingDown:!1,isUnstakeCooledDown:!1,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:0,cooldownEndTimestampSeconds:0,unstakeAmountCryptoBaseUnit:"0"};let s=Math.floor(Date.now()/1e3),a=n+r,o=a<=s;return{isUnstakeInitiated:!0,isUnstakeCoolingDown:!o,isUnstakeCooledDown:o,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:n,cooldownEndTimestampSeconds:a,unstakeAmountCryptoBaseUnit:i,percentageCooledDown:100+100*(r-(a-s))/r}}:e7.CN,refetchInterval:36e5})};var tn=(0,er.$)("009755394056bde5a1a518e73b3bfad29b1efe58");let ti=e=>{let{address:t}=e;return["vvv","pendingRewards",null!=t?t:null]},ts=e=>{let{address:t}=e;return(0,ea.a)({queryKey:ti({address:t}),queryFn:t?()=>tn({address:t}):e7.CN})};var ta=(0,er.$)("74a253ca093bcec87686eac7090cbb7aff1afa0d");let to=e=>{let{address:t,blockNumber:r}=e;return["vvv","stakingBalance",null!=t?t:null,null!=r?r:null]},tl=e=>{let{address:t,blockNumber:r}=e,n=null==r?void 0:r.toString();return(0,ea.a)({queryKey:to({address:t,blockNumber:n}),queryFn:t?()=>ta({address:t,blockNumber:n}):e7.CN})};var td=(0,er.$)("1c5a3133302896f80c34d5eae3adfdfc1a9ad57f");let tc=()=>["vvv","totalStaked"];var tu=(0,er.$)("2ea39d2fcae7f25fc1e98530d37efafd1546c37c");let tx=()=>{let e=(0,S.useTranslations)(),t=(0,q.p)(),r=(0,Y.NL)(),{mutateAsync:n}=eN();return(0,ee.D)({mutationFn:async i=>{let{userAddress:s}=i;try{let i=await tu({stakerAddress:s});if(!i.data)throw(0,ev.Fq)(i.error);let a=await n(i.data);if(!a)throw Error("Transaction hash not received");let o=await eL({hash:a});if("reverted"===o.status)throw new eC.M_;console.log("withdraw complete, txHash:",a),await Promise.all([r.invalidateQueries({queryKey:to({address:s})}),r.invalidateQueries({queryKey:ti({address:s})}),r.invalidateQueries({queryKey:eM({tokenAddress:T.I_,address:s})}),r.invalidateQueries({queryKey:tc()}),r.invalidateQueries({queryKey:tt({address:s})})]),t({title:e("token.withdraw.withdrawSuccess"),description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.x,{fontSize:"md",children:e("token.withdraw.withdrawSuccessDescription")}),(0,u.jsx)(j.r,{fontSize:"md",color:"text.link",href:"".concat(e_).concat(a),isExternal:!0,children:e("token.withdraw.viewOnChain")})]}),status:"success",duration:5e3,isClosable:!0,position:"bottom-right"})}catch(r){t({title:e(eQ(r)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}}})},th={base:"column",lg:"row"},tm={base:"flex-start",lg:"center"},tp=e=>{var t;let{userAddress:r}=e,n=(0,S.useTranslations)("token"),{data:i}=tr({address:r}),{mutateAsync:s,isPending:a}=tx(),o=(0,b.useMemo)(()=>{var e;if(!i)return"~";let t=100-(null!==(e=i.percentageCooledDown)&&void 0!==e?e:0),r=i.cooldownDurationSeconds*(t/100),n=(0,e6.Z)({start:0,end:1e3*(r>0?r:0)});return(0,e8.Z)(n)},[i]),l=(0,b.useCallback)(async()=>{await s({userAddress:r})},[s,r]);return i&&i.isUnstakeInitiated&&(0,u.jsxs)(eq.b,{borderRadius:"xl",bg:"background.surface.muted",borderWidth:1,borderColor:"border.subtle",mb:4,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(eH.X,{children:n(i.isUnstakeCoolingDown?"myHoldings.cooldown.coolingDown":"myHoldings.cooldown.readyToWithdraw",{amount:eG(i.unstakeAmountCryptoBaseUnit,18).toFixed(4)})}),(0,u.jsx)(v.U,{spacing:4,flexDir:th,alignItems:tm,children:(0,u.jsx)(u.Fragment,{children:i.isUnstakeCoolingDown?(0,u.jsxs)(p.K,{children:[(0,u.jsx)(e3.E,{value:100-(null!==(t=i.percentageCooledDown)&&void 0!==t?t:0),size:"sm",colorScheme:"primary",borderRadius:"full"}),(0,u.jsx)(y.x,{fontSize:"xs",color:"text.subtle",children:n("myHoldings.cooldown.description",{cooldownDurationRemaining:o})})]}):(0,u.jsx)(C.z,{colorScheme:"primary",onClick:l,isLoading:a,children:n("myHoldings.buttons.withdraw")})})})]})};var tb=r(40638),tf=r(58706),tg=r(55404),tj=r(57843);let tk=e=>{let{label:t,number:r,helpText:n,cta:i,isLoading:s,children:a}=e;return(0,u.jsx)(M.Z,{flex:1,width:"full",className:"dashboard-stat",alignSelf:"stretch",children:(0,u.jsxs)(L.e,{display:"flex",flexDir:"column",alignItems:"flex-start",gap:4,children:[(0,u.jsx)(tb.k,{style:{flexShrink:0},children:(0,u.jsxs)(p.K,{spacing:0,children:[(0,u.jsx)(O.O,{isLoaded:!s,children:(0,u.jsx)(tf.d,{fontSize:"md",color:"text.subtle",fontWeight:"normal",whiteSpace:"nowrap",children:t})}),(0,u.jsx)(O.O,{isLoaded:!s,children:"string"==typeof r?(0,u.jsx)(tg.J,{fontSize:"2xl",fontWeight:"normal",whiteSpace:"nowrap",children:r}):(0,u.jsx)(eV.xu,{fontSize:"2xl",whiteSpace:"nowrap",children:r})}),"string"==typeof n?(0,u.jsx)(O.O,{isLoaded:!s,children:(0,u.jsx)(tj.v,{fontSize:"sm",color:"text.subtle",fontWeight:"normal",children:n})}):n]})}),i,a]})})};var ty=(0,er.$)("28cb44035306eeb04f852068eaeb349e7ed92bb4"),tv=(0,er.$)("6807da1c53af3f691a221ce12e1e9968cd3bae8f");let tC=e=>{let{token:t,spender:r,owner:n}=e;return["vvv","useAllowance",t,r,n]},tw=e=>{let{token:t,spender:r,owner:n,isDisabled:i}=e;return(0,ea.a)({queryKey:tC({token:t,spender:r,owner:n}),queryFn:async()=>(await ty({token:t,spender:r,owner:n}).catch(e=>{throw console.error("Error fetching allowance",e),e})).toString(),refetchOnMount:"always",refetchInterval:15e3,enabled:!i})},tS=e=>{window.open("".concat(e_).concat(e),"_blank")};var tE=r(95171),tz=r(40748),tT=r(12125),tI=r(10883),tD=r(4464);let tN=e=>{let{label:t,amount:r,tokenSymbol:n,availableLabel:i,maxButtonLabel:s,balanceCryptoBaseUnit:a,isLoading:o=!1,isDisabled:l=!1,decimals:d=18,onChange:c,onMax:x,autoFocus:h=!1}=e;return(0,u.jsxs)(tE.NI,{children:[(0,u.jsxs)(v.U,{justifyContent:"space-between",children:[(0,u.jsx)(tz.l,{fontSize:"sm",color:"text.subtle",m:0,children:t}),a&&(0,u.jsxs)(v.U,{gap:1,children:[(0,u.jsxs)(v.U,{fontSize:"sm",gap:1,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:i}),(0,u.jsx)(U,{value:eG(a,d).toNumber(),postfix:n})]}),(0,u.jsxs)(C.z,{onClick:x,isLoading:o,isDisabled:l,variant:"link",color:"text.link",size:"sm",children:["(",s,")"]})]})]}),(0,u.jsxs)(tT.B,{children:[(0,u.jsx)(tI.I,{autoFocus:h,fontSize:"2xl",variant:"unstyled",type:"number",py:4,step:"any",isDisabled:l,value:r,onChange:c,placeholder:"0.0",pr:"50px"}),(0,u.jsx)(tD.xW,{pr:0,position:"absolute",right:"0",height:"100%",background:"transparent",border:"none",pointerEvents:"none",color:"gray.500",children:(0,u.jsx)(eK.Vp,{size:"lg",children:n})})]})]})},tF=e=>{throw Error("unhandled case: ".concat(e))};var tM=(0,er.$)("d9f611044e51051c379d046fba19a895f6747c82");(s=d||(d={})).Input="input",s.Complete="complete";let tR=e=>{let{isOpen:t,onClose:r,userAddress:n}=e,i=(0,S.useTranslations)(),s=(0,q.p)(),a=(0,Y.NL)(),{mutateAsync:o}=eN(),{data:d,isLoading:c}=eR({tokenAddress:T.I_,address:n}),{data:x,isLoading:h}=ts({address:n}),[m,f]=(0,b.useState)(null),[k,v]=(0,b.useState)("0"),[w,E]=(0,b.useState)("0"),[z,I]=(0,b.useState)("input"),[D,N]=(0,b.useState)(""),[F,M]=(0,b.useState)("");(0,b.useEffect)(()=>{d&&!ep(d).isZero()&&(v(eG(d,18).toFixed()),E(d))},[d]);let R=(0,b.useCallback)(()=>{I("input"),N(""),M(""),v("0"),E("0"),f(null),r()},[r]),A=(0,b.useCallback)(e=>{let t=e.target.value;v(t),E(eJ(t,18).toFixed())},[]),{data:L,isLoading:O}=tw({token:T.I_,spender:T.np,owner:n}),K=(0,b.useCallback)(async()=>{if(!w)throw Error(i("token.stake.noAmountSpecified"));let e=await tv({amountCryptoBaseUnit:w,token:T.I_,spender:T.np,owner:n});if(!e.data)throw(0,ev.Fq)(e.error);let t=await o(e.data);if(!t)throw Error(i("token.stake.noTxHash"));if("reverted"===(await eL({hash:t})).status)throw new eC.M_;await a.invalidateQueries({queryKey:tC({token:T.I_,spender:T.np,owner:n})})},[w,a,o,i,n]),_=(0,b.useCallback)(async()=>{if(!w)throw Error(i("token.stake.noAmountSpecified"));let e=await tM({amountCryptoBaseUnit:w,stakerAddress:n});if(!e.data)throw(0,ev.Fq)(e.error);let t=await o(e.data);if(!t)throw Error(i("token.stake.noTxHash"));if(N(t),M(k),"reverted"===(await eL({hash:t})).status)throw new eC.M_;await Promise.all([a.invalidateQueries({queryKey:to({address:n})}),a.invalidateQueries({queryKey:ti({address:n})}),a.invalidateQueries({queryKey:eM({tokenAddress:T.I_,address:n})}),a.invalidateQueries({queryKey:tc()}),a.invalidateQueries({queryKey:tC({token:T.I_,spender:T.np,owner:n})})]),I("complete")},[w,k,a,o,I,i,n]),[X,$]=(0,b.useTransition)(),J=(0,b.useMemo)(()=>L?ep(L).lt(ep(w)):null,[L,w]),ee=(0,b.useCallback)(()=>{f(null),$(async()=>{if(null!==J)try{switch(z){case"input":J&&await K(),await _();return;case"complete":tS(D);return;default:tF(z)}}catch(t){let e=eQ(t);e!==l.UNKNOWN_ERROR?f(e):s({title:i(e),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}})},[K,_,J,z,s,i,D]),et=ep(w).isZero(),er=ep(w).gt(ep(d)),en=x&&ep(x).gt(0),ei=(0,b.useMemo)(()=>{switch(z){case"input":return(0,u.jsxs)(p.K,{spacing:8,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:i.rich("token.stake.description",{link:e=>(0,u.jsx)(j.r,{href:"https://venice.ai/api",color:"text.link",isExternal:!0,children:e})})}),(0,u.jsxs)(eq.b,{status:"info",variant:"subtle",borderRadius:"lg",children:[(0,u.jsx)(eP.z,{}),i("token.stake.cooldownTooltip")]}),(0,u.jsx)(tN,{autoFocus:!0,label:i("token.stake.amount"),amount:k,tokenSymbol:"VVV",availableLabel:i("token.stake.available"),maxButtonLabel:i("token.stake.stakeMax"),balanceCryptoBaseUnit:d,isLoading:c,isDisabled:X||O,onChange:A,onMax:()=>{d&&(v(eG(d,18).toFixed()),E(d))}})]});case"complete":return(0,u.jsxs)(p.K,{spacing:6,mb:4,alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(e5.M,{boxSize:"64px",bg:"green.500",borderRadius:"full",children:(0,u.jsx)(G.e6w,{color:"white",size:"32px"})}),(0,u.jsxs)(p.K,{alignItems:"center",justifyContent:"center",spacing:3,children:[(0,u.jsx)(g.X,{size:"md",children:i("token.stake.stakeSuccess")}),(0,u.jsx)(U,{fontSize:"lg",value:Number(F),postfix:"VVV"})]})]});default:tF(z)}},[z,i,k,d,c,X,O,A,F]),es=(0,b.useMemo)(()=>{switch(z){case"input":if(er)return i("token.stake.insufficientBalance");if(J)return i("token.stake.approveAndStake");return i("token.stake.confirmStake");case"complete":return i("token.stake.viewOnChain");default:tF(z)}},[J,er,z,i]);return(0,u.jsxs)(P.u_,{isOpen:t,onClose:R,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{children:i("token.stake.title")}),(0,u.jsx)(B.o,{}),(0,u.jsx)(Q.f,{children:ei}),(0,u.jsxs)(Z.m,{py:6,borderTopWidth:1,borderColor:"border.base",flexDirection:"column",gap:4,children:[en&&(0,u.jsxs)(eq.b,{status:"info",variant:"subtle",borderRadius:"lg",children:[(0,u.jsx)(eP.z,{}),i("token.stake.rewardTooltip")]}),m&&(0,u.jsx)(eX,{error:m}),(0,u.jsx)(C.z,{colorScheme:er?"secondary":"primary",width:"full",size:"lg",isDisabled:et||er||X||O,isLoading:X||O||h,loadingText:i("token.stake.signMessageInWallet"),onClick:ee,children:es})]})]})]})};var tA=r(60187),tL=(0,er.$)("a57cf417d9d211e265d3df43769a9fb3377d3108");let tO=()=>["vvv","stakingYield"],tK=()=>(0,ea.a)({queryKey:tO(),queryFn:()=>tL()}),t_=()=>{let{data:e,isLoading:t}=tK(),r=(0,S.useTranslations)("token.explainer.stakingYield");return(0,u.jsx)(O.O,{isLoaded:!t,children:(0,u.jsx)(tA.u,{openDelay:2e3,label:r("toolTipDescription"),children:(0,u.jsxs)(eK.Vp,{colorScheme:"yellow",onClick:()=>window.open("/faqs?identifier=how+does+vvv+staking+yield+work"),children:["APR ",_(100*Number(e),{notation:"standard",maximumFractionDigits:2}),"%"]})})})};var tU=(0,er.$)("f3e3e11b83e7420f068b259b8dc66e3353cb8cf0");(a=c||(c={})).Input="input",a.Complete="complete";let tq=e=>{let{isOpen:t,onClose:r,userAddress:n}=e,i=(0,S.useTranslations)(),s=(0,q.p)(),a=(0,Y.NL)(),{mutateAsync:o}=eN(),{data:d,isLoading:c}=tr({address:n}),{data:x,isLoading:h}=tl({address:n}),[m,f]=(0,b.useState)("0"),[j,k]=(0,b.useState)("0"),[v,w]=(0,b.useState)("input"),[E,z]=(0,b.useState)(void 0),[T,I]=(0,b.useState)(""),[D,N]=(0,b.useState)(null),F=(0,b.useCallback)(()=>{w("input"),k("0"),f("0"),z(void 0),I(""),N(null),r()},[r]),M=(0,b.useCallback)(e=>{let t=e.target.value;f(t),k(eJ(t,18).toFixed())},[]),R=(0,b.useCallback)(async()=>{if(j)try{let e=await tU({amountCryptoBaseUnit:j,stakerAddress:n});if(!e.data)throw(0,ev.Fq)(e.error);let t=await o(e.data);if(!t)return;let r=await eL({hash:t});if("reverted"===r.status)throw new eC.M_;console.log("initiate unstake complete, txHash:",t),await a.invalidateQueries({queryKey:tt({address:n})}),w("complete"),z(t),I(m)}catch(t){let e=eQ(t);e!==l.UNKNOWN_ERROR?N(e):s({title:i(e),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}},[j,m,a,o,s,i,n]),[A,L]=(0,b.useTransition)(),K=(0,b.useCallback)(()=>{N(null),L(async()=>{switch(v){case"input":await R();return;case"complete":E&&tS(E);return;default:tF(v)}})},[R,v,E]),_=!j||"0"===j,X=ep(j).gt(ep(x)),$=(0,b.useMemo)(()=>{if(!(null==d?void 0:d.cooldownDurationSeconds))return"~";let e=(0,e6.Z)({start:0,end:1e3*d.cooldownDurationSeconds});return(0,e8.Z)(e)},[null==d?void 0:d.cooldownDurationSeconds]),J=(0,b.useMemo)(()=>{switch(v){case"input":return(0,u.jsxs)(p.K,{spacing:8,mb:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:i("token.unstake.description")}),(0,u.jsxs)(eq.b,{status:"info",variant:"subtle",borderRadius:"lg",bg:"background.surface.muted",children:[(0,u.jsx)(eP.z,{color:"text.link",as:G.rfE}),(0,u.jsx)(eH.X,{children:i.rich("token.unstake.cooldownTooltip",{time:()=>(0,u.jsx)(O.O,{as:"span",isLoaded:!c,children:$})})})]}),(0,u.jsx)(tN,{label:i("token.unstake.amount"),amount:m,tokenSymbol:"VVV",autoFocus:!0,availableLabel:i("token.unstake.available"),maxButtonLabel:i("token.unstake.unstakeMax"),balanceCryptoBaseUnit:x,isLoading:h,onChange:M,onMax:()=>{x&&(f(eG(x,18).toFixed()),k(x))}})]});case"complete":return(0,u.jsxs)(p.K,{spacing:6,mb:4,alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(e5.M,{boxSize:"64px",bg:"green.500",borderRadius:"full",children:(0,u.jsx)(G.e6w,{color:"white",size:"32px"})}),(0,u.jsxs)(p.K,{alignItems:"center",justifyContent:"center",spacing:3,children:[(0,u.jsx)(g.X,{size:"md",children:i("token.unstake.unstakeSuccess")}),(0,u.jsx)(U,{fontSize:"lg",value:Number(T),postfix:"VVV"})]})]});default:tF(v)}},[m,$,M,c,h,x,v,i,T]),ee=(0,b.useMemo)(()=>{switch(v){case"input":if(X)return i("token.unstake.insufficientStakedBalance");return i("token.unstake.confirmUnstake");case"complete":return i("token.unstake.viewOnChain");default:tF(v)}},[X,v,i]);return(0,u.jsxs)(P.u_,{isOpen:t,onClose:F,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{children:i("token.unstake.title")}),(0,u.jsx)(B.o,{}),(0,u.jsx)(Q.f,{children:J}),(0,u.jsxs)(Z.m,{flexDir:"column",gap:4,py:6,borderTopWidth:1,borderColor:"border.base",children:[D&&(0,u.jsx)(eX,{error:D}),(0,u.jsx)(C.z,{colorScheme:X?"secondary":"primary",size:"lg",width:"full",isDisabled:_||X||A,isLoading:A,loadingText:i("token.unstake.signMessageInWallet"),onClick:K,children:ee})]})]})]})};var tP=(0,er.$)("6e5f414a043e59f7f80a76a3dd1d7bd619d61bc1");let tV=()=>{let e=(0,S.useTranslations)(),t=(0,q.p)(),r=(0,Y.NL)(),{mutateAsync:n}=eN();return(0,ee.D)({mutationFn:async i=>{let{userAddress:s}=i;try{let i=await tP({stakerAddress:s});if(!i.data)throw(0,ev.Fq)(i.error);let a=await n(i.data);if(!a)throw Error("Transaction hash not received");let o=await eL({hash:a});if("reverted"===o.status)throw new eC.M_;console.log("claim reward complete, txHash:",a),await Promise.all([r.invalidateQueries({queryKey:to({address:s})}),r.invalidateQueries({queryKey:ti({address:s})}),r.invalidateQueries({queryKey:eM({tokenAddress:T.I_,address:s})}),r.invalidateQueries({queryKey:tc()})]),t({title:e("token.claimReward.claimRewardSuccess"),description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.x,{fontSize:"md",children:e("token.claimReward.claimRewardSuccessDescription")}),(0,u.jsx)(j.r,{fontSize:"md",color:"text.link",href:"".concat(e_).concat(a),isExternal:!0,children:e("token.claimReward.viewOnChain")})]}),status:"success",duration:5e3,isClosable:!0,position:"bottom-right"})}catch(r){t({title:e(eQ(r)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}}})};var tW=(0,er.$)("643ecac65af057ee4a4ce662b694a75188dff10f");let tH=e=>{let{epochTimestamp:t}=e;return["vvv","epochTimestamp",t.toISOString()]},tB=e=>{let{epochTimestamp:t}=e;return(0,ea.a)({queryKey:tH({epochTimestamp:t}),queryFn:()=>tW(t)})},tQ=e=>{if(null===e)return e;let t=Number(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t<100?2:0,maximumFractionDigits:t<100?2:0}).format(t)},tX=()=>{let e=new Date;return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},t$={container:{alignItems:{base:"flex-start",md:"center"},flexDir:{base:"column",md:"row"}},titleContainer:{alignItems:{base:"flex-start",md:"center"},flexDir:{base:"column",md:"row"}},statsContainer:{flexDir:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"}}},tZ=e=>{let{marketData:t}=e,r=(0,S.useTranslations)("token"),{data:n}=tB({epochTimestamp:tX()}),{isConnected:i,address:s}=(0,K.Tj)(),{isOpen:a,onOpen:o,onClose:l}=(0,F.q)(),{isOpen:d,onOpen:c,onClose:x}=(0,F.q)(),{data:m,isLoading:p}=tl({address:s}),{data:f,isLoading:k}=ts({address:s}),{data:y}=eR({tokenAddress:T.I_,address:s}),{data:w}=tr({address:s}),{mutateAsync:E,isPending:I}=tV(),D=(0,b.useMemo)(()=>m?eG(m,18).toFixed():void 0,[m]),N=(0,b.useMemo)(()=>f?eG(f,18).toFixed():void 0,[f]),M=(0,b.useMemo)(()=>y?eG(y,18).toFixed():void 0,[y]),R=null!==y&&!p&&!k;return i&&s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(z,{children:[(0,u.jsx)(h.k,{alignItems:t$.container.alignItems,justifyContent:"space-between",flexDir:t$.container.flexDir,gap:4,children:(0,u.jsxs)(h.k,{gap:2,alignItems:t$.titleContainer.alignItems,flexDir:t$.titleContainer.flexDir,justifyContent:"space-between",width:"full",children:[(0,u.jsx)(g.X,{size:"sm",children:r("myHoldings.title")}),n?(0,u.jsxs)(h.k,{alignItems:"center",gap:2,display:"none",children:[(0,u.jsx)(e5.M,{boxSize:4,bg:"rgba(48, 140, 122, 0.2)",borderRadius:"full",children:(0,u.jsx)(e5.M,{boxSize:2,bg:"green.500",borderRadius:"full"})}),(0,u.jsx)(j.r,{href:"https://basescan.org/block/".concat(n.toString()),isExternal:!0,fontSize:"sm",color:"text.subtle",children:r("networkCapacity.block",{blockNumber:n.toString()})})]}):(0,u.jsx)(O.O,{display:"inline-block",height:"20px",width:"150px"})]})}),M&&(0,u.jsxs)(eV.xu,{className:"dashboard-stats",children:[(0,u.jsx)(tp,{userAddress:s}),(0,u.jsxs)(v.U,{spacing:4,flexDir:t$.statsContainer.flexDir,alignItems:t$.statsContainer.alignItems,children:[y&&(0,u.jsx)(tk,{label:r("myHoldings.stats.availableBalance"),number:(0,u.jsx)(U,{value:Number(M),postfix:T.mp,notation:"standard"}),helpText:t&&tQ(em(t.priceUsd).times(M).toNumber()),isLoading:!R,cta:(0,u.jsx)(C.z,{size:"sm",colorScheme:"secondary",onClick:o,isDisabled:!R||!s||0===Number(M)||(null==w?void 0:w.isUnstakeInitiated),children:r("myHoldings.buttons.stake")})}),D&&(0,u.jsx)(tk,{label:r("myHoldings.stats.stakedBalance"),number:(0,u.jsx)(U,{value:Number(D),postfix:T.mp,minimumFractionDigits:0,maximumFractionDigits:4,notation:"standard"}),helpText:t&&tQ(em(t.priceUsd).times(D).toNumber()),isLoading:!R,cta:(0,u.jsxs)(h.k,{gap:2,alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,u.jsx)(C.z,{size:"sm",colorScheme:"secondary",onClick:c,isDisabled:!R||!s||0===Number(D)||(null==w?void 0:w.isUnstakeInitiated),children:r((null==w?void 0:w.isUnstakeInitiated)?"myHoldings.buttons.unstakeInitiated":"myHoldings.buttons.unstake")}),(0,u.jsx)(t_,{})]})}),N&&(0,u.jsx)(tk,{label:r("myHoldings.stats.availableRewards"),number:(0,u.jsx)(U,{value:Number(N),minimumFractionDigits:0,maximumFractionDigits:4,postfix:T.mp,notation:"standard"}),helpText:t&&tQ(em(t.priceUsd).times(N).toNumber()),isLoading:!R,cta:(0,u.jsx)(C.z,{size:"sm",colorScheme:"green",onClick:()=>E({userAddress:s}),isLoading:I,isDisabled:!R||!s||0===Number(N)||(null==w?void 0:w.isUnstakeInitiated),children:r("myHoldings.buttons.claim")})})]})]})]}),(0,u.jsx)(tR,{userAddress:s,isOpen:a,onClose:l}),(0,u.jsx)(tq,{userAddress:s,isOpen:d,onClose:x})]}):(0,u.jsx)(u.Fragment,{})};var tG=r(65373),tJ=r(96186),tY=r(73595),t0=r(22122);let t1=e=>{let{label:t,value:r,helpText:n,isLoading:i,children:s,...a}=e;return(0,u.jsxs)(h.k,{justifyContent:"space-between",alignItems:"flex-start",gap:4,children:[(0,u.jsxs)(tb.k,{...a,children:[(0,u.jsx)(tf.d,{color:"text.subtle",children:t}),(0,u.jsx)(tg.J,{children:i?(0,u.jsx)(O.O,{display:"inline-block",height:"24px",width:"120px"}):r}),n&&(0,u.jsx)(tj.v,{children:i?(0,u.jsx)(O.O,{display:"inline-block",height:"16px",width:"100px"}):n})]}),s&&(0,u.jsx)(eV.xu,{ml:"auto",children:s})]})};var t4=r(43316);let t2=e=>{let{totalSupply:t,totalStaked:r}=e,n=(0,S.useTranslations)("token"),i=(0,b.useMemo)(()=>[{id:n("networkCapacity.utilization.global.totalStaked"),color:"var(--chakra-colors-green-500)",data:[{x:"staked",y:r&&t?r/t*100:0}]},{id:n("networkCapacity.utilization.global.totalSupply"),color:"var(--primary)",data:[{x:"supply",y:100}]}],[t,r,n]);return(0,u.jsxs)(eV.xu,{display:"flex",alignItems:"center",flexDir:{base:"column",xl:"row"},gap:8,children:[(0,u.jsx)(eV.xu,{position:"relative",height:"200px",aspectRatio:"1/1",children:(0,u.jsx)(t4.W_,{data:i,valueFormat:">-.2f",padding:.4,cornerRadius:20,margin:{top:0,right:0,bottom:0,left:0},startAngle:-90,endAngle:270,enableTracks:!0,radialAxisStart:null,colors:["var(--chakra-colors-green-500)","var(--primary)"],tracksColor:"var(--muted)",enableRadialGrid:!1,enableCircularGrid:!1,enableLabels:!1,circularAxisOuter:null,maxValue:100,tooltip:e=>{let{bar:i}=e;return(0,u.jsxs)(eV.xu,{bg:"var(--chakra-colors-chakra-body-bg)",p:2,borderRadius:"md",boxShadow:"md",children:[(0,u.jsx)(U,{value:"supply"===i.data.x?null!=t?t:0:null!=r?r:0,maximumFractionDigits:0}),(0,u.jsx)(y.x,{children:n("supply"===i.data.x?"networkCapacity.utilization.global.totalSupply":"networkCapacity.stats.totalStaked")})]})}})}),(0,u.jsx)(eV.xu,{flex:1,display:"flex",width:{base:"100%",xl:"50%"},flexDir:{base:"row",xl:"column"},alignItems:{base:"start",xl:"center"},gap:6,justifyContent:"space-around",children:i.map(e=>(0,u.jsxs)(eV.xu,{display:"flex",flex:1,alignItems:{base:"center",md:"flex-start"},gap:2,children:[(0,u.jsx)(eV.xu,{w:2,h:2,borderRadius:"full",bg:e.color,mt:1}),(0,u.jsxs)(eV.xu,{children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"xs",children:e.id}),(0,u.jsx)(O.O,{isLoaded:!!t&&!!r,children:(0,u.jsx)(U,{value:"supply"===e.data[0].x?null!=t?t:0:null!=r?r:0,maximumFractionDigits:0,fontSize:"md",fontWeight:"medium"})})]})]},e.id))})]})};var t5=r(47699);let t3=e=>{let{consumedVCU:t,totalVCU:r}=e,n=(0,S.useTranslations)("token"),i=(0,b.useMemo)(()=>[{id:n("networkCapacity.utilization.global.consumed"),label:n("networkCapacity.utilization.global.consumed"),value:Number(null!=t?t:0),color:"var(--primary)"},{id:n("networkCapacity.utilization.global.available"),label:n("networkCapacity.utilization.global.available"),value:r-Number(null!=t?t:0),color:"var(--muted)"}],[t,r,n]),s=(0,b.useMemo)(()=>t&&r?t/r*100:0,[t,r]);return(0,u.jsx)(eV.xu,{children:(0,u.jsxs)(eV.xu,{height:"200px",position:"relative",children:[(0,u.jsx)(t5.Y2,{data:i,margin:{top:10,right:10,bottom:10,left:10},innerRadius:.8,padAngle:.5,cornerRadius:3,colors:{datum:"data.color"},enableArcLabels:!1,enableArcLinkLabels:!1,animate:!0,tooltip:()=>(0,u.jsx)(eV.xu,{bg:"var(--chakra-colors-chakra-body-bg)",p:2,borderRadius:"md",boxShadow:"md",children:n("networkCapacity.utilization.global.helperText.networkUtilization",{used:Number(null!=t?t:0).toLocaleString(),total:r.toLocaleString()})})}),(0,u.jsxs)(eV.xu,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"xl",fontWeight:"bold",children:[s.toFixed(1),"%"]})]})})};var t6=(0,er.$)("1acdf3e164f3b2ce5043f1f2f778b363d29f3e2a");let t8=()=>["vvv","vcu","global"],t7=()=>(0,ea.a)({queryKey:t8(),queryFn:()=>t6(new Date)});var t9=(0,er.$)("d15de206b30a62dd5608a3bc92dff6b540045891");let re=()=>["vvv","vcu","user"],rt=()=>(0,ea.a)({queryKey:re(),queryFn:()=>t9()}),rr=e=>{let{epochBlockNumber:t}=e;return["vvv","totalStaked",null!=t?t:null]},rn=e=>{let{epochBlockNumber:t}=e,r=null==t?void 0:t.toString();return(0,ea.a)({queryKey:rr({epochBlockNumber:r}),queryFn:()=>td({blockNumber:r})})};var ri=(0,er.$)("1482db458b7980329d8d47bf55de28800741c45a");let rs=e=>{let{blockNumber:t}=e;return["vvv","totalSupply",null!=t?t:null]},ra=e=>{let{blockNumber:t}=e,r=null==t?void 0:t.toString();return(0,ea.a)({queryKey:rs({blockNumber:r}),queryFn:()=>ri({blockNumber:r})})},ro=()=>{let e=(0,S.useTranslations)("token"),t=(0,J.Sz)(et.St,e=>e.walletConnectAddress),{data:r}=ra({blockNumber:void 0}),{data:n,isLoading:i}=rn({epochBlockNumber:void 0}),{data:s}=tl({address:t,blockNumber:void 0}),{data:a}=t7(),{data:o}=rt(),[l,d]=(0,b.useState)(!1),c=(0,b.useMemo)(()=>s?eG(s,18).toNumber():null,[s]),x=(0,b.useMemo)(()=>s&&n?em(s).div(n).times(100).toFixed(2):"0",[n,s]),f=(0,b.useMemo)(()=>n?eG(n,18).toNumber():null,[n]),j=(0,b.useMemo)(()=>f?em(T.mL).div(f).toNumber():null,[f]),k=Math.floor((0,b.useMemo)(()=>f&&s?eG(s,18).toNumber()/f:0,[f,s])*T.mL),v=(0,b.useMemo)(()=>o?Number(o)/k*100:0,[o,k]);return(0,u.jsxs)(z,{children:[(0,u.jsxs)(p.K,{spacing:8,children:[(0,u.jsx)(h.k,{justify:"space-between",align:"center",children:(0,u.jsx)(g.X,{fontSize:"md",fontWeight:"medium",color:"text.subtle",children:e.rich("networkCapacity.title",{amount:()=>(0,u.jsx)(U,{as:"span",fontWeight:"medium",color:"green.500",postfixColor:"green.500",value:T.mL,maximumFractionDigits:2,postfix:"VCU",notation:"standard"})})})}),c&&c>0&&(0,u.jsx)(M.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(h.k,{justify:"space-between",align:"center",mb:6,children:(0,u.jsx)(y.x,{fontWeight:"medium",children:e("networkCapacity.utilization.my.title")})}),(0,u.jsxs)(m.M,{minChildWidth:"250px",spacing:6,children:[(0,u.jsx)(t1,{label:e("networkCapacity.utilization.my.stake"),value:(0,u.jsx)(U,{value:c,postfix:"VVV",notation:"standard"}),helpText:e("networkCapacity.utilization.my.helperText.stake",{percentage:x}),isLoading:i}),(0,u.jsx)(t1,{label:e("networkCapacity.utilization.my.dailyCompute"),value:(0,u.jsx)(U,{value:k,postfix:"VCU",notation:"standard"}),helpText:e("networkCapacity.utilization.my.helperText.dailyCompute",{value:null==j?void 0:j.toLocaleString()}),isLoading:i,children:(0,u.jsx)(tG.D,{thickness:10,size:"100px",value:v,trackColor:"background.surface.muted",isIndeterminate:i,children:(0,u.jsx)(t0.u,{label:e("networkCapacity.utilization.my.helperText.usage",{used:null==o?void 0:o.toLocaleString(),total:k.toLocaleString()}),children:(0,u.jsxs)(tJ.i,{fontSize:"sm",children:[v.toFixed(1),"%"]})})})})]})]})}),(0,u.jsxs)(m.M,{columns:{base:1,md:2},spacing:6,mb:6,children:[(0,u.jsx)(M.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(y.x,{fontWeight:"medium",mb:6,color:"text.subtle",children:e("networkCapacity.utilization.global.stakedVsSupply")}),(0,u.jsx)(eV.xu,{width:"full",children:(0,u.jsx)(t2,{totalSupply:eG(r||"0",18).toNumber(),totalStaked:f})})]})}),(0,u.jsx)(M.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(h.k,{justifyContent:"space-between",alignItems:"center",mb:6,width:"full",children:(0,u.jsx)(y.x,{fontWeight:"medium",color:"text.subtle",children:e("networkCapacity.utilization.global.networkUtilization")})}),(0,u.jsx)(eV.xu,{width:"full",children:(0,u.jsx)(t3,{consumedVCU:Number(a),totalVCU:T.mL})})]})})]})]}),(0,u.jsxs)(P.u_,{size:"xl",isOpen:l,onClose:()=>d(!1),children:[(0,u.jsx)(V.Z,{}),(0,u.jsx)(W.h,{children:(0,u.jsx)(tY.m,{setRoute:()=>null,onClose:()=>d(!1)})})]})]})};var rl=r(32230),rd=r(99376);let rc=(0,r(53755).I)({displayName:"CoinmarketCap Icon",path:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M13.944 9.56045C13.8193 9.64641 13.6736 9.69714 13.5225 9.70729C13.3713 9.71745 13.2202 9.68664 13.085 9.61813C12.7678 9.43891 12.5968 9.01867 12.5968 8.44599V6.69087C12.5968 5.84833 12.2631 5.24887 11.7048 5.08613C10.7613 4.81009 10.0568 5.96575 9.7849 6.40041L8.11631 9.10107V5.80507C8.09777 5.04493 7.85057 4.58967 7.38295 4.45371C7.07395 4.36307 6.61045 4.40015 6.15931 5.08819L2.42865 11.0766C1.93227 10.1269 1.6749 9.07055 1.67881 7.99897C1.67881 4.38985 4.56281 1.45436 8.11631 1.45436C11.6698 1.45436 14.5641 4.38985 14.5641 7.99897V8.01751C14.5641 8.01751 14.5641 8.02987 14.5641 8.03605C14.5991 8.73439 14.3725 9.29059 13.9461 9.56045H13.944ZM16.004 8.00103V7.96601C15.9752 3.56792 12.4485 0 8.11631 0C3.78413 0 0.236816 3.58852 0.236816 7.99897C0.236816 12.4094 3.77177 16 8.11631 16C10.1089 15.9999 12.0257 15.2361 13.4723 13.8658C13.6127 13.7335 13.6953 13.5513 13.7023 13.3585C13.7092 13.1657 13.6399 12.9779 13.5094 12.8358C13.4469 12.7667 13.3714 12.7107 13.2872 12.6709C13.203 12.6311 13.1117 12.6083 13.0187 12.6039C12.9256 12.5995 12.8326 12.6136 12.745 12.6452C12.6574 12.6769 12.5769 12.7256 12.5082 12.7885C11.8854 13.3793 11.1496 13.8381 10.3451 14.1374C9.5405 14.4368 8.68374 14.5705 7.82622 14.5305C6.96871 14.4904 6.12812 14.2775 5.35493 13.9046C4.58174 13.5316 3.8919 13.0062 3.32681 12.36L6.68461 6.96279V9.45333C6.68461 10.6502 7.14811 11.0375 7.53745 11.1508C7.92679 11.2641 8.52213 11.1858 9.14631 10.1723L11.0003 7.17085C11.058 7.07403 11.1136 6.99163 11.163 6.91953V8.44599C11.163 9.56457 11.6121 10.4586 12.399 10.8994C12.7569 11.0926 13.1601 11.1859 13.5664 11.1696C13.9727 11.1533 14.3671 11.028 14.7083 10.8067C15.5735 10.2444 16.0452 9.22673 15.9958 8.00103H16.004Z",fill:"currentColor"})}),viewBox:"0 0 16 16"}),ru={px:0,py:0},rx={fontSize:"md",fontWeight:"normal"},rh=e=>{let{marketData:t}=e,r=(0,S.useTranslations)("token"),n=(0,rd.useRouter)(),{data:i,isLoading:s}=ra({}),a=(0,b.useMemo)(()=>i?eG(i,18).toNumber():null,[i]);return(0,u.jsxs)(z,{spacing:6,pt:6,children:[(0,u.jsxs)(h.k,{alignItems:"center",justifyContent:"space-between",children:[(0,u.jsx)(g.X,{size:"sm",children:r("tokenDetails.title")}),(0,u.jsxs)(j.r,{href:T.Y9,color:"text.link",isExternal:!0,children:[(0,u.jsx)(rc,{})," CoinMarketCap"]})]}),(0,u.jsx)(y.x,{whiteSpace:"pre-line",children:r.rich("tokenDetails.description",{link:e=>(0,u.jsx)(j.r,{href:"https://basescan.org/token/".concat(T.I_),color:"text.link",isExternal:!0,children:e})})}),(0,u.jsxs)(p.K,{spacing:6,children:[T.ZQ&&(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.price"),rowProps:ru,headingProps:rx,children:(0,u.jsxs)(O.O,{isLoaded:!!t,children:[tQ(null==t?void 0:t.priceUsd)," ",(0,u.jsxs)(y.x,{as:"span",color:t&&0>Number(null==t?void 0:t.changePercent24Hr)?"red.500":"green.500",children:["(",Number(null==t?void 0:t.changePercent24Hr).toFixed(2),"%)"]})]})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.totalSupply"),rowProps:ru,headingProps:rx,children:(0,u.jsx)(O.O,{isLoaded:!s,children:a&&(0,u.jsx)(U,{value:a,minimumFractionDigits:0,maximumFractionDigits:2})})}),T.ZQ&&(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.marketCap"),rowProps:ru,headingProps:rx,children:(0,u.jsx)(O.O,{isLoaded:!!t,children:(null==t?void 0:t.marketCapUsd)&&(0,u.jsx)(U,{prefix:"$",value:Number(t.marketCapUsd),minimumFractionDigits:0,maximumFractionDigits:2})})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.stakingYield"),rowProps:ru,headingProps:rx,children:(0,u.jsx)(t_,{})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.contract"),rowProps:ru,headingProps:rx,children:(0,u.jsx)(j.r,{color:"text.link",href:"https://basescan.org/address/".concat(T.I_),isExternal:!0,fontSize:"md",children:T.I_.slice(0,6)})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.contractAudit"),rowProps:ru,headingProps:rx,children:(0,u.jsx)(j.r,{color:"text.link",href:"https://www.trust-security.xyz/venice-ai-audit",isExternal:!0,fontSize:"md",children:"View Audit"})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.trading.buySell"),rowProps:ru,headingProps:rx,children:(0,u.jsxs)(h.k,{gap:2,children:[(0,u.jsx)(t0.u,{label:r("tokenDetails.trading.tooltips.aerodrome"),placement:"left",children:(0,u.jsx)(k.h,{onClick:()=>n.push(T.xN),isRound:!0,"aria-label":r("tokenDetails.trading.tooltips.aerodrome"),icon:(0,u.jsx)(rl.q,{boxSize:"1rem",src:"/images/aerodrome.png"})})}),void 0!==T.bM&&(0,u.jsx)(t0.u,{label:r("tokenDetails.trading.tooltips.coinbase"),placement:"left",children:(0,u.jsx)(k.h,{onClick:()=>n.push(T.bM||""),isRound:!0,"aria-label":r("tokenDetails.trading.tooltips.coinbase"),icon:(0,u.jsx)(rl.q,{boxSize:"1rem",src:"/images/coinbase.png"})})})]})}),(0,u.jsx)(e$.X,{heading:r("tokenDetails.fields.links"),rowProps:{...ru,alignItems:"flex-start"},headingProps:rx,children:(0,u.jsxs)(p.K,{alignItems:"flex-end",children:[(0,u.jsx)(j.r,{color:"text.link",href:"https://venice.ai/faqs",isExternal:!0,children:r("tokenDetails.faqs")}),(0,u.jsx)(j.r,{color:"text.link",href:"https://cdn.prod.website-files.com/668e6f67ec8b61b6033ef1c8/679953150615a7e0ea76786d_Venice%20Fact%20Sheet%20(3).pdf",isExternal:!0,children:r("tokenDetails.factSheet")})]})})]})]})},rm={base:"column",lg:"row"},rp={base:"center",lg:"left"},rb=()=>{let e=(0,S.useTranslations)("token");return(0,u.jsxs)(h.k,{alignItems:"center",justifyContent:"space-between",gap:4,px:6,py:4,flexDir:rm,children:[(0,u.jsx)(g.X,{size:"lg",fontWeight:"normal",children:e("page.title")}),(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",fontWeight:"medium",textAlign:rp,children:e("page.subtitle")})]})},rf={base:"1fr",md:"1.75fr 1fr"},rg={borderRightWidth:{base:0,md:1},borderBottomWidth:{base:1,md:0},minHeight:{base:"auto",md:"100%"}},rj=(0,u.jsx)(x.c,{borderColor:"border.subtle"}),rk=()=>{let[e,t]=(0,b.useState)(null);return(0,b.useEffect)(()=>{(async()=>{if(!T.ZQ)return;let e=await fetch(T.ZQ);t((await e.json()).data)})()},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.C,{rightComponent:(0,u.jsx)(e2,{})}),(0,u.jsx)(h.k,{flexDir:"column",flex:1,overflowY:"auto",pt:"calc(env(safe-area-inset-top) + 58px)",minHeight:"100%",children:(0,u.jsxs)(m.M,{templateColumns:rf,alignItems:"start",height:"full",children:[(0,u.jsxs)(e4,{...rg,borderRadius:0,borderColor:"border.subtle",children:[(0,u.jsx)(rb,{}),(0,u.jsx)(e1,{marketData:e}),(0,u.jsxs)(p.K,{divider:rj,children:[(0,u.jsx)(tZ,{marketData:e}),(0,u.jsx)(ro,{})]})]}),(0,u.jsx)(e4,{children:(0,u.jsxs)(p.K,{divider:rj,children:[(0,u.jsx)(rh,{marketData:e}),(0,u.jsx)(I,{})]})})]})})]})}},41124:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(57437),i=r(57174),s=r(25730);let a=(0,n.jsx)(i.R,{}),o=e=>(0,n.jsx)(s.h,{variant:"ghost",icon:a,fontSize:"xl",size:"md",isRound:!0,"aria-label":"back",...e})},72246:function(e,t,r){"use strict";r.d(t,{$:function(){return s}});var n=r(57437),i=r(4360);let s=e=>(0,n.jsx)(i.x,{textAlign:"center",fontWeight:"semibold",...e})},7414:function(e,t,r){"use strict";r.d(t,{X:function(){return u}});var n=r(57437),i=r(31384),s=r(13449),a=r(4360),o=r(72499),l=r(22053),d=r(45168),c=r(41425);let u=e=>{let{heading:t,icon:r,body:u,children:x,layout:h="inline",tooltipBody:m,onClick:p,hideChildren:b,hiddenMessage:f,rowProps:g,stackProps:j,badgeText:k,headingProps:y}=e;return(0,n.jsxs)(s.k,{columnGap:6,rowGap:4,justifyContent:"space-between",px:4,py:4,flexDir:"inline"===h?"row":"column",alignItems:"inline"===h?"center":"flex-start",width:"full",_last:{borderBottomRadius:"xl"},...g,...p&&{onClick:p,_hover:{bg:"background.button.secondary.hover"},_active:{bg:"background.button.secondary.pressed"},cursor:"pointer"},children:[t&&(0,n.jsxs)(s.k,{alignItems:"inline"===h?"flex-start":"center",width:"inline"===h?"auto":"full",justifyContent:"space-between",flexDir:"inline"===h?"column":"row",gap:2,minWidth:0,children:[(0,n.jsxs)(s.k,{gap:2,alignItems:"center",width:"100%",flexGrow:0,children:[r,(0,n.jsx)(a.x,{fontSize:"sm",flexGrow:0,fontWeight:"semibold",whiteSpace:"nowrap",color:"text.subtle",minWidth:0,overflow:"hidden",textOverflow:"ellipsis",...y,children:t}),k&&(0,n.jsx)(o.C,{colorScheme:"green",children:k}),m&&(0,n.jsx)(c.x,{label:m,children:(0,n.jsx)(l.xu,{as:"span",color:"text.subtle",children:(0,n.jsx)(d.Qoz,{})})})]}),!b&&u&&(0,n.jsx)(l.xu,{fontSize:"sm",children:u}),b&&f]}),x&&!b&&(0,n.jsx)(s.k,{flexDir:"inline"===h?"row":"column",gap:4,width:"inline"===h?"auto":"full",...j,children:x}),p&&(0,n.jsx)(i.m,{color:"text.subtle"})]})}},71272:function(e,t,r){"use strict";var n,i;r.d(t,{K:function(){return n}}),(i=n||(n={})).BackupHistory="backup-history",i.Settings="settings",i.PointHistory="point_history",i.ManageAccount="manage_account",i.ApiKeys="api_keys"},73595:function(e,t,r){"use strict";r.d(t,{m:function(){return G}});var n=r(57437),i=r(71416),s=r(37354),a=r(6924),o=r(4360),l=r(72499),d=r(16152),c=r(83657),u=r(61507),x=r(6314),h=r(34442),m=r(13449),p=r(13701),b=r(71632),f=r(42586),g=r(2265),j=r(45168),k=r(71272),y=r(38386),v=r(97244),C=r(78796),w=r(31631),S=r(97205),E=r(25730),z=r(22048),T=r(29827),I=r(21770);let D=()=>(0,n.jsxs)(s.Z,{bg:"var(--muted)",children:[(0,n.jsx)(y.O,{children:(0,n.jsx)(v.O,{width:"100px",height:"18px",startColor:"var(--secondary)",endColor:"var(--secondary-hover)"})}),(0,n.jsx)(a.e,{children:(0,n.jsx)(v.O,{height:"18px",startColor:"var(--secondary)",endColor:"var(--secondary-hover)"})})]}),N=e=>{let{id:t,description:r,last6Chars:i,createdAt:l}=e,d=(0,C.p)(),u=(0,T.NL)(),x=(0,f.useTranslations)(),h=(0,I.D)({mutationFn:async e=>{if(!(await fetch("/api/user/api_keys/destroy",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw Error("Error deleting key")},onSuccess:async()=>{await u.invalidateQueries({queryKey:["api_keys"]}),d({title:x("settings.apiKeys.delete.toast.title"),status:"success"})}}),p=(0,g.useCallback)(async()=>{if(window.confirm(x("settings.apiKeys.delete.confirmation")))try{await h.mutateAsync(t)}catch(e){z.Tb(e),console.error(e)}},[h,t,x]);return(0,n.jsx)(s.Z,{overflow:"hidden",children:(0,n.jsx)(a.e,{children:(0,n.jsxs)(c.K,{spacing:0,children:[(0,n.jsxs)(m.k,{alignItems:"center",justifyContent:"space-between",mb:2,children:[(0,n.jsx)(w.X,{size:"sm",children:r}),(0,n.jsx)(S.h,{spacing:2,variant:"ghost",size:"sm",flexShrink:0,children:(0,n.jsx)(E.h,{onClick:p,fontSize:"xl",icon:(0,n.jsx)(j.EF5,{}),colorScheme:"red","aria-label":"Show",isLoading:"pending"===h.status})})]}),(0,n.jsxs)(c.K,{spacing:2,children:[(0,n.jsxs)(o.x,{whiteSpace:"nowrap",as:"p",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",children:["*************************************",i]}),(0,n.jsxs)(o.x,{fontSize:"sm",color:"text.subtle",children:[x("settings.apiKeys.createdAt"),": ",new Date(l).toLocaleString()]})]})]})})})};var F=r(34096),M=r(27924),R=r(49270),A=r(95171),L=r(40748),O=r(12125),K=r(10883),_=r(68193),U=r(20517),q=r(34394),P=r(19383),V=r(48860),W=r(29501),H=r(1914),B=r(93020);let Q=e=>{let{isOpen:t,onClose:r}=e,i=(0,f.useTranslations)(),s=(0,T.NL)(),[a,o]=(0,g.useState)(null),{copyToClipboard:l,isCopied:c}=(0,H.m)({timeout:2e3}),u=(0,I.D)({mutationFn:async e=>{let{description:t}=e,r=await fetch("/api/user/api_keys/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})});if(!r.ok)throw Error("Error creating key");return r.json()},onSuccess:async()=>{await s.invalidateQueries({queryKey:["api_keys"]})}}),{register:x,handleSubmit:h,reset:m,formState:{errors:b,isValid:k,isSubmitting:y}}=(0,W.cI)({defaultValues:{description:""},mode:"onChange"}),v=(0,g.useCallback)(async e=>{o(await u.mutateAsync(e))},[u]),C=(0,g.useCallback)(()=>{o(null),r(),m()},[r,m]),w=(0,g.useMemo)(()=>a?(0,n.jsxs)(F.h,{children:[(0,n.jsx)(M.o,{}),(0,n.jsx)(R.x,{children:i("settings.apiKeys.createModal.success.header")}),(0,n.jsx)(d.f,{children:(0,n.jsxs)(A.NI,{mt:4,children:[(0,n.jsx)(L.l,{children:i("settings.apiKeys.createModal.success.label")}),(0,n.jsxs)(O.B,{children:[(0,n.jsx)(K.I,{value:a.apiKey,isReadOnly:!0}),(0,n.jsx)(_.x,{children:(0,n.jsx)(E.h,{icon:c?(0,n.jsx)(j.e6w,{}):(0,n.jsx)(j.muo,{}),onClick:()=>l(a.apiKey),"aria-label":"Copy API key"})})]}),(0,n.jsx)(A.Q6,{children:i("settings.apiKeys.createModal.fields.apiKeyHelper")})]})}),(0,n.jsx)(U.m,{children:(0,n.jsx)(p.z,{colorScheme:"secondary",onClick:C,children:i("settings.apiKeys.createModal.cta.close")})})]}):(0,n.jsx)("form",{onSubmit:(0,B.I)(h(v)),children:(0,n.jsxs)(F.h,{children:[(0,n.jsx)(M.o,{}),(0,n.jsx)(R.x,{children:i("settings.apiKeys.createModal.header")}),(0,n.jsx)(d.f,{children:(0,n.jsxs)(A.NI,{isInvalid:!!b.description,children:[(0,n.jsx)(L.l,{children:i("settings.apiKeys.createModal.fields.description")}),(0,n.jsx)(K.I,{...x("description",{required:"Description is required"})}),b.description&&(0,n.jsx)(q.J1,{children:b.description.message})]})}),(0,n.jsxs)(U.m,{children:[(0,n.jsx)(p.z,{colorScheme:"secondary",mr:3,onClick:r,isDisabled:y,children:i("settings.apiKeys.createModal.cta.cancel")}),(0,n.jsx)(p.z,{colorScheme:"primary",type:"submit",isDisabled:!k,isLoading:y,children:i("settings.apiKeys.createModal.cta.create")})]})]})}),[l,b.description,C,h,c,y,k,a,r,v,x,i]);return(0,n.jsxs)(P.u_,{size:"md",isOpen:t,onClose:C,children:[(0,n.jsx)(V.Z,{}),w]})};var X=r(41124),$=r(86537),Z=r(72246);let G=e=>{let{setRoute:t,onClose:r}=e,y=(0,f.useTranslations)(),{isOpen:v,onOpen:C,onClose:w}=(0,i.q)(),{data:S,status:E}=(0,b.a)({queryKey:["api_keys"],queryFn:async()=>{let e=await fetch("/api/user/api_keys");if(!e.ok)throw Error("Error fetching keys");return e.json()}}),z=(0,g.useCallback)(()=>{r?r():t(k.K.Settings)},[r,t]),T=(0,g.useCallback)(()=>{let e=(null==S?void 0:S.length)===0?"/":"/api-reference/api-spec";window.open("https://docs.venice.ai/".concat(e),"_blank")},[S]),I=(0,g.useMemo)(()=>"pending"===E?(0,n.jsx)(D,{}):(null==S?void 0:S.length)===0?(0,n.jsx)(s.Z,{children:(0,n.jsxs)(a.e,{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",gap:2,children:[(0,n.jsx)(j.BS5,{size:48,color:"var(--muted)"}),(0,n.jsx)(o.x,{textAlign:"center",color:"text.subtle",children:y("settings.apiKeys.empty")})]})}):null==S?void 0:S.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map(e=>(0,n.jsx)(N,{...e},e.id)),[S,E,y]),F=(0,n.jsx)(j.NQR,{});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($.fK,{children:[(0,n.jsx)($.fK.Left,{children:(0,n.jsx)(X.r,{onClick:z})}),(0,n.jsxs)($.fK.Middle,{children:[(0,n.jsx)(j.BS5,{}),(0,n.jsxs)(Z.$,{children:[y("settings.apiKeys.header")," ",(0,n.jsx)(l.C,{colorScheme:"green",children:"Beta"})]})]})]}),(0,n.jsx)(d.f,{px:4,pb:4,children:(0,n.jsxs)(c.K,{spacing:4,children:[(0,n.jsxs)(u.b,{borderRadius:"lg",children:[(0,n.jsx)(x.z,{}),(0,n.jsx)(h.X,{fontSize:"sm",children:y("settings.apiKeys.description")})]}),(0,n.jsxs)(m.k,{justifyContent:"space-between",gap:2,flexWrap:"wrap",children:[(0,n.jsx)(p.z,{w:{base:"100%",md:"auto"},onClick:T,variant:"outline",leftIcon:F,size:"md","aria-label":"docs",children:"Docs"}),(0,n.jsx)(p.z,{w:{base:"100%",md:"auto"},size:"md",onClick:C,children:y("settings.apiKeys.cta.create")})]}),I]})}),(0,n.jsx)(Q,{isOpen:v,onClose:w})]})}},1914:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var n=r(2265);function i(e){let{timeout:t=2e3}=e,[r,i]=(0,n.useState)(!1);return{isCopied:r,copyToClipboard:(0,n.useCallback)(e=>{var r;(null===(r=navigator.clipboard)||void 0===r?void 0:r.writeText)&&e&&navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>{i(!1)},t)})},[t])}}},93020:function(e,t,r){"use strict";function n(e){return t=>{t.stopPropagation(),e(t)}}r.d(t,{I:function(){return n}})}},function(e){e.O(0,[6950,7240,1866,174,702,8541,6613,7064,330,156,2957,7394,1760,9420,4748,4718,3889,1450,5878,7502,937,98,9307,8457,4575,8155,9108,8435,5355,4553,991,2971,9189,3649,1744],function(){return e(e.s=45850)}),_N_E=e.O()}]);
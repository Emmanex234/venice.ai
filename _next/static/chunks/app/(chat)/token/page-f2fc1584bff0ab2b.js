!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8db69d4b-eb55-45dd-8090-ac51b2359028",e._sentryDebugIdIdentifier="sentry-dbid-8db69d4b-eb55-45dd-8090-ac51b2359028")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8801],{88677:function(){},62808:function(){},35883:function(){},46601:function(){},89214:function(){},45850:function(e,t,r){Promise.resolve().then(r.bind(r,80022)),Promise.resolve().then(r.bind(r,41655))},80022:function(e,t,r){"use strict";r.d(t,{ChatContainer:function(){return d},ChatMainContent:function(){return c}});var i=r(57437),a=r(13449),n=r(2265);let s={base:0,md:1},o={base:0,md:2},l={base:0,md:"xl"},d=e=>{let{children:t}=e;return(0,i.jsx)(a.k,{width:"full",flex:1,position:"relative",overflow:"hidden",height:"100%",children:t})},c=e=>{let{children:t,flexProps:r}=(0,n.useMemo)(()=>{let{children:t,...r}=e;return{children:t,flexProps:r}},[e]);return(0,i.jsx)(a.k,{width:"full",flexDir:"column",flex:1,position:"relative",bg:"var(--background)",borderLeftWidth:s,borderRightWidth:s,borderTopWidth:s,mx:o,mt:o,borderTopRadius:l,borderColor:"border.subtle",boxShadow:"sm",overflow:"hidden",...r,children:t})}},31869:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var i=r(57437),a=r(25730),n=r(2265),s=r(45168),o=r(23838),l=r(74468),d=r(13823);let c=(0,i.jsx)(s.tE8,{}),u=()=>{let{state:{showChatbar:e},dispatch:t}=(0,d.IO)(),r=(0,n.useCallback)(()=>{t({field:"showChatbar",value:!e}),o.Z.setItem("showChatbar",JSON.stringify(!e)),(0,l.Qe)({name:"toggledChatbar",data:{value:!e}})},[t,e]);return(0,i.jsx)(a.h,{colorScheme:"secondary",variant:"ghost",size:"md","aria-label":"Show Sidebar",icon:c,onClick:r})}},41425:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var i=r(57437),a=r(22053),n=r(2265),s=r(22122);let o=e=>{let{children:t,...r}=e,[o,l]=(0,n.useState)(!1),{isDisabled:d}=r;return(0,i.jsx)(s.u,{isOpen:o,isDisabled:d,...r,children:(0,i.jsx)(a.xu,{...d?{}:{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>l(!0)},children:t})})}},57274:function(e,t,r){"use strict";r.d(t,{C:function(){return H}});var i=r(57437),a=r(13449),n=r(25730),s=r(13701),o=r(99376),l=r(42586),d=r(2265),c=r(45168),u=r(86537),x=r(62128),m=r(58528);let h=e=>{let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})};h.Desktop=e=>{let{children:t}=e,[r]=(0,x.a)("(min-width: ".concat(m.A.md,")"),{ssr:!1});return r?(0,i.jsx)(i.Fragment,{children:t}):null},h.Mobile=e=>{let{children:t}=e,[r]=(0,x.a)("(min-width: ".concat(m.A.md,")"),{ssr:!1});return r?null:(0,i.jsx)(i.Fragment,{children:t})};var p=r(97205),b=r(31631),f=r(4360),g=r(25774),j=r(74468),k=r(44321),y=r(43159),C=r(51138),v=r(93369),w=r(18254),S=r(81613);let E=(0,i.jsx)(c.YsT,{size:"1rem"}),T=(0,i.jsx)(c.msJ,{size:"1rem"}),z=(0,i.jsx)(c.ssl,{size:"1rem"}),D=e=>(0,i.jsx)(s.z,{leftIcon:T,px:3,width:"full",justifyContent:{base:"center",md:"flex-start"},_hover:{color:"text.base"},...e}),I=e=>{let{conversationType:t,textAreaRef:r,onMessageTypeChange:n,placement:o="auto"}=e,[u,x]=(0,d.useState)(t),m=(0,l.useTranslations)(),h=(0,g.Sz)(y.St,e=>e.isProUser),I=(0,g.Sz)(y.St,e=>e.isVeniceStaff),A=(0,v.F)(e=>e.settings.textModel),N=(0,v.F)(e=>e.settings.imageModel),F=(0,v.F)(e=>e.settings.codeModel),R=(0,v.F)(e=>e.saveImageModel),M=(0,v.F)(e=>e.saveTextModel),L=(0,v.F)(e=>e.saveCodeModel),O=(0,g.Sz)(y.St,e=>e.issuePoints),_=(0,d.useMemo)(()=>{let e;return e=(0,C.Do)(u,{includeRetired:!0,inActive:!1,isListed:!0,isProUser:h,isVeniceStaff:I}),h&&(e=e.filter(e=>!e.freeOnly)),e},[u,h,I]),K=(0,d.useMemo)(()=>{switch(t){case w.i.Text:return null!=A?A:C.bO.id;case w.i.Code:return null!=F?F:C.au.id;case w.i.Image:return null!=N?N:C.HX.id;default:return""}},[F,t,N,A]),U=(0,d.useMemo)(()=>(0,C.Ho)(K)||null,[K]),q=(0,d.useMemo)(()=>{if(!U)return null;switch(t){case w.i.Text:return U.id!==C.bO.id?U.friendly_name:null;case w.i.Image:return U.id!==C.HX.id?U.friendly_name:null;case w.i.Code:return U.id!==C.au.id?U.friendly_name:null;default:return null}},[U,t]),P=(0,d.useCallback)(e=>{let[i,a]=e.split(":"),s=(0,C.Ho)(a);if(!s)throw Error("Invalid model id");switch(t!==i&&n(u),i){case w.i.Text:M(s.id);break;case w.i.Image:R(s.id);break;case w.i.Code:L(s.id);default:return}(0,j.Qe)({name:"changedModel",data:{conversationType:w.i.Text,model:s}}),O(S.mR.MODEL_SELECTION),(null==r?void 0:r.current)&&r.current.focus()},[u,t,O,n,L,R,M,r]);(0,d.useEffect)(()=>{x(t)},[t]);let V=(0,d.useMemo)(()=>(0,i.jsxs)(a.k,{bg:{base:"background.surface.overlay.base",md:"background.surface.overlay.raised.base"},position:"sticky",top:0,p:2,zIndex:"sticky",flexDirection:"column",borderRightWidth:1,borderColor:"border.base",boxSizing:"border-box",flexShrink:0,width:{base:"full",md:"200px"},children:[(0,i.jsxs)(p.h,{spacing:0,variant:"ghost",size:"md",flexDirection:{base:"row",md:"column"},children:[(0,i.jsx)(D,{leftIcon:E,isActive:u===w.i.Text,onClick:()=>x(w.i.Text),children:m("chatSettings.tabs.text")}),(0,i.jsx)(D,{leftIcon:T,isActive:u===w.i.Image,onClick:()=>x(w.i.Image),children:m("chatSettings.tabs.image")}),(0,i.jsx)(D,{leftIcon:z,isActive:u===w.i.Code,onClick:()=>x(w.i.Code),children:m("chatSettings.tabs.code")})]}),(0,i.jsxs)(a.k,{flexDirection:"column",mt:"auto",gap:1,px:3,pb:3,display:{base:"none",md:"flex"},children:[(0,i.jsxs)(a.k,{alignItems:"center",gap:1,children:[(0,i.jsx)(c.Qoz,{size:"14px",color:"var(--chakra-colors-text-subtle)"}),(0,i.jsx)(b.X,{size:"xs",fontWeight:"medium",children:m("modelSelector.helper.title")})]}),(0,i.jsx)(f.x,{fontSize:"xs",color:"text.subtle",fontWeight:"normal",children:m("modelSelector.helper.description")})]})]}),[u,m]),W=(0,d.useMemo)(()=>(0,i.jsx)(a.k,{bg:"background.surface.overlay.base",display:{base:"flex",md:"none"},children:(0,i.jsxs)(a.k,{bg:"background.surface.overlay.raised.base",flexDirection:"column",mt:"auto",gap:1,py:3,px:6,children:[(0,i.jsxs)(a.k,{alignItems:"center",gap:1,children:[(0,i.jsx)(c.Qoz,{size:"14px"}),(0,i.jsx)(b.X,{size:"xs",fontWeight:"medium",children:m("modelSelector.helper.title")})]}),(0,i.jsx)(f.x,{fontSize:"xs",color:"text.subtle",fontWeight:"normal",children:m("modelSelector.helper.description")})]})}),[m]);return(0,i.jsx)(k.h,{options:_,placement:o,value:"".concat(t,":").concat(K),conversationType:u,onChange:P,as:s.z,variant:"ghost",rightIcon:(0,i.jsx)(c.YRR,{}),size:{base:"sm",md:"md"},listHeader:V,listFooter:W,autoReset:!1,menuListProps:{flexDirection:{base:"column",md:"row"},maxWidth:{base:"375px",md:"650px"}},children:q||m("modelSelector.switcher.title")})};var A=r(31869),N=r(22053),F=r(5095),R=r(59745),M=r(21652),L=r.n(M),O=r(41528),_=r(82129),K=r(3809);let U=e=>{let{conversationType:t,isDisabled:r,characterId:a}=e,{onOpen:o}=(0,O.R)("chatSettings"),u=(0,l.useTranslations)(),h=(0,g.Sz)(y.St,e=>e.id),{data:p}=(0,_.QB)(h),b=(0,v.F)(e=>e.settings.imageSettings),f=(0,v.F)(e=>e.settings.textSettings),k=(0,g.Sz)(y.St,e=>e.isProUser),[C]=(0,x.a)("(min-width: ".concat(m.A.md,")"),{ssr:!1}),S=(0,d.useMemo)(()=>(null==p?void 0:p.some(e=>e.active))||!1,[p]),E=(0,d.useMemo)(()=>{switch(t){case w.i.Text:return!L()(f,K.Bj)||S;case w.i.Image:return!L()(b,K.IW);default:return!1}},[t,b,S,f]),T=()=>{(0,j.Qe)({name:"openedChatSettings",data:{}}),o({conversationType:null!=t?t:void 0,characterId:a})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(N.xu,{position:"relative",children:[(0,i.jsx)(F.M,{mode:"wait",children:E&&(0,i.jsx)(R.E.div,{animate:{scale:1},initial:{scale:0},style:{width:"10px",height:"10px",position:"absolute",top:"-1px",right:"-1px",zIndex:2,borderRadius:"100%",backgroundColor:"var(--primary)"}})}),k||!C?(0,i.jsx)(n.h,{colorScheme:"secondary",variant:"ghost",size:"md",icon:(0,i.jsx)(c.AXL,{}),"aria-label":"Chat settings",onClick:T,isDisabled:r}):(0,i.jsx)(s.z,{colorScheme:"secondary",variant:"ghost",size:"md",leftIcon:(0,i.jsx)(c.AXL,{}),"aria-label":"Chat settings",onClick:T,isDisabled:r,children:u("chatSettings.title")})]})})};var q=r(64214),P=r(13823);let V=(0,i.jsx)(c.dKc,{}),W={base:"fixed",md:"absolute"},H=(0,d.memo)(e=>{let{leftComponent:t,rightComponent:r,hideRightComponent:c,conversationType:x,characterId:m,textAreaRef:p,onMessageTypeChange:b}=e,f=(0,l.useTranslations)(),g=(0,o.useRouter)(),{state:{loading:j,messageIsStreaming:k}}=(0,P.IO)(),{clearSelectedConversation:y,selectedConversation:C}=(0,q.uu)(),v=null!=m?m:null==C?void 0:C.characterId,S=j||k,E=(0,d.useCallback)(()=>{if(y(),v)return g.push("/character-chat/".concat(v))},[v,y,g]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.k,{position:W,top:0,left:0,right:0,className:"chat-header",bg:"var(--background-transparent)",backdropFilter:"blur(15px)",borderBottomWidth:1,borderColor:"border.subtle",zIndex:"sticky",children:(0,i.jsxs)(u.fK,{flexProps:{width:"full"},py:2,minHeight:"auto",children:[(0,i.jsx)(u.ej,{children:t||(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.f,{}),!m&&b&&(0,i.jsx)(h,{children:(0,i.jsx)(h.Desktop,{children:(0,i.jsx)(I,{conversationType:null!=x?x:w.i.Text,textAreaRef:p,placement:"bottom-end",onMessageTypeChange:b})})})]})}),(0,i.jsx)(u.zR,{children:!m&&b&&(0,i.jsx)(h,{children:(0,i.jsx)(h.Mobile,{children:(0,i.jsx)(I,{conversationType:null!=x?x:w.i.Text,textAreaRef:p,onMessageTypeChange:b})})})}),!c&&(0,i.jsx)(u.y6,{children:r||(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h,{children:[(0,i.jsx)(h.Mobile,{children:(0,i.jsx)(n.h,{icon:V,variant:"ghost",size:"md","aria-label":f("newChat"),isDisabled:S,onClick:E})}),(0,i.jsx)(h.Desktop,{children:(0,i.jsx)(s.z,{size:"md",variant:"ghost",onClick:E,leftIcon:V,isDisabled:S,children:f("newChat")})})]}),(0,i.jsx)(U,{conversationType:x,characterId:v})]})})]})})})});H.displayName="ChatHeader"},41655:function(e,t,r){"use strict";r.d(t,{DashboardPage:function(){return rC}});var i,a,n,s,o,l,d,c,u=r(57437),x=r(91092),m=r(13449),h=r(76405),p=r(83657),b=r(2265),f=r(57274),g=r(31631),j=r(68686),k=r(25730),y=r(4360),C=r(58055),v=r(13701),w=r(33145),S=r(42586),E=r(61273);let T=e=>(0,u.jsx)(p.K,{px:6,py:6,spacing:8,...e});var z=r(3490);let D=()=>{let e=(0,S.useLocale)(),t=(0,S.useTranslations)("token"),r=(0,b.useMemo)(()=>"en"===e?"/files/airdrop-terms-en.pdf":"es"===e?"/files/airdrop-terms-es.pdf":"/files/airdrop-terms-en.pdf",[e]);return(0,u.jsxs)(T,{spacing:6,pt:6,children:[(0,u.jsxs)(m.k,{alignItems:"center",justifyContent:"space-between",children:[(0,u.jsx)(g.X,{size:"sm",children:t("about.title")}),(0,u.jsxs)(m.k,{gap:2,children:[(0,u.jsx)(j.r,{href:z.j0,isExternal:!0,children:(0,u.jsx)(k.h,{isRound:!0,"aria-label":"Discord",icon:(0,u.jsx)(E.j2d,{})})}),(0,u.jsx)(j.r,{href:z.Vu,isExternal:!0,children:(0,u.jsx)(k.h,{isRound:!0,"aria-label":"Twitter",icon:(0,u.jsx)(E.LCd,{})})})]})]}),(0,u.jsxs)(y.x,{fontSize:"md",color:"text.subtle",children:[(0,u.jsx)(w.default,{src:"/images/venice-frame-mock.png",alt:"Venice Mobile App",width:100,height:130,style:{float:"right",marginLeft:"0.5rem",objectFit:"cover"}}),t("about.description")]}),(0,u.jsxs)(C.U,{flexWrap:"wrap",children:[(0,u.jsx)(v.z,{as:j.r,color:"text.link",href:"https://venice.ai/api",isExternal:!0,fontSize:"md",children:t("about.links.api")}),(0,u.jsx)(v.z,{as:j.r,color:"text.link",href:"https://venice.ai/chat",isExternal:!0,fontSize:"md",children:t("about.links.app")}),(0,u.jsx)(v.z,{as:j.r,color:"text.link",href:r,isExternal:!0,fontSize:"md",children:t("about.links.airdropTerms")})]})]})};var I=r(45197),A=r(90593),N=r(71416),F=r(37354),R=r(38386),M=r(4231),L=r(6924),O=r(97244),_=r(89307);let K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return"-";let{minimumFractionDigits:r=0,maximumFractionDigits:i=4,notation:a="compact"}=t;return new Intl.NumberFormat("en-US",{notation:a,maximumFractionDigits:i,minimumFractionDigits:r}).format(e)},U=e=>{let{value:t,prefix:r,postfix:i,minimumFractionDigits:a=0,maximumFractionDigits:n=4,notation:s="compact",postfixColor:o="text.subtle",...l}=e,d=(0,b.useMemo)(()=>K(t,{prefix:r,postfix:i,minimumFractionDigits:a,maximumFractionDigits:n,notation:s}),[n,a,s,i,r,t]);return(0,u.jsxs)(y.x,{...l,children:[r?"".concat(r," "):"",d,i?(0,u.jsx)(y.x,{as:"span",color:o,children:" ".concat(i)}):""]})};var q=r(78796),P=r(19383),V=r(48860),W=r(34096),H=r(49270),B=r(27924),Q=r(16152),X=r(22811),$=r(30643),Z=r(20517),G=r(45168),Y=r(25774),J=r(29827),ee=r(21770),et=r(43159);r(83079);var er=r(12119);(0,er.$)("79360f1989617681d5480753b1d2a46b375a69c8");let ei=e=>{let{userId:t}=e;return["termsAgreement",t]};var ea=(0,er.$)("da6b5ecab9d2882a8592df4f66c9209d1a20cfdc");let en=()=>{let e=(0,J.NL)(),t=(0,Y.Sz)(et.St,e=>e.id);return(0,ee.D)({mutationFn:async()=>{await ea()},onSuccess:async()=>{await e.invalidateQueries({queryKey:ei({userId:t})})}})};var es=r(71632),eo=(0,er.$)("ed81aca6b86918281f85740e1ae171a1d3640d7a");let el=e=>{let{userId:t}=e;return["vvv","airdrop","pointsAirdropClaimStatus",t]},ed=()=>{let e=(0,Y.Sz)(et.St,e=>e.id);return(0,es.a)({queryKey:el({userId:e}),queryFn:()=>eo()})};var ec=(0,er.$)("1b82e20a580993f7352e37d71c215145d4ca24eb");let eu=e=>{let{userId:t}=e;return["vvv","airdrop","pointsAirdropClaimTx",t]},ex=()=>{let e=(0,Y.Sz)(et.St,e=>e.id);return(0,es.a)({queryKey:eu({userId:e}),queryFn:()=>ec()})};var em=r(68651);let eh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new em.Z(e,t)},ep=e=>{let t=eh(e||0);return t.isFinite()?t:eh(0)};var eb=(0,er.$)("22e15093d268b28ef52cc09132c81b562c72807a");(0,er.$)("cf494d459cbddfdc74dcce5094e7733cb5ade26b"),(0,er.$)("36d2502b8a62a97510fb4d3aaeb76facf5f85743");let ef=e=>{let{userAddress:t}=e;return["vvv","airdrop","tokenAllocation",null!=t?t:null]},eg=()=>{let e=(0,Y.Sz)(et.St,e=>e.walletConnectAddress);return(0,es.a)({queryKey:ef({userAddress:e}),queryFn:async()=>{let e=await eb(),t=ep(null==e?void 0:e.fromPointsCryptoBaseUnit).gt(0)&&ep(null==e?void 0:e.fromPartnerTokenHoldingsCryptoBaseUnit).gt(0);return{...e,hasMultipleAllocations:t}}})};var ej=r(22048),ek=r(78125);(i=o||(o={})).TRANSACTION_REJECTED="transactionRejected",i.INSUFFICIENT_FUNDS_FOR_GAS="insufficientFunds",i.TRANSACTION_REVERTED="transactionReverted",i.FAILED_TO_ESTIMATE_GAS="failedToEstimateGas",i.TIMEOUT_ERROR="timeoutError",i.NETWORK_ERROR="networkError",i.WALLET_DISCONNECTED="walletDisconnected",i.RPC_ERROR="rpcError",i.UNKNOWN_ERROR="unknownError",i.ADDRESS_ALREADY_CLAIMED_AIRDROP="addressAlreadyClaimedAirdrop",i.ADDRESS_ALREADY_CLAIMED_AIRDROP_CONTACT_SUPPORT="addressAlreadyClaimedAirdropContactSupport";let ey=e=>"token.errors.".concat(e),eC=e=>{switch(e){case"addressAlreadyClaimedAirdrop":return"token.explainer.addressAlreadyClaimedAirdrop";case"addressAlreadyClaimedAirdropContactSupport":return"token.explainer.addressAlreadyClaimedAirdropContactSupport";case"insufficientFunds":return"token.explainer.insufficientFundsForGas";default:return}},ev=e=>{console.error(e),ej.Tb(e);let{message:t}=e;switch(t){case"addressAlreadyClaimedAirdrop":return"addressAlreadyClaimedAirdrop";case"addressAlreadyClaimedAirdropContactSupport":return"addressAlreadyClaimedAirdropContactSupport"}let{name:r,shortMessage:i,message:a,details:n}=e,s=null!=i?i:a;switch(!0){case"AbiConstructorNotFoundError"===r:case"AbiConstructorParamsNotFoundError"===r:case"AbiDecodingDataSizeInvalidError"===r:case"AbiDecodingDataSizeTooSmallError"===r:case"AbiDecodingZeroDataError"===r:case"AbiEncodingArrayLengthMismatchError"===r:case"AbiEncodingBytesSizeMismatchError"===r:case"AbiEncodingLengthMismatchError"===r:case"AbiErrorInputsNotFoundError"===r:case"AbiErrorNotFoundError"===r:case"AbiErrorSignatureNotFoundError"===r:case"AbiEventNotFoundError"===r:case"AbiEventSignatureEmptyTopicsError"===r:case"AbiEventSignatureNotFoundError"===r:case"AbiFunctionNotFoundError"===r:case"AbiFunctionOutputsNotFoundError"===r:case"AbiFunctionSignatureNotFoundError"===r:case"BytesSizeMismatchError"===r:case"DecodeLogTopicsMismatch"===r:case"InvalidAbiDecodingTypeError"===r:case"InvalidAbiEncodingTypeError"===r:case"InvalidArrayError"===r:case"InvalidDefinitionTypeError"===r:case"UnsupportedPackedAbiType"===r:case"AccountNotFoundError"===r:case"InvalidAddressError"===r:case"BlockNotFoundError"===r:case"ChainDoesNotSupportContract"===r:case"ChainMismatchError"===r:case"ChainNotFoundError"===r:case"ClientChainNotConfiguredError"===r:case"InvalidChainIdError"===r:case"CallExecutionError"===r:case"ContractFunctionExecutionError"===r:case"ContractFunctionRevertedError"===r:case"ContractFunctionZeroDataError"===r:case"RawContractError"===r:case"SizeExceedsPaddingSizeError"===r:case"DataLengthTooLongError"===r:case"DataLengthTooShortError"===r:case"IntegerOutOfRangeError"===r:case"InvalidBytesBooleanError"===r:case"InvalidHexBooleanError"===r:case"InvalidHexValueError"===r:case"OffsetOutOfBoundsError"===r:case"SizeOverflowError"===r:case"EnsAvatarInvalidMetadataError"===r:case"EnsAvatarInvalidNftUriError"===r:case"EnsAvatarUnsupportedNamespaceError"===r:case"EnsAvatarUriResolutionError"===r:case"FilterTypeNotSupportedError"===r:return"unknownError";case"ExecutionRevertedError"===r||ek.M_.nodeMessage.test(s)||s.includes(new ek.M_().shortMessage):return"transactionReverted";case"InsufficientFundsError"===r||ek.C_.nodeMessage.test(s)||s.includes(new ek.C_().shortMessage):return"insufficientFunds";case"FeeCapTooHighError"===r:case"FeeCapTooLowError"===r:case"IntrinsicGasTooHighError"===r:case"IntrinsicGasTooLowError"===r:case"NonceMaxValueError"===r:case"NonceTooHighError"===r:case"NonceTooLowError"===r:case"TipAboveFeeCapError"===r:case"TransactionTypeNotSupportedError"===r:case"UnknownNodeError"===r:return"unknownError";case"TimeoutError"===r:return"timeoutError";case"HttpRequestError"===r:case"RpcRequestError"===r:case"WebSocketRequestError"===r:return"networkError";case"UserRejectedRequestError"===r:return"transactionRejected";case"ProviderDisconnectedError"===r:return"walletDisconnected";case"ChainDisconnectedError"===r:case"InternalRpcError"===r:case"InvalidInputRpcError"===r:case"InvalidParamsRpcError"===r:case"InvalidRequestRpcError"===r:case"JsonRpcVersionUnsupportedError"===r:case"LimitExceededRpcError"===r:case"MethodNotFoundRpcError"===r:case"MethodNotSupportedRpcError"===r:case"ParseRpcError"===r:case"ProviderRpcError"===r:case"ResourceNotFoundRpcError"===r:case"ResourceUnavailableRpcError"===r:case"RpcError"===r:case"SwitchChainError"===r:case"TransactionRejectedRpcError"===r:case"UnauthorizedProviderError"===r:case"UnknownRpcError"===r:case"UnsupportedProviderMethodError"===r:return"rpcError";case"CreateSiweMessageErrorType"===r:case"SiweInvalidMessageFieldErrorType"===r:case"VerifySiweMessageErrorType"===r:return"unknownError";case"WaitForTransactionReceiptTimeoutError"===r:return"timeoutError";case"FeeConflictError"===r:case"InvalidLegacyVError"===r:case"InvalidSerializableTransactionError"===r:case"InvalidSerializedTransactionError"===r:case"InvalidSerializedTransactionTypeError"===r:case"InvalidStorageKeySizeError"===r:case"TransactionExecutionError"===r:if(s.includes("User rejected the request"))return"transactionRejected";case"TransactionNotFoundError"===r:case"TransactionReceiptNotFoundError"===r:case"UrlRequiredError"===r:return"unknownError";case"EstimateGasExecutionError"===r:if(n.includes("gas required exceeds allowance"))return"insufficientFunds";return"failedToEstimateGas";default:return"unknownError"}};var ew=(0,er.$)("d9921aabba149466bb7d4295869bf512db806d86"),eS=(0,er.$)("686458546d7966567ccd9af30c0e3fb7b8251d0c");let eE=()=>{let{open:e}=(0,_.Ig)(),t=(0,Y.Sz)(et.St,e=>e.walletConnectAddress),r=(0,Y.Sz)(et.St,e=>e.id),i=(0,J.NL)();return(0,ee.D)({mutationFn:async()=>{if(!t)return await e(),{success:!1};if(await ew())throw Error(r===t?o.ADDRESS_ALREADY_CLAIMED_AIRDROP_CONTACT_SUPPORT:o.ADDRESS_ALREADY_CLAIMED_AIRDROP);await eS(),await Promise.all([i.invalidateQueries({queryKey:el({userId:r})}),i.invalidateQueries({queryKey:eu({userId:r})}),i.invalidateQueries({queryKey:ef({userAddress:t})})])}})};var eT=r(36776);(a=l||(l={})).NotClaimed="NotClaimed",a.Claimed="Claimed",a.Completed="Completed",a.NothingToClaim="NothingToClaim";var ez=(0,er.$)("1cb3ae61687665cca08d4c92b68543c5c56b3548");let eD=e=>{let{userAddress:t}=e;return["vvv","airdrop","partnerTokenAirdropClaimStatus",null!=t?t:null]},eI=()=>{let{address:e}=(0,_.Tj)();return(0,es.a)({queryKey:eD({userAddress:e}),queryFn:e?()=>ez({address:e}):()=>Promise.resolve(l.NothingToClaim)})};var eA=(0,er.$)("2e3553a52d2103d48528031f3ad69ac075da1705");let eN=e=>{let{userAddress:t}=e;return["vvv","airdrop","partnerTokenAirdropClaimTx",null!=t?t:null]},eF=()=>{let{address:e}=(0,_.Tj)();return(0,es.a)({queryKey:eN({userAddress:e}),queryFn:e?()=>eA({address:e}):()=>null})};var eR=r(78461);let eM=()=>{let{data:e}=(0,eR.p)();return(0,ee.D)({mutationFn:async t=>await (null==e?void 0:e.sendTransaction(t))})};var eL=(0,er.$)("f23060df3f3eea4935a8faefeaddc63a44586b66");let eO=e=>{let{tokenAddress:t,address:r}=e;return["vvv","tokenBalance",t,r]},e_=e=>{let{tokenAddress:t,address:r}=e;return(0,es.a)({queryKey:eO({tokenAddress:t,address:r}),queryFn:()=>r?eL({tokenAddress:t,walletAddress:r}):"0",enabled:!!r})};var eK=(0,er.$)("3e95ae4588a91042a0e01dbb80d0283fe0414079"),eU=(0,er.$)("ef150cf71913f5a7c0683f4ef4a9c99d7976cf3a");let eq=()=>{let e=(0,S.useTranslations)("token.airdrop"),{open:t}=(0,_.Ig)(),{isConnected:r,address:i}=(0,_.Tj)(),a=(0,J.NL)(),{mutateAsync:n}=eM();return(0,ee.D)({mutationFn:async()=>{if(!r||!i){await t();return}let s=await eK({address:i});if(!s.data)throw(0,eT.Fq)(s.error);let o=await n(s.data);if(!o)throw Error(e("noTxHash"));if("reverted"===(await eU({hash:o})).status)throw new ek.M_;await Promise.all([a.invalidateQueries({queryKey:ef({userAddress:i})}),a.invalidateQueries({queryKey:eO({tokenAddress:z.I_,address:i})})]),a.setQueryData(eD({userAddress:i}),l.Completed),a.setQueryData(eN({userAddress:i}),o)}})};var eP=r(28082);let eV="https://basescan.org/tx/",eW=e=>{let{airdropClaimStatus:t,requiresProUser:r,txHash:i}=e,a=(0,S.useTranslations)("token.airdrop"),n=(0,Y.Sz)(et.St,e=>e.isProUser);switch(!0){case r&&!n&&t===l.NotClaimed:return(0,u.jsx)(eP.Vp,{size:"sm",flexShrink:0,colorScheme:"orange",children:a("claimModal.proOnly")});case t===l.Claimed:return(0,u.jsxs)(eP.Vp,{size:"sm",flexShrink:0,colorScheme:"green",gap:0,children:[(0,u.jsx)(eP.AD,{as:G.mc}),a("claims.claimed")]});case t===l.NotClaimed:return(0,u.jsx)(eP.Vp,{size:"sm",flexShrink:0,colorScheme:"blue",children:a("claims.available")});case t===l.Completed:return(0,u.jsx)(O.O,{isLoaded:!!i,children:(0,u.jsx)(j.r,{fontSize:"xs",isExternal:!0,color:"text.link",href:"".concat(eV).concat(i),whiteSpace:"nowrap",children:a("claims.viewOnChain")})});default:return null}};var eH=r(61507),eB=r(6314),eQ=r(22053),eX=r(32817),e$=r(34442);let eZ=e=>{let{error:t}=e,r=(0,S.useTranslations)(),i=(0,b.useMemo)(()=>r(ey(t)),[t,r]),a=(0,b.useMemo)(()=>{let e=eC(t);return void 0!==e?r(e):void 0},[t,r]);return(0,u.jsxs)(eH.b,{status:"warning",variant:"subtle",borderRadius:"lg",bg:"background.surface.muted",children:[(0,u.jsx)(eB.z,{}),(0,u.jsxs)(eQ.xu,{children:[(0,u.jsx)(eX.C,{children:i}),void 0!==a&&(0,u.jsx)(e$.X,{fontSize:"sm",textColor:"text.subtle",children:a})]})]})};var eG=r(7414),eY=r(41528);let eJ=(e,t)=>ep(e).div(eh(10).pow(t)),e0=(e,t)=>ep(e).times(eh(10).pow(ep(t))),e1=e=>{let{isOpen:t,onClose:r}=e,i=(0,q.p)(),a=(0,S.useLocale)(),n=(0,S.useTranslations)(),s=(0,Y.Sz)(et.St,e=>e.isProUser),{onOpen:d}=(0,eY.R)("upgrade"),[c,x]=(0,b.useState)(!1),[h,f]=(0,b.useState)(!1),[j,k]=(0,b.useState)(!1),[C,w]=(0,b.useState)(null),{data:E}=ex(),{data:T}=eF(),{data:z,isLoading:D}=eg(),{mutateAsync:I,isPending:A}=eE(),{mutateAsync:N,isPending:F}=eq(),{mutateAsync:R}=en(),[M,L]=(0,b.useState)(!0),[_,K]=(0,b.useState)(!0),[J,ee]=(0,b.useState)(!1),er=A||F||J,{data:ei}=ed(),{data:ea}=eI(),es=(0,b.useMemo)(()=>{if(z)return eJ(null==z?void 0:z.fromPartnerTokenHoldingsCryptoBaseUnit,18).toNumber()},[z]),eo=(0,b.useMemo)(()=>{if(z)return eJ(null==z?void 0:z.fromPointsCryptoBaseUnit,18).toNumber()},[z]),el=s&&ei===l.NotClaimed,ec=ea===l.NotClaimed,eu=_&&el,em=M&&ec,eh=(0,b.useMemo)(()=>{if(!z)return;let e=eu?z.fromPointsCryptoBaseUnit:"0";return eJ(ep(em?z.fromPartnerTokenHoldingsCryptoBaseUnit:"0").plus(e),18).toNumber()},[z,eu,em]),eb=(0,b.useMemo)(()=>"en"===a?"/files/airdrop-terms-en.pdf":"es"===a?"/files/airdrop-terms-es.pdf":"/files/airdrop-terms-en.pdf",[a]),ef=(0,b.useCallback)(async()=>{w(null);try{if(!h)return;ee(!0),await R(),eu&&await I(),em&&await N(),i({title:n("token.airdrop.claim.submitted"),status:"success"}),K(!0),L(!0),r()}catch(t){let e=ev(t);e!==o.UNKNOWN_ERROR?w(e):i({title:n(ey(e)),status:"error"})}finally{ee(!1)}},[h,R,eu,em,i,n,r,I,N]),ej=(0,b.useCallback)(()=>{d(),r()},[d,r]),ek=(0,b.useCallback)(()=>{f(!h)},[h]),eC=(0,b.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),x(!0)},[]),ew=em||eu,eS=(0,b.useMemo)(()=>j?(0,u.jsx)(v.z,{size:"lg",width:"full",colorScheme:"primary",isLoading:D||er,isDisabled:!eh||0===eh||!ew||!h,onClick:ef,children:n("token.airdrop.claimModal.confirmButton")}):(0,u.jsx)(v.z,{size:"lg",width:"full",colorScheme:"primary",onClick:eC,children:n("token.airdrop.claimModal.viewTheTerms")}),[ew,eh,ef,eC,j,er,h,D,n]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(P.u_,{isOpen:t,onClose:r,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{py:6,children:(0,u.jsx)(g.X,{size:"sm",children:n("token.airdrop.claimModal.title")})}),(0,u.jsx)(B.o,{}),(0,u.jsxs)(Q.f,{pb:6,children:[(0,u.jsxs)(p.K,{borderWidth:1,borderColor:"border.base",spacing:0,bg:"background.surface.muted",borderRadius:"xl",divider:(0,u.jsx)(X.i,{}),children:[0!==es&&(0,u.jsx)($.X,{gap:4,px:6,py:4,isChecked:em,isReadOnly:!ec,onChange:e=>L(e.target.checked),...ec?{}:{sx:{".chakra-checkbox__control":{display:"none"},".chakra-checkbox__label":{marginLeft:0}}},children:(0,u.jsx)(m.k,{align:"center",gap:4,children:(0,u.jsxs)(p.K,{spacing:0,alignItems:"flex-start",children:[(0,u.jsx)(O.O,{isLoaded:!D,children:(0,u.jsxs)(m.k,{align:"center",gap:2,children:[(0,u.jsx)(G.lbY,{}),(0,u.jsx)(U,{fontSize:"2xl",value:es,postfix:"VVV",notation:"standard",maximumFractionDigits:2})]})}),(0,u.jsxs)(m.k,{alignItems:"flex-start",gap:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",children:n("token.airdrop.claimModal.immediateTokens.description")}),(0,u.jsx)(eW,{airdropClaimStatus:ea,txHash:null!=T?T:void 0,requiresProUser:!1})]})]})})}),0!==eo&&(0,u.jsx)($.X,{gap:4,px:6,py:4,isChecked:eu,isReadOnly:!el,onChange:e=>K(e.target.checked),...el?{}:{sx:{".chakra-checkbox__control":{display:"none"},".chakra-checkbox__label":{marginLeft:0}}},children:(0,u.jsx)(m.k,{align:"center",gap:4,children:(0,u.jsxs)(p.K,{spacing:0,alignItems:"flex-start",children:[(0,u.jsx)(O.O,{isLoaded:!D,children:(0,u.jsxs)(m.k,{align:"center",gap:2,children:[(0,u.jsx)(G.rfE,{}),(0,u.jsx)(U,{fontSize:"2xl",value:eo,postfix:"VVV",opacity:s?1:.5,notation:"standard",maximumFractionDigits:2})]})}),(0,u.jsxs)(m.k,{alignItems:"flex-start",gap:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",children:n("token.airdrop.claimModal.delayedTokens.description")}),(0,u.jsx)(eW,{airdropClaimStatus:ei,txHash:null!=E?E:void 0,requiresProUser:!0})]}),!s&&(0,u.jsx)(v.z,{mt:4,variant:"link",size:"sm",color:"text.link",onClick:ej,leftIcon:(0,u.jsx)(G.c_x,{}),children:n("token.airdrop.claimModal.upgradeCta")})]})})})]}),(0,u.jsx)(eG.X,{heading:n("token.airdrop.claimModal.claimTotal"),rowProps:{p:0,mt:4},children:(0,u.jsx)(O.O,{isLoaded:!D,children:(0,u.jsx)(U,{fontSize:"sm",value:eh,postfix:"VVV",notation:"standard",maximumFractionDigits:4})})})]}),(0,u.jsxs)(Z.m,{flexDir:"column",gap:4,borderTopWidth:1,borderColor:"border.base",children:[C&&(0,u.jsx)(eZ,{error:C}),j&&(0,u.jsx)(m.k,{alignItems:"flex-start",width:"full",children:(0,u.jsxs)($.X,{isChecked:h,onChange:ek,isDisabled:!j,children:[n("token.airdrop.claimModal.agreeToTerms")," ",(0,u.jsx)(v.z,{fontSize:"md",color:"text.link",variant:"link",onClick:eC,children:n("token.airdrop.claimModal.termsAndConditions")})]})}),eS]})]})]}),(0,u.jsx)(P.u_,{isOpen:c,onClose:()=>x(!1),size:"xl",onCloseComplete:()=>k(!0),children:(0,u.jsxs)(W.h,{minHeight:"90vh",width:"100%",maxWidth:"90vw",height:"90vh",children:[(0,u.jsx)("iframe",{src:eb,width:"100%",height:"100%",style:{display:"inline-flex"}}),(0,u.jsx)(Z.m,{children:(0,u.jsx)(v.z,{onClick:()=>x(!1),children:"Close"})})]})})]})},e4=()=>{let e=(0,S.useTranslations)("token.airdrop"),{isConnected:t}=(0,_.Tj)(),{data:r,isLoading:i}=eg(),{data:a}=ed(),{data:n}=ex(),{data:s}=eI(),{data:o}=eF(),d=(0,b.useMemo)(()=>{if(r)return eJ(null==r?void 0:r.fromPartnerTokenHoldingsCryptoBaseUnit,18).toNumber()},[r]),c=(0,b.useMemo)(()=>{if(r)return eJ(null==r?void 0:r.fromPointsCryptoBaseUnit,18).toNumber()},[r]),x=a===l.Claimed,h=a===l.Completed,f=s===l.Completed;if(!t||!x&&!h&&!f)return null;let k=a===l.Claimed;return(0,u.jsxs)(T,{children:[(0,u.jsx)(g.X,{size:"sm",children:e("claims.title")}),(0,u.jsx)(F.Z,{children:(0,u.jsxs)(p.K,{borderColor:"border.base",divider:(0,u.jsx)(X.i,{}),children:[f&&(0,u.jsxs)(m.k,{py:4,px:6,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(O.O,{isLoaded:!i,width:"100px",children:(0,u.jsx)(U,{fontWeight:"bold",value:d,postfix:"VVV",notation:"standard",maximumFractionDigits:0})}),o&&(0,u.jsx)(j.r,{isExternal:!0,color:"text.link",href:"".concat(eV).concat(o),children:e("claims.viewOnChain")})]}),(x||h)&&(0,u.jsxs)(m.k,{py:4,px:6,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(O.O,{isLoaded:!i,width:"100px",children:(0,u.jsx)(U,{fontWeight:"bold",value:c,postfix:"VVV",notation:"standard",maximumFractionDigits:0})}),(0,u.jsxs)(m.k,{justifyContent:"right",alignItems:"center",children:[k&&(0,u.jsx)(y.x,{fontSize:"sm",color:"text.subtle",pr:6,children:e("claims.waitTime")}),n?(0,u.jsx)(j.r,{isExternal:!0,color:"text.link",href:"".concat(eV).concat(n),children:e("claims.viewOnChain")}):(0,u.jsx)(eP.Vp,{colorScheme:k?"yellow":"green",children:e(k?"claims.processing":"claims.completed")})]})]})]})})]})},e5=e=>{let{marketData:t}=e,{open:r}=(0,_.Ig)(),{isConnected:i}=(0,_.Tj)(),a=(0,S.useTranslations)("token.airdrop"),{isOpen:n,onOpen:s,onClose:o}=(0,N.q)(),[d,c]=(0,b.useState)(!0),{data:x,isLoading:h,isError:f}=ed(),{data:j,isLoading:k,isError:C}=eI(),{data:w,isLoading:E,isError:T}=eg(),D=f||C||T,K=(0,b.useCallback)(()=>{s()},[s]),q=(0,b.useMemo)(()=>{if(!w)return;let e=x===l.NotClaimed?w.fromPointsCryptoBaseUnit:"0",t=j===l.NotClaimed?w.fromPartnerTokenHoldingsCryptoBaseUnit:"0";return eJ(eh(e).plus(t),18).toNumber()},[j,x,w]),P=(0,b.useMemo)(()=>x===l.NotClaimed||j===l.NotClaimed?l.NotClaimed:x===l.Completed&&j===l.Completed||x===l.Completed&&j===l.NothingToClaim||x===l.NothingToClaim&&j===l.Completed?l.Completed:x===l.Claimed||j===l.Claimed?l.Claimed:l.NothingToClaim,[x,j]),V=(0,b.useMemo)(()=>{switch(!0){case!i:return a("claim.button.connectWallet");case P===l.Claimed:case P===l.Completed:return a("claim.button.claimed");case P===l.NothingToClaim:return a("claim.button.noAllocation");default:return a("claim.button.default")}},[i,a,P]),W=(0,b.useMemo)(()=>{if(t&&void 0!==q)return q*Number(t.priceUsd)},[t,q]),H=(0,b.useCallback)(()=>{r()},[r]),B=(0,b.useMemo)(()=>i?P===l.NothingToClaim?"secondary":P===l.Claimed||P===l.Completed?"green":D?"red":"primary":"primary",[P,D,i]),Q=P===l.Claimed||P===l.Completed?a("claim.button.claimed"):a("availableToClaim"),X=(0,b.useCallback)(()=>{localStorage.setItem("showAirdropContent",JSON.stringify(!d)),c(!d)},[d]);return(0,b.useEffect)(()=>{let e=localStorage.getItem("showAirdropContent");null!==e&&c(!0===JSON.parse(e)),(P===l.Claimed||P===l.Completed)&&c(!1)},[P]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(F.Z,{m:{base:0,md:3},borderRadius:"3xl",borderBottomRadius:0,bg:"transparent",bgGradient:"linear(to-b, background.button.secondary.base, transparent)",boxShadow:"0 1px 0px 0 rgba(255,255,255, 0.05) inset",children:[(0,u.jsxs)(R.O,{cursor:"pointer",display:"flex",flexDir:"row",justifyContent:"space-between",px:6,py:6,onClick:X,children:[(0,u.jsx)(g.X,{size:"sm",children:a("title")}),(0,u.jsxs)(m.k,{alignItems:"center",gap:2,children:[(0,u.jsx)(y.x,{fontSize:"sm",color:"text.base",children:a("endsIn",{days:z.Mm})}),d?(0,u.jsx)(I.g,{}):(0,u.jsx)(A.v,{})]})]}),(0,u.jsx)(M.U,{in:d,animateOpacity:!0,children:(0,u.jsxs)(L.e,{px:0,py:12,display:"flex",flexDir:"column",alignItems:"center",children:[(0,u.jsxs)(p.K,{alignItems:"center",spacing:0,flex:1,justifyContent:"center",filter:i?"none":"blur(10px)",children:[(0,u.jsx)(y.x,{fontSize:"md",color:"text.subtle",children:Q}),(0,u.jsx)(O.O,{isLoaded:void 0!==q,children:(0,u.jsx)(U,{fontSize:"4xl",value:q,postfix:"VVV",minimumFractionDigits:0,maximumFractionDigits:2,notation:"standard"})}),z.ZQ&&(0,u.jsx)(O.O,{isLoaded:void 0!==W,children:(0,u.jsx)(U,{fontSize:"sm",color:"text.subtle",value:W,prefix:"$",minimumFractionDigits:2,maximumFractionDigits:2,notation:"standard"})})]}),(0,u.jsx)(v.z,{colorScheme:B,size:"md",px:16,mt:6,onClick:i?K:H,isLoading:h||k||E,isDisabled:D||i&&P!==l.NotClaimed,children:V})]})})]}),(0,u.jsx)(e4,{}),(0,u.jsx)(e1,{isOpen:n,onClose:o})]})},e2=e=>(0,u.jsx)(F.Z,{bg:"transparent",boxShadow:"none",...e}),e6=()=>{let{isConnected:e,address:t}=(0,_.Tj)(),{open:r}=(0,_.Ig)(),i=(0,S.useTranslations)("token.airdrop"),a=t&&e?"".concat(t.slice(0,6),"...").concat(t.slice(-6)):void 0,n=(0,b.useCallback)(async()=>{await r()},[r]),s=(0,b.useMemo)(()=>a||i("claim.button.connectWallet"),[i,a]);return(0,u.jsx)(v.z,{onClick:n,leftIcon:(0,u.jsx)(G.aij,{}),children:s})};var e3=r(86827),e8=r(47749),e7=r(22428),e9=r(97450),te=r(45345),tt=(0,er.$)("5fda2f2309b5b215e2fb50698cf7258c1a7b742b"),tr=(0,er.$)("a71076996c454a13a182640ab544ae2f7ae169c1");let ti=e=>{let{address:t}=e;return["vvv","cooldownInfo",null!=t?t:null]},ta=e=>{let{address:t}=e;return(0,es.a)({queryKey:ti({address:t}),queryFn:t?async()=>{let e=await tr({address:t}),r=await tt();if(!e)return{isUnstakeInitiated:!1,isUnstakeCoolingDown:!1,isUnstakeCooledDown:!1,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:0,cooldownEndTimestampSeconds:0,unstakeAmountCryptoBaseUnit:"0"};let{cooldownStartTimestampSeconds:i,unstakeAmountCryptoBaseUnit:a}=e;if(ep(a).isZero())return{isUnstakeInitiated:!1,isUnstakeCoolingDown:!1,isUnstakeCooledDown:!1,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:0,cooldownEndTimestampSeconds:0,unstakeAmountCryptoBaseUnit:"0"};let n=Math.floor(Date.now()/1e3),s=i+r,o=s<=n;return{isUnstakeInitiated:!0,isUnstakeCoolingDown:!o,isUnstakeCooledDown:o,cooldownDurationSeconds:r,cooldownStartTimestampSeconds:i,cooldownEndTimestampSeconds:s,unstakeAmountCryptoBaseUnit:a,percentageCooledDown:100+100*(r-(s-n))/r}}:te.CN,refetchInterval:36e5})};var tn=(0,er.$)("009755394056bde5a1a518e73b3bfad29b1efe58");let ts=e=>{let{address:t}=e;return["vvv","pendingRewards",null!=t?t:null]},to=e=>{let{address:t}=e;return(0,es.a)({queryKey:ts({address:t}),queryFn:t?()=>tn({address:t}):te.CN})};var tl=(0,er.$)("74a253ca093bcec87686eac7090cbb7aff1afa0d");let td=e=>{let{address:t,blockNumber:r}=e;return["vvv","stakingBalance",null!=t?t:null,null!=r?r:null]},tc=e=>{let{address:t,blockNumber:r}=e,i=null==r?void 0:r.toString();return(0,es.a)({queryKey:td({address:t,blockNumber:i}),queryFn:t?()=>tl({address:t,blockNumber:i}):te.CN})};var tu=(0,er.$)("1c5a3133302896f80c34d5eae3adfdfc1a9ad57f");let tx=()=>["vvv","totalStaked"];var tm=(0,er.$)("2ea39d2fcae7f25fc1e98530d37efafd1546c37c");let th=()=>{let e=(0,S.useTranslations)(),t=(0,q.p)(),r=(0,J.NL)(),{mutateAsync:i}=eM();return(0,ee.D)({mutationFn:async a=>{let{userAddress:n}=a;try{let a=await tm({stakerAddress:n});if(!a.data)throw(0,eT.Fq)(a.error);let s=await i(a.data);if(!s)throw Error("Transaction hash not received");let o=await eU({hash:s});if("reverted"===o.status)throw new ek.M_;console.log("withdraw complete, txHash:",s),await Promise.all([r.invalidateQueries({queryKey:td({address:n})}),r.invalidateQueries({queryKey:ts({address:n})}),r.invalidateQueries({queryKey:eO({tokenAddress:z.I_,address:n})}),r.invalidateQueries({queryKey:tx()}),r.invalidateQueries({queryKey:ti({address:n})})]),t({title:e("token.withdraw.withdrawSuccess"),description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.x,{fontSize:"md",children:e("token.withdraw.withdrawSuccessDescription")}),(0,u.jsx)(j.r,{fontSize:"md",color:"text.link",href:"".concat(eV).concat(s),isExternal:!0,children:e("token.withdraw.viewOnChain")})]}),status:"success",duration:5e3,isClosable:!0,position:"bottom-right"})}catch(r){t({title:e(ev(r)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}}})},tp={base:"column",lg:"row"},tb={base:"flex-start",lg:"center"},tf=e=>{var t;let{userAddress:r}=e,i=(0,S.useTranslations)("token"),{data:a}=ta({address:r}),{mutateAsync:n,isPending:s}=th(),o=(0,b.useMemo)(()=>{var e;if(!a)return"~";let t=100-(null!==(e=a.percentageCooledDown)&&void 0!==e?e:0),r=a.cooldownDurationSeconds*(t/100),i=(0,e7.Z)({start:0,end:1e3*(r>0?r:0)});return(0,e9.Z)(i)},[a]),l=(0,b.useCallback)(async()=>{await n({userAddress:r})},[n,r]);return a&&a.isUnstakeInitiated&&(0,u.jsxs)(eH.b,{borderRadius:"xl",bg:"background.surface.muted",borderWidth:1,borderColor:"border.subtle",mb:4,justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(e$.X,{children:i(a.isUnstakeCoolingDown?"myHoldings.cooldown.coolingDown":"myHoldings.cooldown.readyToWithdraw",{amount:eJ(a.unstakeAmountCryptoBaseUnit,18).toFixed(4)})}),(0,u.jsx)(C.U,{spacing:4,flexDir:tp,alignItems:tb,children:(0,u.jsx)(u.Fragment,{children:a.isUnstakeCoolingDown?(0,u.jsxs)(p.K,{children:[(0,u.jsx)(e8.E,{value:100-(null!==(t=a.percentageCooledDown)&&void 0!==t?t:0),size:"sm",colorScheme:"primary",borderRadius:"full"}),(0,u.jsx)(y.x,{fontSize:"xs",color:"text.subtle",children:i("myHoldings.cooldown.description",{cooldownDurationRemaining:o})})]}):(0,u.jsx)(v.z,{colorScheme:"primary",onClick:l,isLoading:s,children:i("myHoldings.buttons.withdraw")})})})]})};var tg=r(40638),tj=r(58706),tk=r(55404),ty=r(57843);let tC=e=>{let{label:t,number:r,helpText:i,cta:a,isLoading:n,children:s}=e;return(0,u.jsx)(F.Z,{flex:1,width:"full",className:"dashboard-stat",alignSelf:"stretch",children:(0,u.jsxs)(L.e,{display:"flex",flexDir:"column",alignItems:"flex-start",gap:4,children:[(0,u.jsx)(tg.k,{style:{flexShrink:0},children:(0,u.jsxs)(p.K,{spacing:0,children:[(0,u.jsx)(O.O,{isLoaded:!n,children:(0,u.jsx)(tj.d,{fontSize:"md",color:"text.subtle",fontWeight:"normal",whiteSpace:"nowrap",children:t})}),(0,u.jsx)(O.O,{isLoaded:!n,children:"string"==typeof r?(0,u.jsx)(tk.J,{fontSize:"2xl",fontWeight:"normal",whiteSpace:"nowrap",children:r}):(0,u.jsx)(eQ.xu,{fontSize:"2xl",whiteSpace:"nowrap",children:r})}),"string"==typeof i?(0,u.jsx)(O.O,{isLoaded:!n,children:(0,u.jsx)(ty.v,{fontSize:"sm",color:"text.subtle",fontWeight:"normal",children:i})}):i]})}),a,s]})})};var tv=(0,er.$)("28cb44035306eeb04f852068eaeb349e7ed92bb4"),tw=(0,er.$)("6807da1c53af3f691a221ce12e1e9968cd3bae8f");let tS=e=>{let{token:t,spender:r,owner:i}=e;return["vvv","useAllowance",t,r,i]},tE=e=>{let{token:t,spender:r,owner:i,isDisabled:a}=e;return(0,es.a)({queryKey:tS({token:t,spender:r,owner:i}),queryFn:async()=>(await tv({token:t,spender:r,owner:i}).catch(e=>{throw console.error("Error fetching allowance",e),e})).toString(),refetchOnMount:"always",refetchInterval:15e3,enabled:!a})},tT=e=>{window.open("".concat(eV).concat(e),"_blank")};var tz=r(95171),tD=r(40748),tI=r(12125),tA=r(10883),tN=r(4464);let tF=e=>{let{label:t,amount:r,tokenSymbol:i,availableLabel:a,maxButtonLabel:n,balanceCryptoBaseUnit:s,isLoading:o=!1,isDisabled:l=!1,decimals:d=18,onChange:c,onMax:x,autoFocus:m=!1}=e;return(0,u.jsxs)(tz.NI,{children:[(0,u.jsxs)(C.U,{justifyContent:"space-between",children:[(0,u.jsx)(tD.l,{fontSize:"sm",color:"text.subtle",m:0,children:t}),s&&(0,u.jsxs)(C.U,{gap:1,children:[(0,u.jsxs)(C.U,{fontSize:"sm",gap:1,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:a}),(0,u.jsx)(U,{value:eJ(s,d).toNumber(),postfix:i})]}),(0,u.jsxs)(v.z,{onClick:x,isLoading:o,isDisabled:l,variant:"link",color:"text.link",size:"sm",children:["(",n,")"]})]})]}),(0,u.jsxs)(tI.B,{children:[(0,u.jsx)(tA.I,{autoFocus:m,fontSize:"2xl",variant:"unstyled",type:"number",py:4,step:"any",isDisabled:l,value:r,onChange:c,placeholder:"0.0",pr:"50px"}),(0,u.jsx)(tN.xW,{pr:0,position:"absolute",right:"0",height:"100%",background:"transparent",border:"none",pointerEvents:"none",color:"gray.500",children:(0,u.jsx)(eP.Vp,{size:"lg",children:i})})]})]})},tR=e=>{throw Error("unhandled case: ".concat(e))};var tM=(0,er.$)("d9f611044e51051c379d046fba19a895f6747c82");(n=d||(d={})).Input="input",n.Complete="complete";let tL=e=>{let{isOpen:t,onClose:r,userAddress:i}=e,a=(0,S.useTranslations)(),n=(0,q.p)(),s=(0,J.NL)(),{mutateAsync:l}=eM(),{data:d,isLoading:c}=e_({tokenAddress:z.I_,address:i}),{data:x,isLoading:m}=to({address:i}),[h,f]=(0,b.useState)(null),[k,C]=(0,b.useState)("0"),[w,E]=(0,b.useState)("0"),[T,D]=(0,b.useState)("input"),[I,A]=(0,b.useState)(""),[N,F]=(0,b.useState)("");(0,b.useEffect)(()=>{d&&!ep(d).isZero()&&(C(eJ(d,18).toFixed()),E(d))},[d]);let R=(0,b.useCallback)(()=>{D("input"),A(""),F(""),C("0"),E("0"),f(null),r()},[r]),M=(0,b.useCallback)(e=>{let t=e.target.value;C(t),E(e0(t,18).toFixed())},[]),{data:L,isLoading:O}=tE({token:z.I_,spender:z.np,owner:i}),_=(0,b.useCallback)(async()=>{if(!w)throw Error(a("token.stake.noAmountSpecified"));let e=await tw({amountCryptoBaseUnit:w,token:z.I_,spender:z.np,owner:i});if(!e.data)throw(0,eT.Fq)(e.error);let t=await l(e.data);if(!t)throw Error(a("token.stake.noTxHash"));if("reverted"===(await eU({hash:t})).status)throw new ek.M_;await s.invalidateQueries({queryKey:tS({token:z.I_,spender:z.np,owner:i})})},[w,s,l,a,i]),K=(0,b.useCallback)(async()=>{if(!w)throw Error(a("token.stake.noAmountSpecified"));let e=await tM({amountCryptoBaseUnit:w,stakerAddress:i});if(!e.data)throw(0,eT.Fq)(e.error);let t=await l(e.data);if(!t)throw Error(a("token.stake.noTxHash"));if(A(t),F(k),"reverted"===(await eU({hash:t})).status)throw new ek.M_;await Promise.all([s.invalidateQueries({queryKey:td({address:i})}),s.invalidateQueries({queryKey:ts({address:i})}),s.invalidateQueries({queryKey:eO({tokenAddress:z.I_,address:i})}),s.invalidateQueries({queryKey:tx()}),s.invalidateQueries({queryKey:tS({token:z.I_,spender:z.np,owner:i})})]),D("complete")},[w,k,s,l,D,a,i]),[X,$]=(0,b.useTransition)(),Y=(0,b.useMemo)(()=>L?ep(L).lt(ep(w)):null,[L,w]),ee=(0,b.useCallback)(()=>{f(null),$(async()=>{if(null!==Y)try{switch(T){case"input":Y&&await _(),await K();return;case"complete":tT(I);return;default:tR(T)}}catch(t){let e=ev(t);e!==o.UNKNOWN_ERROR?f(e):n({title:a(ey(e)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}})},[_,K,Y,T,n,a,I]),et=ep(w).isZero(),er=ep(w).gt(ep(d)),ei=x&&ep(x).gt(0),ea=(0,b.useMemo)(()=>{switch(T){case"input":return(0,u.jsxs)(p.K,{spacing:8,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:a.rich("token.stake.description",{link:e=>(0,u.jsx)(j.r,{href:"https://venice.ai/api",color:"text.link",isExternal:!0,children:e})})}),(0,u.jsxs)(eH.b,{status:"info",variant:"subtle",borderRadius:"lg",children:[(0,u.jsx)(eB.z,{}),a("token.stake.cooldownTooltip")]}),(0,u.jsx)(tF,{autoFocus:!0,label:a("token.stake.amount"),amount:k,tokenSymbol:"VVV",availableLabel:a("token.stake.available"),maxButtonLabel:a("token.stake.stakeMax"),balanceCryptoBaseUnit:d,isLoading:c,isDisabled:X||O,onChange:M,onMax:()=>{d&&(C(eJ(d,18).toFixed()),E(d))}})]});case"complete":return(0,u.jsxs)(p.K,{spacing:6,mb:4,alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(e3.M,{boxSize:"64px",bg:"green.500",borderRadius:"full",children:(0,u.jsx)(G.e6w,{color:"white",size:"32px"})}),(0,u.jsxs)(p.K,{alignItems:"center",justifyContent:"center",spacing:3,children:[(0,u.jsx)(g.X,{size:"md",children:a("token.stake.stakeSuccess")}),(0,u.jsx)(U,{fontSize:"lg",value:Number(N),postfix:"VVV"})]})]});default:tR(T)}},[T,a,k,d,c,X,O,M,N]),en=(0,b.useMemo)(()=>{switch(T){case"input":if(er)return a("token.stake.insufficientBalance");if(Y)return a("token.stake.approveAndStake");return a("token.stake.confirmStake");case"complete":return a("token.stake.viewOnChain");default:tR(T)}},[Y,er,T,a]);return(0,u.jsxs)(P.u_,{isOpen:t,onClose:R,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{children:a("token.stake.title")}),(0,u.jsx)(B.o,{}),(0,u.jsx)(Q.f,{children:ea}),(0,u.jsxs)(Z.m,{py:6,borderTopWidth:1,borderColor:"border.base",flexDirection:"column",gap:4,children:[ei&&(0,u.jsxs)(eH.b,{status:"info",variant:"subtle",borderRadius:"lg",children:[(0,u.jsx)(eB.z,{}),a("token.stake.rewardTooltip")]}),h&&(0,u.jsx)(eZ,{error:h}),(0,u.jsx)(v.z,{colorScheme:er?"secondary":"primary",width:"full",size:"lg",isDisabled:et||er||X||O,isLoading:X||O||m,loadingText:a("token.stake.signMessageInWallet"),onClick:ee,children:en})]})]})]})};var tO=r(60187),t_=(0,er.$)("a57cf417d9d211e265d3df43769a9fb3377d3108");let tK=()=>["vvv","stakingYield"],tU=()=>(0,es.a)({queryKey:tK(),queryFn:()=>t_()}),tq=()=>{let{data:e,isLoading:t}=tU(),r=(0,S.useTranslations)("token.explainer.stakingYield");return(0,u.jsx)(O.O,{isLoaded:!t,children:(0,u.jsx)(tO.u,{openDelay:2e3,label:r("toolTipDescription"),children:(0,u.jsxs)(eP.Vp,{colorScheme:"yellow",onClick:()=>window.open("/faqs?identifier=how+does+vvv+staking+yield+work"),children:["APR ",K(100*Number(e),{notation:"standard",maximumFractionDigits:2}),"%"]})})})};var tP=(0,er.$)("f3e3e11b83e7420f068b259b8dc66e3353cb8cf0");(s=c||(c={})).Input="input",s.Complete="complete";let tV=e=>{let{isOpen:t,onClose:r,userAddress:i}=e,a=(0,S.useTranslations)(),n=(0,q.p)(),s=(0,J.NL)(),{mutateAsync:l}=eM(),{data:d,isLoading:c}=ta({address:i}),{data:x,isLoading:m}=tc({address:i}),[h,f]=(0,b.useState)("0"),[j,k]=(0,b.useState)("0"),[C,w]=(0,b.useState)("input"),[E,T]=(0,b.useState)(void 0),[z,D]=(0,b.useState)(""),[I,A]=(0,b.useState)(null),N=(0,b.useCallback)(()=>{w("input"),k("0"),f("0"),T(void 0),D(""),A(null),r()},[r]),F=(0,b.useCallback)(e=>{let t=e.target.value;f(t),k(e0(t,18).toFixed())},[]),R=(0,b.useCallback)(async()=>{if(j)try{let e=await tP({amountCryptoBaseUnit:j,stakerAddress:i});if(!e.data)throw(0,eT.Fq)(e.error);let t=await l(e.data);if(!t)return;let r=await eU({hash:t});if("reverted"===r.status)throw new ek.M_;console.log("initiate unstake complete, txHash:",t),await s.invalidateQueries({queryKey:ti({address:i})}),w("complete"),T(t),D(h)}catch(t){let e=ev(t);e!==o.UNKNOWN_ERROR?A(e):n({title:a(ey(e)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}},[j,h,s,l,n,a,i]),[M,L]=(0,b.useTransition)(),_=(0,b.useCallback)(()=>{A(null),L(async()=>{switch(C){case"input":await R();return;case"complete":E&&tT(E);return;default:tR(C)}})},[R,C,E]),K=!j||"0"===j,X=ep(j).gt(ep(x)),$=(0,b.useMemo)(()=>{if(!(null==d?void 0:d.cooldownDurationSeconds))return"~";let e=(0,e7.Z)({start:0,end:1e3*d.cooldownDurationSeconds});return(0,e9.Z)(e)},[null==d?void 0:d.cooldownDurationSeconds]),Y=(0,b.useMemo)(()=>{switch(C){case"input":return(0,u.jsxs)(p.K,{spacing:8,mb:4,children:[(0,u.jsx)(y.x,{color:"text.subtle",children:a("token.unstake.description")}),(0,u.jsxs)(eH.b,{status:"info",variant:"subtle",borderRadius:"lg",bg:"background.surface.muted",children:[(0,u.jsx)(eB.z,{color:"text.link",as:G.rfE}),(0,u.jsx)(e$.X,{children:a.rich("token.unstake.cooldownTooltip",{time:()=>(0,u.jsx)(O.O,{as:"span",isLoaded:!c,children:$})})})]}),(0,u.jsx)(tF,{label:a("token.unstake.amount"),amount:h,tokenSymbol:"VVV",autoFocus:!0,availableLabel:a("token.unstake.available"),maxButtonLabel:a("token.unstake.unstakeMax"),balanceCryptoBaseUnit:x,isLoading:m,onChange:F,onMax:()=>{x&&(f(eJ(x,18).toFixed()),k(x))}})]});case"complete":return(0,u.jsxs)(p.K,{spacing:6,mb:4,alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(e3.M,{boxSize:"64px",bg:"green.500",borderRadius:"full",children:(0,u.jsx)(G.e6w,{color:"white",size:"32px"})}),(0,u.jsxs)(p.K,{alignItems:"center",justifyContent:"center",spacing:3,children:[(0,u.jsx)(g.X,{size:"md",children:a("token.unstake.unstakeSuccess")}),(0,u.jsx)(U,{fontSize:"lg",value:Number(z),postfix:"VVV"})]})]});default:tR(C)}},[h,$,F,c,m,x,C,a,z]),ee=(0,b.useMemo)(()=>{switch(C){case"input":if(X)return a("token.unstake.insufficientStakedBalance");return a("token.unstake.confirmUnstake");case"complete":return a("token.unstake.viewOnChain");default:tR(C)}},[X,C,a]);return(0,u.jsxs)(P.u_,{isOpen:t,onClose:N,children:[(0,u.jsx)(V.Z,{}),(0,u.jsxs)(W.h,{children:[(0,u.jsx)(H.x,{children:a("token.unstake.title")}),(0,u.jsx)(B.o,{}),(0,u.jsx)(Q.f,{children:Y}),(0,u.jsxs)(Z.m,{flexDir:"column",gap:4,py:6,borderTopWidth:1,borderColor:"border.base",children:[I&&(0,u.jsx)(eZ,{error:I}),(0,u.jsx)(v.z,{colorScheme:X?"secondary":"primary",size:"lg",width:"full",isDisabled:K||X||M,isLoading:M,loadingText:a("token.unstake.signMessageInWallet"),onClick:_,children:ee})]})]})]})};var tW=(0,er.$)("6e5f414a043e59f7f80a76a3dd1d7bd619d61bc1");let tH=()=>{let e=(0,S.useTranslations)(),t=(0,q.p)(),r=(0,J.NL)(),{mutateAsync:i}=eM();return(0,ee.D)({mutationFn:async a=>{let{userAddress:n}=a;try{let a=await tW({stakerAddress:n});if(!a.data)throw(0,eT.Fq)(a.error);let s=await i(a.data);if(!s)throw Error("Transaction hash not received");let o=await eU({hash:s});if("reverted"===o.status)throw new ek.M_;console.log("claim reward complete, txHash:",s),await Promise.all([r.invalidateQueries({queryKey:td({address:n})}),r.invalidateQueries({queryKey:ts({address:n})}),r.invalidateQueries({queryKey:eO({tokenAddress:z.I_,address:n})}),r.invalidateQueries({queryKey:tx()})]),t({title:e("token.claimReward.claimRewardSuccess"),description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.x,{fontSize:"md",children:e("token.claimReward.claimRewardSuccessDescription")}),(0,u.jsx)(j.r,{fontSize:"md",color:"text.link",href:"".concat(eV).concat(s),isExternal:!0,children:e("token.claimReward.viewOnChain")})]}),status:"success",duration:5e3,isClosable:!0,position:"bottom-right"})}catch(r){t({title:e(ev(r)),status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}}})};var tB=(0,er.$)("643ecac65af057ee4a4ce662b694a75188dff10f");let tQ=e=>{let{epochTimestamp:t}=e;return["vvv","epochTimestamp",t.toISOString()]},tX=e=>{let{epochTimestamp:t}=e;return(0,es.a)({queryKey:tQ({epochTimestamp:t}),queryFn:()=>tB(t)})},t$=e=>{if(null===e)return e;let t=Number(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t<100?2:0,maximumFractionDigits:t<100?2:0}).format(t)},tZ=()=>{let e=new Date;return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},tG={container:{alignItems:{base:"flex-start",md:"center"},flexDir:{base:"column",md:"row"}},titleContainer:{alignItems:{base:"flex-start",md:"center"},flexDir:{base:"column",md:"row"}},statsContainer:{flexDir:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"}}},tY=e=>{let{marketData:t}=e,r=(0,S.useTranslations)("token"),{data:i}=tX({epochTimestamp:tZ()}),{isConnected:a,address:n}=(0,_.Tj)(),{isOpen:s,onOpen:o,onClose:l}=(0,N.q)(),{isOpen:d,onOpen:c,onClose:x}=(0,N.q)(),{data:h,isLoading:p}=tc({address:n}),{data:f,isLoading:k}=to({address:n}),{data:y}=e_({tokenAddress:z.I_,address:n}),{data:w}=ta({address:n}),{mutateAsync:E,isPending:D}=tH(),I=(0,b.useMemo)(()=>h?eJ(h,18).toFixed():void 0,[h]),A=(0,b.useMemo)(()=>f?eJ(f,18).toFixed():void 0,[f]),F=(0,b.useMemo)(()=>y?eJ(y,18).toFixed():void 0,[y]),R=null!==y&&!p&&!k;return a&&n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(T,{children:[(0,u.jsx)(m.k,{alignItems:tG.container.alignItems,justifyContent:"space-between",flexDir:tG.container.flexDir,gap:4,children:(0,u.jsxs)(m.k,{gap:2,alignItems:tG.titleContainer.alignItems,flexDir:tG.titleContainer.flexDir,justifyContent:"space-between",width:"full",children:[(0,u.jsx)(g.X,{size:"sm",children:r("myHoldings.title")}),i?(0,u.jsxs)(m.k,{alignItems:"center",gap:2,display:"none",children:[(0,u.jsx)(e3.M,{boxSize:4,bg:"rgba(48, 140, 122, 0.2)",borderRadius:"full",children:(0,u.jsx)(e3.M,{boxSize:2,bg:"green.500",borderRadius:"full"})}),(0,u.jsx)(j.r,{href:"https://basescan.org/block/".concat(i.toString()),isExternal:!0,fontSize:"sm",color:"text.subtle",children:r("networkCapacity.block",{blockNumber:i.toString()})})]}):(0,u.jsx)(O.O,{display:"inline-block",height:"20px",width:"150px"})]})}),F&&(0,u.jsxs)(eQ.xu,{className:"dashboard-stats",children:[(0,u.jsx)(tf,{userAddress:n}),(0,u.jsxs)(C.U,{spacing:4,flexDir:tG.statsContainer.flexDir,alignItems:tG.statsContainer.alignItems,children:[y&&(0,u.jsx)(tC,{label:r("myHoldings.stats.availableBalance"),number:(0,u.jsx)(U,{value:Number(F),postfix:z.mp,notation:"standard"}),helpText:t&&t$(eh(t.priceUsd).times(F).toNumber()),isLoading:!R,cta:(0,u.jsx)(v.z,{size:"sm",colorScheme:"secondary",onClick:o,isDisabled:!R||!n||0===Number(F)||(null==w?void 0:w.isUnstakeInitiated),children:r("myHoldings.buttons.stake")})}),I&&(0,u.jsx)(tC,{label:r("myHoldings.stats.stakedBalance"),number:(0,u.jsx)(U,{value:Number(I),postfix:z.mp,minimumFractionDigits:0,maximumFractionDigits:4,notation:"standard"}),helpText:t&&t$(eh(t.priceUsd).times(I).toNumber()),isLoading:!R,cta:(0,u.jsxs)(m.k,{gap:2,alignItems:"center",justifyContent:"space-between",width:"full",children:[(0,u.jsx)(v.z,{size:"sm",colorScheme:"secondary",onClick:c,isDisabled:!R||!n||0===Number(I)||(null==w?void 0:w.isUnstakeInitiated),children:r((null==w?void 0:w.isUnstakeInitiated)?"myHoldings.buttons.unstakeInitiated":"myHoldings.buttons.unstake")}),(0,u.jsx)(tq,{})]})}),A&&(0,u.jsx)(tC,{label:r("myHoldings.stats.availableRewards"),number:(0,u.jsx)(U,{value:Number(A),minimumFractionDigits:0,maximumFractionDigits:4,postfix:z.mp,notation:"standard"}),helpText:t&&t$(eh(t.priceUsd).times(A).toNumber()),isLoading:!R,cta:(0,u.jsx)(v.z,{size:"sm",colorScheme:"green",onClick:()=>E({userAddress:n}),isLoading:D,isDisabled:!R||!n||0===Number(A)||(null==w?void 0:w.isUnstakeInitiated),children:r("myHoldings.buttons.claim")})})]})]})]}),(0,u.jsx)(tL,{userAddress:n,isOpen:s,onClose:l}),(0,u.jsx)(tV,{userAddress:n,isOpen:d,onClose:x})]}):(0,u.jsx)(u.Fragment,{})};var tJ=r(65373),t0=r(96186),t1=r(73595),t4=r(22122);let t5=e=>{let{label:t,value:r,helpText:i,isLoading:a,children:n,...s}=e;return(0,u.jsxs)(m.k,{justifyContent:"space-between",alignItems:"flex-start",gap:4,children:[(0,u.jsxs)(tg.k,{...s,children:[(0,u.jsx)(tj.d,{color:"text.subtle",children:t}),(0,u.jsx)(tk.J,{children:a?(0,u.jsx)(O.O,{display:"inline-block",height:"24px",width:"120px"}):r}),i&&(0,u.jsx)(ty.v,{children:a?(0,u.jsx)(O.O,{display:"inline-block",height:"16px",width:"100px"}):i})]}),n&&(0,u.jsx)(eQ.xu,{ml:"auto",children:n})]})};var t2=r(43316);let t6=e=>{let{totalSupply:t,totalStaked:r}=e,i=(0,S.useTranslations)("token"),a=(0,b.useMemo)(()=>[{id:i("networkCapacity.utilization.global.totalStaked"),color:"var(--chakra-colors-green-500)",data:[{x:"staked",y:r&&t?r/t*100:0}]},{id:i("networkCapacity.utilization.global.totalSupply"),color:"var(--primary)",data:[{x:"supply",y:100}]}],[t,r,i]);return(0,u.jsxs)(eQ.xu,{display:"flex",alignItems:"center",flexDir:{base:"column",xl:"row"},gap:8,children:[(0,u.jsx)(eQ.xu,{position:"relative",height:"200px",aspectRatio:"1/1",children:(0,u.jsx)(t2.W_,{data:a,valueFormat:">-.2f",padding:.4,cornerRadius:20,margin:{top:0,right:0,bottom:0,left:0},startAngle:-90,endAngle:270,enableTracks:!0,radialAxisStart:null,colors:["var(--chakra-colors-green-500)","var(--primary)"],tracksColor:"var(--muted)",enableRadialGrid:!1,enableCircularGrid:!1,enableLabels:!1,circularAxisOuter:null,maxValue:100,tooltip:e=>{let{bar:a}=e;return(0,u.jsxs)(eQ.xu,{bg:"var(--chakra-colors-chakra-body-bg)",p:2,borderRadius:"md",boxShadow:"md",children:[(0,u.jsx)(U,{value:"supply"===a.data.x?null!=t?t:0:null!=r?r:0,maximumFractionDigits:0}),(0,u.jsx)(y.x,{children:i("supply"===a.data.x?"networkCapacity.utilization.global.totalSupply":"networkCapacity.stats.totalStaked")})]})}})}),(0,u.jsx)(eQ.xu,{flex:1,display:"flex",width:{base:"100%",xl:"50%"},flexDir:{base:"row",xl:"column"},alignItems:{base:"start",xl:"center"},gap:6,justifyContent:"space-around",children:a.map(e=>(0,u.jsxs)(eQ.xu,{display:"flex",flex:1,alignItems:{base:"center",md:"flex-start"},gap:2,children:[(0,u.jsx)(eQ.xu,{w:2,h:2,borderRadius:"full",bg:e.color,mt:1}),(0,u.jsxs)(eQ.xu,{children:[(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"xs",children:e.id}),(0,u.jsx)(O.O,{isLoaded:!!t&&!!r,children:(0,u.jsx)(U,{value:"supply"===e.data[0].x?null!=t?t:0:null!=r?r:0,maximumFractionDigits:0,fontSize:"md",fontWeight:"medium"})})]})]},e.id))})]})};var t3=r(47699);let t8=e=>{let{consumedVCU:t,totalVCU:r}=e,i=(0,S.useTranslations)("token"),a=(0,b.useMemo)(()=>[{id:i("networkCapacity.utilization.global.consumed"),label:i("networkCapacity.utilization.global.consumed"),value:Number(null!=t?t:0),color:"var(--primary)"},{id:i("networkCapacity.utilization.global.available"),label:i("networkCapacity.utilization.global.available"),value:r-Number(null!=t?t:0),color:"var(--muted)"}],[t,r,i]),n=(0,b.useMemo)(()=>t&&r?t/r*100:0,[t,r]);return(0,u.jsx)(eQ.xu,{children:(0,u.jsxs)(eQ.xu,{height:"200px",position:"relative",children:[(0,u.jsx)(t3.Y2,{data:a,margin:{top:10,right:10,bottom:10,left:10},innerRadius:.8,padAngle:.5,cornerRadius:3,colors:{datum:"data.color"},enableArcLabels:!1,enableArcLinkLabels:!1,animate:!0,tooltip:()=>(0,u.jsx)(eQ.xu,{bg:"var(--chakra-colors-chakra-body-bg)",p:2,borderRadius:"md",boxShadow:"md",children:i("networkCapacity.utilization.global.helperText.networkUtilization",{used:Number(null!=t?t:0).toLocaleString(),total:r.toLocaleString()})})}),(0,u.jsxs)(eQ.xu,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"xl",fontWeight:"bold",children:[n.toFixed(1),"%"]})]})})};var t7=(0,er.$)("1acdf3e164f3b2ce5043f1f2f778b363d29f3e2a");let t9=()=>["vvv","vcu","global"],re=()=>(0,es.a)({queryKey:t9(),queryFn:()=>t7(new Date)});var rt=(0,er.$)("d15de206b30a62dd5608a3bc92dff6b540045891");let rr=()=>["vvv","vcu","user"],ri=()=>(0,es.a)({queryKey:rr(),queryFn:()=>rt()}),ra=e=>{let{epochBlockNumber:t}=e;return["vvv","totalStaked",null!=t?t:null]},rn=e=>{let{epochBlockNumber:t}=e,r=null==t?void 0:t.toString();return(0,es.a)({queryKey:ra({epochBlockNumber:r}),queryFn:()=>tu({blockNumber:r})})};var rs=(0,er.$)("1482db458b7980329d8d47bf55de28800741c45a");let ro=e=>{let{blockNumber:t}=e;return["vvv","totalSupply",null!=t?t:null]},rl=e=>{let{blockNumber:t}=e,r=null==t?void 0:t.toString();return(0,es.a)({queryKey:ro({blockNumber:r}),queryFn:()=>rs({blockNumber:r})})},rd=()=>{let e=(0,S.useTranslations)("token"),t=(0,Y.Sz)(et.St,e=>e.walletConnectAddress),{data:r}=rl({blockNumber:void 0}),{data:i,isLoading:a}=rn({epochBlockNumber:void 0}),{data:n}=tc({address:t,blockNumber:void 0}),{data:s}=re(),{data:o}=ri(),[l,d]=(0,b.useState)(!1),c=(0,b.useMemo)(()=>n?eJ(n,18).toNumber():null,[n]),x=(0,b.useMemo)(()=>n&&i?eh(n).div(i).times(100).toFixed(2):"0",[i,n]),f=(0,b.useMemo)(()=>i?eJ(i,18).toNumber():null,[i]),j=(0,b.useMemo)(()=>f?eh(z.mL).div(f).toNumber():null,[f]),k=Math.floor((0,b.useMemo)(()=>f&&n?eJ(n,18).toNumber()/f:0,[f,n])*z.mL),C=(0,b.useMemo)(()=>o?Number(o)/k*100:0,[o,k]);return(0,u.jsxs)(T,{children:[(0,u.jsxs)(p.K,{spacing:8,children:[(0,u.jsx)(m.k,{justify:"space-between",align:"center",children:(0,u.jsx)(g.X,{fontSize:"md",fontWeight:"medium",color:"text.subtle",children:e.rich("networkCapacity.title",{amount:()=>(0,u.jsx)(U,{as:"span",fontWeight:"medium",color:"green.500",postfixColor:"green.500",value:z.mL,maximumFractionDigits:2,postfix:"VCU",notation:"standard"})})})}),c&&c>0&&(0,u.jsx)(F.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(m.k,{justify:"space-between",align:"center",mb:6,children:(0,u.jsx)(y.x,{fontWeight:"medium",children:e("networkCapacity.utilization.my.title")})}),(0,u.jsxs)(h.M,{minChildWidth:"250px",spacing:6,children:[(0,u.jsx)(t5,{label:e("networkCapacity.utilization.my.stake"),value:(0,u.jsx)(U,{value:c,postfix:"VVV",notation:"standard"}),helpText:e("networkCapacity.utilization.my.helperText.stake",{percentage:x}),isLoading:a}),(0,u.jsx)(t5,{label:e("networkCapacity.utilization.my.dailyCompute"),value:(0,u.jsx)(U,{value:k,postfix:"VCU",notation:"standard"}),helpText:e("networkCapacity.utilization.my.helperText.dailyCompute",{value:null==j?void 0:j.toLocaleString()}),isLoading:a,children:(0,u.jsx)(tJ.D,{thickness:10,size:"100px",value:C,trackColor:"background.surface.muted",isIndeterminate:a,children:(0,u.jsx)(t4.u,{label:e("networkCapacity.utilization.my.helperText.usage",{used:null==o?void 0:o.toLocaleString(),total:k.toLocaleString()}),children:(0,u.jsxs)(t0.i,{fontSize:"sm",children:[C.toFixed(1),"%"]})})})})]})]})}),(0,u.jsxs)(h.M,{columns:{base:1,md:2},spacing:6,mb:6,children:[(0,u.jsx)(F.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(y.x,{fontWeight:"medium",mb:6,color:"text.subtle",children:e("networkCapacity.utilization.global.stakedVsSupply")}),(0,u.jsx)(eQ.xu,{width:"full",children:(0,u.jsx)(t6,{totalSupply:eJ(r||"0",18).toNumber(),totalStaked:f})})]})}),(0,u.jsx)(F.Z,{children:(0,u.jsxs)(L.e,{children:[(0,u.jsx)(m.k,{justifyContent:"space-between",alignItems:"center",mb:6,width:"full",children:(0,u.jsx)(y.x,{fontWeight:"medium",color:"text.subtle",children:e("networkCapacity.utilization.global.networkUtilization")})}),(0,u.jsx)(eQ.xu,{width:"full",children:(0,u.jsx)(t8,{consumedVCU:Number(s),totalVCU:z.mL})})]})})]})]}),(0,u.jsxs)(P.u_,{size:"xl",isOpen:l,onClose:()=>d(!1),children:[(0,u.jsx)(V.Z,{}),(0,u.jsx)(W.h,{children:(0,u.jsx)(t1.m,{setRoute:()=>null,onClose:()=>d(!1)})})]})]})};var rc=r(32230),ru=r(99376);let rx=(0,r(53755).I)({displayName:"CoinmarketCap Icon",path:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M13.944 9.56045C13.8193 9.64641 13.6736 9.69714 13.5225 9.70729C13.3713 9.71745 13.2202 9.68664 13.085 9.61813C12.7678 9.43891 12.5968 9.01867 12.5968 8.44599V6.69087C12.5968 5.84833 12.2631 5.24887 11.7048 5.08613C10.7613 4.81009 10.0568 5.96575 9.7849 6.40041L8.11631 9.10107V5.80507C8.09777 5.04493 7.85057 4.58967 7.38295 4.45371C7.07395 4.36307 6.61045 4.40015 6.15931 5.08819L2.42865 11.0766C1.93227 10.1269 1.6749 9.07055 1.67881 7.99897C1.67881 4.38985 4.56281 1.45436 8.11631 1.45436C11.6698 1.45436 14.5641 4.38985 14.5641 7.99897V8.01751C14.5641 8.01751 14.5641 8.02987 14.5641 8.03605C14.5991 8.73439 14.3725 9.29059 13.9461 9.56045H13.944ZM16.004 8.00103V7.96601C15.9752 3.56792 12.4485 0 8.11631 0C3.78413 0 0.236816 3.58852 0.236816 7.99897C0.236816 12.4094 3.77177 16 8.11631 16C10.1089 15.9999 12.0257 15.2361 13.4723 13.8658C13.6127 13.7335 13.6953 13.5513 13.7023 13.3585C13.7092 13.1657 13.6399 12.9779 13.5094 12.8358C13.4469 12.7667 13.3714 12.7107 13.2872 12.6709C13.203 12.6311 13.1117 12.6083 13.0187 12.6039C12.9256 12.5995 12.8326 12.6136 12.745 12.6452C12.6574 12.6769 12.5769 12.7256 12.5082 12.7885C11.8854 13.3793 11.1496 13.8381 10.3451 14.1374C9.5405 14.4368 8.68374 14.5705 7.82622 14.5305C6.96871 14.4904 6.12812 14.2775 5.35493 13.9046C4.58174 13.5316 3.8919 13.0062 3.32681 12.36L6.68461 6.96279V9.45333C6.68461 10.6502 7.14811 11.0375 7.53745 11.1508C7.92679 11.2641 8.52213 11.1858 9.14631 10.1723L11.0003 7.17085C11.058 7.07403 11.1136 6.99163 11.163 6.91953V8.44599C11.163 9.56457 11.6121 10.4586 12.399 10.8994C12.7569 11.0926 13.1601 11.1859 13.5664 11.1696C13.9727 11.1533 14.3671 11.028 14.7083 10.8067C15.5735 10.2444 16.0452 9.22673 15.9958 8.00103H16.004Z",fill:"currentColor"})}),viewBox:"0 0 16 16"}),rm={px:0,py:0},rh={fontSize:"md",fontWeight:"normal"},rp=e=>{let{marketData:t}=e,r=(0,S.useTranslations)("token"),i=(0,ru.useRouter)(),{data:a,isLoading:n}=rl({}),s=(0,b.useMemo)(()=>a?eJ(a,18).toNumber():null,[a]);return(0,u.jsxs)(T,{spacing:6,pt:6,children:[(0,u.jsxs)(m.k,{alignItems:"center",justifyContent:"space-between",children:[(0,u.jsx)(g.X,{size:"sm",children:r("tokenDetails.title")}),(0,u.jsxs)(j.r,{href:z.Y9,color:"text.link",isExternal:!0,children:[(0,u.jsx)(rx,{})," CoinMarketCap"]})]}),(0,u.jsx)(y.x,{whiteSpace:"pre-line",children:r.rich("tokenDetails.description",{link:e=>(0,u.jsx)(j.r,{href:"https://basescan.org/token/".concat(z.I_),color:"text.link",isExternal:!0,children:e})})}),(0,u.jsxs)(p.K,{spacing:6,children:[z.ZQ&&(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.price"),rowProps:rm,headingProps:rh,children:(0,u.jsxs)(O.O,{isLoaded:!!t,children:[t$(null==t?void 0:t.priceUsd)," ",(0,u.jsxs)(y.x,{as:"span",color:t&&0>Number(null==t?void 0:t.changePercent24Hr)?"red.500":"green.500",children:["(",Number(null==t?void 0:t.changePercent24Hr).toFixed(2),"%)"]})]})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.totalSupply"),rowProps:rm,headingProps:rh,children:(0,u.jsx)(O.O,{isLoaded:!n,children:s&&(0,u.jsx)(U,{value:s,minimumFractionDigits:0,maximumFractionDigits:2})})}),z.ZQ&&(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.marketCap"),rowProps:rm,headingProps:rh,children:(0,u.jsx)(O.O,{isLoaded:!!t,children:(null==t?void 0:t.marketCapUsd)&&(0,u.jsx)(U,{prefix:"$",value:Number(t.marketCapUsd),minimumFractionDigits:0,maximumFractionDigits:2})})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.stakingYield"),rowProps:rm,headingProps:rh,children:(0,u.jsx)(tq,{})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.contract"),rowProps:rm,headingProps:rh,children:(0,u.jsx)(j.r,{color:"text.link",href:"https://basescan.org/address/".concat(z.I_),isExternal:!0,fontSize:"md",children:z.I_.slice(0,6)})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.contractAudit"),rowProps:rm,headingProps:rh,children:(0,u.jsx)(j.r,{color:"text.link",href:"https://www.trust-security.xyz/venice-ai-audit",isExternal:!0,fontSize:"md",children:"View Audit"})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.trading.buySell"),rowProps:rm,headingProps:rh,children:(0,u.jsxs)(m.k,{gap:2,children:[(0,u.jsx)(t4.u,{label:r("tokenDetails.trading.tooltips.aerodrome"),placement:"left",children:(0,u.jsx)(k.h,{onClick:()=>i.push(z.xN),isRound:!0,"aria-label":r("tokenDetails.trading.tooltips.aerodrome"),icon:(0,u.jsx)(rc.q,{boxSize:"1rem",src:"/images/aerodrome.png"})})}),void 0!==z.bM&&(0,u.jsx)(t4.u,{label:r("tokenDetails.trading.tooltips.coinbase"),placement:"left",children:(0,u.jsx)(k.h,{onClick:()=>i.push(z.bM||""),isRound:!0,"aria-label":r("tokenDetails.trading.tooltips.coinbase"),icon:(0,u.jsx)(rc.q,{boxSize:"1rem",src:"/images/coinbase.png"})})})]})}),(0,u.jsx)(eG.X,{heading:r("tokenDetails.fields.links"),rowProps:{...rm,alignItems:"flex-start"},headingProps:rh,children:(0,u.jsxs)(p.K,{alignItems:"flex-end",children:[(0,u.jsx)(j.r,{color:"text.link",href:"https://venice.ai/faqs",isExternal:!0,children:r("tokenDetails.faqs")}),(0,u.jsx)(j.r,{color:"text.link",href:"https://cdn.prod.website-files.com/668e6f67ec8b61b6033ef1c8/679953150615a7e0ea76786d_Venice%20Fact%20Sheet%20(3).pdf",isExternal:!0,children:r("tokenDetails.factSheet")})]})})]})]})},rb={base:"column",lg:"row"},rf={base:"center",lg:"left"},rg=()=>{let e=(0,S.useTranslations)("token");return(0,u.jsxs)(m.k,{alignItems:"center",justifyContent:"space-between",gap:4,px:6,py:4,flexDir:rb,children:[(0,u.jsx)(g.X,{size:"lg",fontWeight:"normal",children:e("page.title")}),(0,u.jsx)(y.x,{color:"text.subtle",fontSize:"sm",fontWeight:"medium",textAlign:rf,children:e("page.subtitle")})]})},rj={base:"1fr",md:"1.75fr 1fr"},rk={borderRightWidth:{base:0,md:1},borderBottomWidth:{base:1,md:0},minHeight:{base:"auto",md:"100%"}},ry=(0,u.jsx)(x.c,{borderColor:"border.subtle"}),rC=()=>{let[e,t]=(0,b.useState)(null);return(0,b.useEffect)(()=>{(async()=>{if(!z.ZQ)return;let e=await fetch(z.ZQ);t((await e.json()).data)})()},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.C,{rightComponent:(0,u.jsx)(e6,{})}),(0,u.jsx)(m.k,{flexDir:"column",flex:1,overflowY:"auto",pt:"calc(env(safe-area-inset-top) + 58px)",minHeight:"100%",children:(0,u.jsxs)(h.M,{templateColumns:rj,alignItems:"start",height:"full",children:[(0,u.jsxs)(e2,{...rk,borderRadius:0,borderColor:"border.subtle",children:[(0,u.jsx)(rg,{}),(0,u.jsx)(e5,{marketData:e}),(0,u.jsxs)(p.K,{divider:ry,children:[(0,u.jsx)(tY,{marketData:e}),(0,u.jsx)(rd,{})]})]}),(0,u.jsx)(e2,{children:(0,u.jsxs)(p.K,{divider:ry,children:[(0,u.jsx)(rp,{marketData:e}),(0,u.jsx)(D,{})]})})]})})]})}},41124:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var i=r(57437),a=r(57174),n=r(25730);let s=(0,i.jsx)(a.R,{}),o=e=>(0,i.jsx)(n.h,{variant:"ghost",icon:s,fontSize:"xl",size:"md",isRound:!0,"aria-label":"back",...e})},72246:function(e,t,r){"use strict";r.d(t,{$:function(){return n}});var i=r(57437),a=r(4360);let n=e=>(0,i.jsx)(a.x,{textAlign:"center",fontWeight:"semibold",...e})},7414:function(e,t,r){"use strict";r.d(t,{X:function(){return u}});var i=r(57437),a=r(31384),n=r(13449),s=r(4360),o=r(72499),l=r(22053),d=r(45168),c=r(41425);let u=e=>{let{heading:t,icon:r,body:u,children:x,layout:m="inline",tooltipBody:h,onClick:p,hideChildren:b,hiddenMessage:f,rowProps:g,stackProps:j,badgeText:k,headingProps:y}=e;return(0,i.jsxs)(n.k,{columnGap:6,rowGap:4,justifyContent:"space-between",px:4,py:4,flexDir:"inline"===m?"row":"column",alignItems:"inline"===m?"center":"flex-start",width:"full",_last:{borderBottomRadius:"xl"},...g,...p&&{onClick:p,_hover:{bg:"background.button.secondary.hover"},_active:{bg:"background.button.secondary.pressed"},cursor:"pointer"},children:[t&&(0,i.jsxs)(n.k,{alignItems:"inline"===m?"flex-start":"center",width:"inline"===m?"auto":"full",justifyContent:"space-between",flexDir:"inline"===m?"column":"row",gap:2,minWidth:0,children:[(0,i.jsxs)(n.k,{gap:2,alignItems:"center",width:"100%",flexGrow:0,children:[r,(0,i.jsx)(s.x,{fontSize:"sm",flexGrow:0,fontWeight:"semibold",whiteSpace:"nowrap",color:"text.subtle",minWidth:0,overflow:"hidden",textOverflow:"ellipsis",...y,children:t}),k&&(0,i.jsx)(o.C,{colorScheme:"green",children:k}),h&&(0,i.jsx)(c.x,{label:h,children:(0,i.jsx)(l.xu,{as:"span",color:"text.subtle",children:(0,i.jsx)(d.Qoz,{})})})]}),!b&&u&&(0,i.jsx)(l.xu,{fontSize:"sm",children:u}),b&&f]}),x&&!b&&(0,i.jsx)(n.k,{flexDir:"inline"===m?"row":"column",gap:4,width:"inline"===m?"auto":"full",...j,children:x}),p&&(0,i.jsx)(a.m,{color:"text.subtle"})]})}},71272:function(e,t,r){"use strict";var i,a;r.d(t,{K:function(){return i}}),(a=i||(i={})).BackupHistory="backup-history",a.Settings="settings",a.PointHistory="point_history",a.ManageAccount="manage_account",a.ApiKeys="api_keys"},73595:function(e,t,r){"use strict";r.d(t,{m:function(){return G}});var i=r(57437),a=r(71416),n=r(37354),s=r(6924),o=r(4360),l=r(72499),d=r(16152),c=r(83657),u=r(61507),x=r(6314),m=r(34442),h=r(13449),p=r(13701),b=r(71632),f=r(42586),g=r(2265),j=r(45168),k=r(71272),y=r(38386),C=r(97244),v=r(78796),w=r(31631),S=r(97205),E=r(25730),T=r(22048),z=r(29827),D=r(21770);let I=()=>(0,i.jsxs)(n.Z,{bg:"var(--muted)",children:[(0,i.jsx)(y.O,{children:(0,i.jsx)(C.O,{width:"100px",height:"18px",startColor:"var(--secondary)",endColor:"var(--secondary-hover)"})}),(0,i.jsx)(s.e,{children:(0,i.jsx)(C.O,{height:"18px",startColor:"var(--secondary)",endColor:"var(--secondary-hover)"})})]}),A=e=>{let{id:t,description:r,last6Chars:a,createdAt:l}=e,d=(0,v.p)(),u=(0,z.NL)(),x=(0,f.useTranslations)(),m=(0,D.D)({mutationFn:async e=>{if(!(await fetch("/api/user/api_keys/destroy",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw Error("Error deleting key")},onSuccess:async()=>{await u.invalidateQueries({queryKey:["api_keys"]}),d({title:x("settings.apiKeys.delete.toast.title"),status:"success"})}}),p=(0,g.useCallback)(async()=>{if(window.confirm(x("settings.apiKeys.delete.confirmation")))try{await m.mutateAsync(t)}catch(e){T.Tb(e),console.error(e)}},[m,t,x]);return(0,i.jsx)(n.Z,{overflow:"hidden",children:(0,i.jsx)(s.e,{children:(0,i.jsxs)(c.K,{spacing:0,children:[(0,i.jsxs)(h.k,{alignItems:"center",justifyContent:"space-between",mb:2,children:[(0,i.jsx)(w.X,{size:"sm",children:r}),(0,i.jsx)(S.h,{spacing:2,variant:"ghost",size:"sm",flexShrink:0,children:(0,i.jsx)(E.h,{onClick:p,fontSize:"xl",icon:(0,i.jsx)(j.EF5,{}),colorScheme:"red","aria-label":"Show",isLoading:"pending"===m.status})})]}),(0,i.jsxs)(c.K,{spacing:2,children:[(0,i.jsxs)(o.x,{whiteSpace:"nowrap",as:"p",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",children:["*************************************",a]}),(0,i.jsxs)(o.x,{fontSize:"sm",color:"text.subtle",children:[x("settings.apiKeys.createdAt"),": ",new Date(l).toLocaleString()]})]})]})})})};var N=r(34096),F=r(27924),R=r(49270),M=r(95171),L=r(40748),O=r(12125),_=r(10883),K=r(68193),U=r(20517),q=r(34394),P=r(19383),V=r(48860),W=r(29501),H=r(1914),B=r(93020);let Q=e=>{let{isOpen:t,onClose:r}=e,a=(0,f.useTranslations)(),n=(0,z.NL)(),[s,o]=(0,g.useState)(null),{copyToClipboard:l,isCopied:c}=(0,H.m)({timeout:2e3}),u=(0,D.D)({mutationFn:async e=>{let{description:t}=e,r=await fetch("/api/user/api_keys/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})});if(!r.ok)throw Error("Error creating key");return r.json()},onSuccess:async()=>{await n.invalidateQueries({queryKey:["api_keys"]})}}),{register:x,handleSubmit:m,reset:h,formState:{errors:b,isValid:k,isSubmitting:y}}=(0,W.cI)({defaultValues:{description:""},mode:"onChange"}),C=(0,g.useCallback)(async e=>{o(await u.mutateAsync(e))},[u]),v=(0,g.useCallback)(()=>{o(null),r(),h()},[r,h]),w=(0,g.useMemo)(()=>s?(0,i.jsxs)(N.h,{children:[(0,i.jsx)(F.o,{}),(0,i.jsx)(R.x,{children:a("settings.apiKeys.createModal.success.header")}),(0,i.jsx)(d.f,{children:(0,i.jsxs)(M.NI,{mt:4,children:[(0,i.jsx)(L.l,{children:a("settings.apiKeys.createModal.success.label")}),(0,i.jsxs)(O.B,{children:[(0,i.jsx)(_.I,{value:s.apiKey,isReadOnly:!0}),(0,i.jsx)(K.x,{children:(0,i.jsx)(E.h,{icon:c?(0,i.jsx)(j.e6w,{}):(0,i.jsx)(j.muo,{}),onClick:()=>l(s.apiKey),"aria-label":"Copy API key"})})]}),(0,i.jsx)(M.Q6,{children:a("settings.apiKeys.createModal.fields.apiKeyHelper")})]})}),(0,i.jsx)(U.m,{children:(0,i.jsx)(p.z,{colorScheme:"secondary",onClick:v,children:a("settings.apiKeys.createModal.cta.close")})})]}):(0,i.jsx)("form",{onSubmit:(0,B.I)(m(C)),children:(0,i.jsxs)(N.h,{children:[(0,i.jsx)(F.o,{}),(0,i.jsx)(R.x,{children:a("settings.apiKeys.createModal.header")}),(0,i.jsx)(d.f,{children:(0,i.jsxs)(M.NI,{isInvalid:!!b.description,children:[(0,i.jsx)(L.l,{children:a("settings.apiKeys.createModal.fields.description")}),(0,i.jsx)(_.I,{...x("description",{required:"Description is required"})}),b.description&&(0,i.jsx)(q.J1,{children:b.description.message})]})}),(0,i.jsxs)(U.m,{children:[(0,i.jsx)(p.z,{colorScheme:"secondary",mr:3,onClick:r,isDisabled:y,children:a("settings.apiKeys.createModal.cta.cancel")}),(0,i.jsx)(p.z,{colorScheme:"primary",type:"submit",isDisabled:!k,isLoading:y,children:a("settings.apiKeys.createModal.cta.create")})]})]})}),[l,b.description,v,m,c,y,k,s,r,C,x,a]);return(0,i.jsxs)(P.u_,{size:"md",isOpen:t,onClose:v,children:[(0,i.jsx)(V.Z,{}),w]})};var X=r(41124),$=r(86537),Z=r(72246);let G=e=>{let{setRoute:t,onClose:r}=e,y=(0,f.useTranslations)(),{isOpen:C,onOpen:v,onClose:w}=(0,a.q)(),{data:S,status:E}=(0,b.a)({queryKey:["api_keys"],queryFn:async()=>{let e=await fetch("/api/user/api_keys");if(!e.ok)throw Error("Error fetching keys");return e.json()}}),T=(0,g.useCallback)(()=>{r?r():t(k.K.Settings)},[r,t]),z=(0,g.useCallback)(()=>{let e=(null==S?void 0:S.length)===0?"/":"/api-reference/api-spec";window.open("https://docs.venice.ai/".concat(e),"_blank")},[S]),D=(0,g.useMemo)(()=>"pending"===E?(0,i.jsx)(I,{}):(null==S?void 0:S.length)===0?(0,i.jsx)(n.Z,{children:(0,i.jsxs)(s.e,{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",gap:2,children:[(0,i.jsx)(j.BS5,{size:48,color:"var(--muted)"}),(0,i.jsx)(o.x,{textAlign:"center",color:"text.subtle",children:y("settings.apiKeys.empty")})]})}):null==S?void 0:S.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()).map(e=>(0,i.jsx)(A,{...e},e.id)),[S,E,y]),N=(0,i.jsx)(j.NQR,{});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)($.fK,{children:[(0,i.jsx)($.fK.Left,{children:(0,i.jsx)(X.r,{onClick:T})}),(0,i.jsxs)($.fK.Middle,{children:[(0,i.jsx)(j.BS5,{}),(0,i.jsxs)(Z.$,{children:[y("settings.apiKeys.header")," ",(0,i.jsx)(l.C,{colorScheme:"green",children:"Beta"})]})]})]}),(0,i.jsx)(d.f,{px:4,pb:4,children:(0,i.jsxs)(c.K,{spacing:4,children:[(0,i.jsxs)(u.b,{borderRadius:"lg",children:[(0,i.jsx)(x.z,{}),(0,i.jsx)(m.X,{fontSize:"sm",children:y("settings.apiKeys.description")})]}),(0,i.jsxs)(h.k,{justifyContent:"space-between",gap:2,flexWrap:"wrap",children:[(0,i.jsx)(p.z,{w:{base:"100%",md:"auto"},onClick:z,variant:"outline",leftIcon:N,size:"md","aria-label":"docs",children:"Docs"}),(0,i.jsx)(p.z,{w:{base:"100%",md:"auto"},size:"md",onClick:v,children:y("settings.apiKeys.cta.create")})]}),D]})}),(0,i.jsx)(Q,{isOpen:C,onClose:w})]})}},1914:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var i=r(2265);function a(e){let{timeout:t=2e3}=e,[r,a]=(0,i.useState)(!1);return{isCopied:r,copyToClipboard:(0,i.useCallback)(e=>{var r;(null===(r=navigator.clipboard)||void 0===r?void 0:r.writeText)&&e&&navigator.clipboard.writeText(e).then(()=>{a(!0),setTimeout(()=>{a(!1)},t)})},[t])}}},93020:function(e,t,r){"use strict";function i(e){return t=>{t.stopPropagation(),e(t)}}r.d(t,{I:function(){return i}})}},function(e){e.O(0,[6950,7240,1866,174,702,6251,8541,6613,7602,7064,156,2957,7394,1760,2415,9420,6333,477,7868,1450,5878,6318,1514,98,9307,9114,4575,8155,9108,8435,5355,4553,991,2971,9189,3649,1744],function(){return e(e.s=45850)}),_N_E=e.O()}]);